(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4a07"],{"3c45":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{id:"layout"}},[e.isLoaded?n("router-view"):e._e()],1)},a=[],s=(n("7db0"),n("4160"),n("caad"),n("9911"),n("159b"),n("96cf"),n("1da1")),i=n("5530"),c=(n("2934"),n("2f62")),o=(n("bc3a"),n("ed08")),u=n("2ef0"),d=n("a9dd"),p={name:"MainLayout",data:function(){return{loading:!1,isLoaded:!1}},computed:Object(i["a"])({},Object(c["b"])("menu",{menuList:function(e){return e.menuList}})),created:function(){this.getDefaultData()},methods:{getDefaultData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Object(o["d"])(500);case 4:e.$store.dispatch("app/setEnumRefs",d["c"]),n=e.removeRepeat(d["g"]),e.$store.dispatch("app/setAllEmployees",n),d["m"]&&(r=d["m"].userPreferences,localStorage.setItem("userPreferences",r),r&&(a=JSON.parse(r),s=a.appPreferences,i=a.tabPreferences,e.$store.dispatch("app/setAppUserPreferences",s),e.$store.dispatch("tabs/setTabUserPreferences",i))),e.redirectRouter(),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](1);case 13:return t.prev=13,e.isLoaded=!0,e.loading=!1,t.finish(13);case 17:case"end":return t.stop()}}),t,null,[[1,11,13,17]])})))()},removeRepeat:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(u["cloneDeep"])(e.departments);return n.forEach((function(e){var n=e.groups,r=[];n.forEach((function(e){var n=e,a=e.groupManagers,s=e.groupId,i=e.employees,c=a&&a.length>0;t&&(Object(u["remove"])(i,(function(e){return 0!==e.class})),c||0!==i.length||r.push(s)),n.groupCode+=s})),Object(u["remove"])(n,(function(e){return r.includes(e.groupId)}))})),{compManagers:e.compManagers,departments:n}},redirectRouter:function(){var e=this.$route.path;"/"!==e&&"/login"!==e?this.checkIfNeedToSetTab():this.$router.push({path:"/index"})},checkIfNeedToSetTab:function(){var e=this.$route.path,t=Object(o["e"])(this.menuList),n=t.find((function(t){return e==="/".concat(t.link)||e==="/".concat(t.menuCode)}));if(n){var r=n.id,a=n.menuCode,s=n.link,i=n.actions,c=n.viewType,u=n.i18n,d=n.title,p=this.$i18n.locale,l=u&&u[p]?u[p]:d,f={id:r,menuCode:a,link:s,actions:i,title:l};5===c&&(f.viewType=c),this.$store.dispatch("tabs/setTabs",f),this.$bus.$emit("check-tab-nav-width")}}}},l=p,f=n("2877"),h=Object(f["a"])(l,r,a,!1,null,null,null);t["default"]=h.exports}}]);