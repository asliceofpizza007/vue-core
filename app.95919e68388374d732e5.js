(function(e){function t(t){for(var n,i,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var o=a[i];0!==r[o]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},i={app:0},r={app:0},s=[];function o(e){return c.p+""+({}[e]||e)+"."+{"chunk-0e281af2":"9daa1649fd0412ac53c3","chunk-2d0b6d16":"ea0ded2a3fcf98deb482","chunk-2d0ba337":"5ff887d6c3a958c9980b","chunk-2d0c4710":"f909abfe873deaffc582","chunk-2d0c4a07":"d130226c12a1638e40d0","chunk-2d207f09":"0f28fbc1f3f2483552c5","chunk-2d224c9f":"61c27fe8445840a95b7a","chunk-2d225b78":"a4ddfbfcd5955829b3cb","chunk-2d229019":"38429b72609fff4460ff","chunk-4c0342ed":"f2f7ec11565e7d347285","chunk-6f67d100":"4d5b5ae544077a7ad527","chunk-77207a53":"643e864e67fb3b3fbc93","chunk-efa744fe":"c773d1ea3a6c45370ebf"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"chunk-0e281af2":1,"chunk-4c0342ed":1,"chunk-6f67d100":1,"chunk-efa744fe":1};i[e]?t.push(i[e]):0!==i[e]&&a[e]&&t.push(i[e]=new Promise((function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-0e281af2":"7f84ce5e","chunk-2d0b6d16":"31d6cfe0","chunk-2d0ba337":"31d6cfe0","chunk-2d0c4710":"31d6cfe0","chunk-2d0c4a07":"31d6cfe0","chunk-2d207f09":"31d6cfe0","chunk-2d224c9f":"31d6cfe0","chunk-2d225b78":"31d6cfe0","chunk-2d229019":"31d6cfe0","chunk-4c0342ed":"d86d1fd6","chunk-6f67d100":"4f8407d5","chunk-77207a53":"31d6cfe0","chunk-efa744fe":"1f6ce36c"}[e]+".css",r=c.p+n,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var l=s[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===r))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===n||u===r)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||r,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete i[e],p.parentNode.removeChild(p),a(s)},p.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){i[e]=0})));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(p);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",d.name="ChunkLoadError",d.type=n,d.request=i,a[1](d)}r[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/vue-core/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var p=u;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0582":function(e,t,a){},"0720":function(e){e.exports=JSON.parse('{"logOut":"logOut","switchPlatform":"switchPlatform","userPreference":{"toggleMenuList":"toggleMenuList","toggleTagList":"toggleTagList","recordTabs":"RecordTabs","fontSize":"fontSize"}}')},"088a":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{key:e.tableKey,attrs:{id:"tableWrapper"}},[a("ScrollBar",{style:{height:e.tableHeight+"px"},attrs:{alwaysShowTracks:!0}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"elTable",staticClass:"main-table",attrs:{data:e.tableData,border:"",stripe:e.stripe,"default-sort":e.defaultSort},on:{"sort-change":e.sortChange,"selection-change":e.handleSelectionChange}},[e.needSelection?a("el-table-column",{attrs:{type:"selection",width:"50"}}):e._e(),e._l(e.columnSetting,(function(t,n){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:e.$t(t.label),sortable:t.sortable?"custom":null,width:t.width?t.width:null,"min-width":t.minWidth?t.minWidth:null,fixed:!!t.fixed&&t.fixed},scopedSlots:e._u([{key:"default",fn:function(n){return[t.render?a("RenderJSX",{attrs:{render:t.render,scope:n}}):a("span",[e._v(e._s(n.row[t.prop]))])]}}],null,!0)},["sequence"===t.prop&&e.isSortable?a("template",{slot:"header"},[a("el-tooltip",{attrs:{effect:"dark",content:"若排序類別為此欄位類別時，可使用拖曳排序功能",placement:"top-start"}},[a("div",[a("i",{staticClass:"el-icon-sort",staticStyle:{"margin-right":"5px"}}),a("span",[e._v(e._s(e.$t(t.label)))])])])],1):e._e()],2)}))],2)],1),e.pagination?a("el-pagination",{attrs:{"current-page":e.pagination.pageNum,"page-size":e.pagination.pageSize,"page-sizes":e.pageSize,layout:"sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.pageSizeChange,"current-change":e.pageChange,"update:currentPage":function(t){return e.$set(e.pagination,"pageNum",t)},"update:current-page":function(t){return e.$set(e.pagination,"pageNum",t)}}}):e._e()],1)},i=[],r=(a("a623"),a("a9e3"),a("b64b"),a("96cf"),a("1da1")),s=a("5530"),o=a("3bd5"),c=a("aa47"),l=a("2f62"),u=a("6cdb"),d={name:"TableWrapper",components:{ScrollBar:u["a"],RenderJSX:o["a"]},props:{tableHeight:{type:Number,default:null},tableData:{type:Array,default:null},columnSetting:{type:Array,default:null},pagination:{type:Object,default:null},paginationType:{type:String,default:"normal"},totalSize:{type:Number,default:null},stripe:{type:Boolean,default:!0},needSelection:{type:Boolean,default:!1},isSortable:{type:Boolean,default:!1},currentSort:{type:Object,default:function(){return{prop:null,order:null}}},listLoading:{type:Boolean,default:!1}},data:function(){return{tableKey:0,sortable:null,defaultSort:{},tmpSort:{},pageSize:[]}},computed:Object(s["a"])({},Object(l["b"])("app",{pageSizeOption:function(e){return e.pageSizeOption}})),watch:{tableData:{handler:function(){this.setSortable()}},tableKey:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:e.setSortable();case 3:case"end":return t.stop()}}),t)})))()},currentSort:{handler:function(e){this.$refs.elTable.sort(e.prop,e.order)},deep:!0}},created:function(){this.defaultSort=this.currentSort,this.pageSize=this.pageSizeOption[this.paginationType]},mounted:function(){this.setSortable()},methods:{setSortable:function(){var e=this;if(this.isSortable){var t=this.$refs.elTable.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];this.sortable=c["a"].create(t,{ghostClass:"sortable-ghost",handle:".drag-handler",onEnd:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=a.oldIndex,i=a.newIndex,e.tableKey=Math.random(),e.$emit("sequence-change",{oldIndex:n,newIndex:i});case 3:case"end":return t.stop()}}),t)})));function a(e){return t.apply(this,arguments)}return a}()})}},pageChange:function(e){this.$emit("page-change",e)},pageSizeChange:function(e){this.$emit("page-size-change",e)},sortChange:function(e){var t=this,a=Object.keys(this.currentSort).every((function(a){return t.currentSort[a]===e[a]}));if(!a){var n=Object(s["a"])({},e);e.order?(this.tmpSort=n,this.$emit("sort-change",n)):(n=Object(s["a"])({},this.defaultSort),e.prop===this.defaultSort.prop&&(n.order="ascending"),this.$refs.elTable.sort(n.prop,n.order))}},handleSelectionChange:function(e){this.$emit("selection-change",e)},forceLayoutUpdate:function(){this.$refs.elTable.doLayout()}}},p=d,m=(a("08e3"),a("2877")),f=Object(m["a"])(p,n,i,!1,null,"041f701b",null),h=f.exports;t["a"]=h},"08e3":function(e,t,a){"use strict";var n=a("5146"),i=a.n(n);i.a},"0aa7":function(e,t,a){},"0c5e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"panelContent"},[a("MessageSubmitBlock",{attrs:{id:e.id,show:e.show,activeMessage:this.editRowData},on:{"handle-edit-show":e.handleEditShow,"reload-message":e.reloadMessage}}),a("div",{staticClass:"floatBlock"},[a("button",{attrs:{title:"置頂"},on:{click:e.handleGoTop}},[a("i",{staticClass:"el-icon-top"})]),a("button",{attrs:{title:"留言區"},on:{click:e.handleGoMsg}},[a("i",{staticClass:"el-icon-chat-line-square"})]),a("button",{class:{disabled:e.show},attrs:{title:"新增留言",disabled:e.show},on:{click:e.handleEditShow}},[a("i",{staticClass:"el-icon-plus"})])]),a("ScrollBar",{ref:"scrollbar",staticClass:"contentWrapper"},[a("div",{staticClass:"infoBox"},[a("div",{staticClass:"bottom"},[a("div",{staticClass:"row infoList"},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-s-management"}),e._v("交接類別：")]),a("div",{staticClass:"value"},[e._v(e._s(e.information.typeName))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-user-solid"}),e._v("交辦人員：")]),a("div",{staticClass:"value"},[e._v(e._s(e.information.publisher))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-edit-outline"}),e._v("負責人員：")]),a("div",{staticClass:"value"},[e.queryAccessKey?a("p",[e._v(e._s(e.information.editorsCount)+" 人")]):a("button",{attrs:{type:"button"},on:{click:function(t){return e.openMemberList("editors")}}},[e._v(e._s(e.information.editors.length)+" 人")])])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-date"}),e._v("交辦日期：")]),a("div",{staticClass:"value"},[e._v(e._s(e.information.publishDate))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-price-tag"}),e._v("交接標籤：")]),a("div",{staticClass:"value"},[e._v(e._s(e.information.tagName))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-finished"}),e._v("交接狀態：")]),a("div",{staticClass:"value"},[e._v(e._s(e.information.isFinish?"已結案":"未完成"))])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-view"}),e._v("閱讀人員：")]),a("div",{staticClass:"value"},[e.queryAccessKey?a("p",[e._v(e._s(e.information.readersCount)+" 人")]):a("button",{attrs:{type:"button"},on:{click:function(t){return e.openMemberList("readers")}}},[e._v(e._s(e.information.readers.length)+" 人")])])]),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-alarm-clock"}),e._v("完成日期：")]),a("div",{staticClass:"value"},[e._v(e._s(e.information.finishDate))])])]),a("div",{staticClass:"row inner-content"},[a("div",{staticClass:"item handover"},[a("div",{staticClass:"label"},[a("div",[a("i",{staticClass:"el-icon-files"}),e._v("內容：")]),a("div",{staticClass:"group"},[a("p",[e._v("已閱讀人數："+e._s(e.information.viewedCount))]),a("el-rate",{staticClass:"star",attrs:{disabled:!0,max:3},model:{value:e.information.importance,callback:function(t){e.$set(e.information,"importance",t)},expression:"information.importance"}})],1)]),a("div",{staticClass:"value"},[a("div",{ref:"content",staticClass:"content fr-view",domProps:{innerHTML:e._s(e.information.content)},on:{click:e.handleContentClick}})])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.information.files.length,expression:"information.files.length"}],staticClass:"row filePreview"},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-paperclip"}),e._v("附檔：")]),a("div",{staticClass:"value"},e._l(e.information.files,(function(t,n){return a("div",{key:t.id,staticClass:"file",attrs:{title:"下載檔案"},on:{click:function(a){return e.downloadFile(t.link,t.name)}}},[e._v(e._s(t.name))])})),0)])])])]),a("HandoverMessage",{ref:"handoverMessage",attrs:{id:e.id,isFinish:e.information.isFinish,show:e.show,messages:e.messages},on:{"handle-row-data":e.handleRowData}})],1),e.queryAccessKey?e._e():a("div",{staticClass:"buttonWrapper"},[a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.buttonEmit("create")}}},[a("i",{staticClass:"el-icon-document-copy"}),e._v("複製交接")]),a("el-button",{attrs:{type:"edit"},on:{click:e.collect}},[a("i",{staticClass:"fa fa-heart",class:e.information.isCollected?"red":""}),e._v("收藏")]),"reader"!==e.information.permission?a("el-button",{attrs:{type:"refresh"},on:{click:function(t){return e.buttonEmit("edit")}}},[a("i",{staticClass:"el-icon-edit"}),e._v("編輯")]):e._e(),e.information.isUrlPublic?a("el-button",{attrs:{type:"info"},on:{click:e.copyUrl}},[a("i",{staticClass:"el-icon-link"}),e._v("複製連結"),a("input",{directives:[{name:"copy",rawName:"v-copy",value:e.accessKey,expression:"accessKey"}],attrs:{id:"url-box",type:"hidden"}})]):e._e(),e.information.isFinish||"reader"===e.information.permission?e._e():a("el-button",{attrs:{type:"copy"},on:{click:e.closeCase}},[a("i",{staticClass:"el-icon-folder-checked"}),e._v("結案")]),"publisher"===e.information.permission?a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.buttonEmit("delete")}}},[a("i",{staticClass:"el-icon-delete"}),e._v("刪除")]):e._e()],1)],1)},i=[],r=(a("99af"),a("c740"),a("d81d"),a("a9e3"),a("96cf"),a("1da1")),s=a("2909"),o=a("f3f4"),c=a("6cdb"),l=a("ed08"),u=a("21a6"),d=a("296c"),p=a("6f6d"),m={name:"ShowHandover",components:{ScrollBar:c["a"],HandoverMessage:d["default"],MessageSubmitBlock:p["default"]},directives:{copy:{update:function(e,t,a){var n=e;if(""!==t.value){var i=window.location.protocol,r=window.location.host;n.value="".concat(i,"//").concat(r,"/publicHandovers?accessKey=").concat(t.value.accessKey),a.context.setCopyUrl(n)}}}},props:{id:{type:Number,default:null},parent:{type:String,default:null},row:{type:Object,default:null}},data:function(){return{loading:!1,information:{title:null,typeId:null,tagId:null,importance:1,editors:[],readers:[],isUrlPublic:!1,isFinish:!1,finishDate:null,content:"",files:[],contractors:[],publishDate:null,publisher:null,isCollected:!1,viewedCount:0,permission:null},accessKey:"",queryAccessKey:this.$route.query.accessKey,messages:null,editRowData:null,show:!1}},created:function(){this.getRowData()},methods:{handleContentClick:function(e){var t=e.target;if("IMG"===t.tagName&&this.$route.query.iframe){var a=Object(s["a"])(this.$refs.content.querySelectorAll("img")).map((function(e){return e.src})),n=a.findIndex((function(e){return t.src===e})),i={type:"lightBox",payload:{imgSrcList:a,imgIndex:n}};window.top.postMessage(i,"*")}},getRowData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,t.prev=1,!e.queryAccessKey){t.next=9;break}return t.next=5,o["a"].getPublicHandovers(e.queryAccessKey);case 5:a=t.sent,e.messages=a.message,t.next=12;break;case 9:return t.next=11,o["a"].getHandoversInfo(e.id);case 11:a=t.sent;case 12:a.publishDate=Object(l["g"])(a.publishDate),a.finishDate=Object(l["g"])(a.finishDate),a.content=Object(l["c"])(a.content),e.information=a,e.information.typeName=e.row.typeName,e.information.tagName=e.row.tagName,t.next=25;break;case 20:t.prev=20,t.t0=t["catch"](1),n=/^2/,i=JSON.parse(t.t0.message),i.status&&!n.test(i.status)&&(e.$emit("refresh-list"),e.closePanel());case 25:return t.prev=25,e.row&&!e.row.isRead&&e.$emit("refresh-list"),e.loading=!1,t.finish(25);case 29:case"end":return t.stop()}}),t,null,[[1,20,25,29]])})))()},buttonEmit:function(e){var t={action:e,id:this.id};this.$emit("handle-action",t),this.closePanel()},closeCase:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$confirm("確認結案？","提示",{confirmButtonText:"確認",cancelButtonText:"取消",cancelButtonClass:"cancelButton",confirmButtonClass:"confirmButton",type:"error"});case 3:return t.next=5,o["a"].updateHandoversclose(e.id);case 5:e.$message({message:"成功結案",type:"success"}),e.getRowData(),e.$emit("refresh-list"),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})))()},collect:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.information.isCollected=!e.information.isCollected,t.prev=1,!e.information.isCollected){t.next=7;break}return t.next=5,o["a"].addHandoversRcollect(e.id);case 5:t.next=9;break;case 7:return t.next=9,o["a"].deleteHandoverscollect(e.id);case 9:e.$emit("refresh-list"),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),e.$message({message:"無法進行收藏",type:"warning"});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},copyUrl:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].getPublicUrl(e.id);case 3:a=t.sent,e.accessKey=a,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$message({showClose:!0,message:"複製發生錯誤",type:"error"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},setCopyUrl:function(e){e.setAttribute("type","text"),e.focus(),e.select();var t=document.execCommand("copy"),a=t?"已複製到剪貼簿":"複製發生錯誤";this.$message({showClose:!0,message:a,type:"success"}),e.setAttribute("type","hidden"),window.getSelection().removeAllRanges(),this.accessKey=""},openMemberList:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i={editors:{title:"負責",member:t.information.editors},readers:{title:"閱讀",member:t.information.readers}},r=null!==(n=t.id)&&void 0!==n?n:t.information.id;try{s={component:"MembersChoose",headerTitle:"編號 ".concat(r," - ").concat(t.information.title," - ").concat(i[e].title,"人員"),contentSize:{width:"560px",height:"70%"},bgPanel:"#05517c"},o={selectedMembers:i[e].member,readOnly:!0},t.$store.dispatch("JsPanels/addPanel",{settings:s,props:o})}catch(c){}finally{t.listLoading=!1}case 3:case"end":return a.stop()}}),a)})))()},downloadFile:function(e,t){e&&t?Object(u["saveAs"])(e,t):this.$message({showClose:!0,message:"網址已失效",type:"error"})},closePanel:function(){this.$parent.$emit("close")},handleGoTop:function(){this.$refs.scrollbar.scrollToTop()},handleGoMsg:function(){var e=this.$el.querySelector(".messageBox");this.$refs.scrollbar.scrollToView(e)},handleEditShow:function(){this.editRowData=null,this.show=!this.show},handleRowData:function(e){this.handleEditShow(),this.editRowData=e},reloadMessage:function(){this.$refs.handoverMessage.getList()}}},f=m,h=(a("494e"),a("2877")),b=Object(h["a"])(f,n,i,!1,null,"9dc81c56",null);t["default"]=b.exports},"0f0f":function(e){e.exports=JSON.parse('{"enum":{"index_footer_1":"首頁首尾1","index_footer_2":"首頁首尾2","video_stop":"影片暫停","search_right_1":"搜尋頁右側1","search_right_2":"搜尋頁右側2","index_right":"首頁右側","index_left":"首頁左側","index_right_bottom":"首頁右下方","index_left_bottom":"首頁左下方","member_normal":"一般會員","member_vip":"VIP會員","same_page":"同頁","another_page":"另開","main_page":"主頁","search_page":"搜尋頁","index":"首頁","index_manage":"首頁管理","footer_manage":"頁尾管理"}}')},"0fd5":function(e,t,a){},"108d":function(e,t,a){"use strict";var n=a("b619"),i=a.n(n);i.a},1357:function(e,t,a){},"15ed":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"panelContent"},[a("div",{staticClass:"contentWrapper"},[a("el-form",{ref:"editForm",staticClass:"contentInner",attrs:{model:e.formData,rules:e.rules}},[a("el-form-item",{attrs:{label:"選單名稱",prop:"title"}},[a("el-input",{ref:"firstColumn",attrs:{placeholder:"請輸入名稱",clearable:"",maxlength:"10"},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1),a("el-form-item",{attrs:{label:"多國語系標題",prop:"i18nTitle"}},e._l(e.langMap,(function(t,n){return a("el-input",{key:n,staticClass:"i18nInput",attrs:{value:e.formData.i18n[n]},on:{input:function(t){return e.handleI18nInput(t,n)}}},[a("template",{slot:"prepend"},[e._v(e._s(t.label))])],2)})),1),a("el-form-item",{attrs:{label:"選單代碼",prop:"menuCode",rules:[{required:!0,message:"↑此項必填"}]}},[a("el-select",{staticClass:"menuCodeSelect",attrs:{value:e.formData.menuCode,placeholder:"字元限制 2-50 個英文字母",clearable:"",filterable:"","allow-create":""},on:{change:e.menuCodeChange,clear:e.reset}},e._l(e.filterPermissionRoutes,(function(e){return a("el-option",{key:e.menuCode,attrs:{label:e.menuCode,value:e.menuCode}})})),1)],1),a("el-form-item",{attrs:{label:"父層目錄",prop:"parentId"}},[a("el-select",{attrs:{placeholder:"請選擇父層"},on:{change:e.parentIdChange},model:{value:e.formData.parentId,callback:function(t){e.$set(e.formData,"parentId",t)},expression:"formData.parentId"}},e._l(e.filterParentOptions,(function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.title,disabled:e.isPermissionMenuCode&&1===t.id}})})),1)],1),a("el-form-item",{attrs:{label:"類型",prop:"menuType"}},[a("el-radio-group",{model:{value:e.formData.menuType,callback:function(t){e.$set(e.formData,"menuType",t)},expression:"formData.menuType"}},[a("el-radio",{attrs:{label:1,disabled:e.isPermissionMenuCode}},[e._v("目錄")]),a("el-radio",{attrs:{label:2,disabled:1===e.formData.parentId}},[e._v("頁面")])],1)],1),2===e.formData.menuType?[a("el-form-item",{attrs:{label:"開啟方式",prop:"openType"}},[a("el-radio-group",{model:{value:e.formData.openType,callback:function(t){e.$set(e.formData,"openType",t)},expression:"formData.openType"}},e._l(e.openTypeMap,(function(t){return a("el-radio",{key:t.label,attrs:{label:t.label,disabled:3!==t.label&&e.isPermissionMenuCode}},[e._v(e._s(t.name))])})),1)],1),1!==e.formData.openType?a("el-form-item",{staticClass:"attr",attrs:{label:"顯示方式",prop:"viewType"}},[a("el-radio-group",{model:{value:e.formData.viewType,callback:function(t){e.$set(e.formData,"viewType",t)},expression:"formData.viewType"}},e._l(e.computedViewType,(function(t){return a("el-radio",{key:t.label,attrs:{label:t.label,disabled:4!==t.label&&e.isPermissionMenuCode}},[e._v(e._s(t.name))])})),1)],1):e._e(),2===e.formData.openType&&2===e.formData.viewType||4===e.formData.openType?[a("el-form-item",{attrs:{label:"彈窗寬度(像素)",prop:"sizeWidth",rules:[{required:!0,message:"↑此項必填"},{validator:e.validator}]}},[a("el-input",{attrs:{placeholder:"單位為像素",clearable:""},model:{value:e.formData.sizeWidth,callback:function(t){e.$set(e.formData,"sizeWidth",e._n(t))},expression:"formData.sizeWidth"}})],1),a("el-form-item",{attrs:{label:"彈窗高度(像素)",prop:"sizeHeight",rules:[{required:!0,message:"↑此項必填"},{validator:e.validator}]}},[a("el-input",{attrs:{placeholder:"單位為像素",clearable:""},model:{value:e.formData.sizeHeight,callback:function(t){e.$set(e.formData,"sizeHeight",e._n(t))},expression:"formData.sizeHeight"}})],1)]:e._e(),2===e.formData.openType||5===e.formData.viewType?[a("el-form-item",{attrs:{label:"URL 位址",prop:"link",rules:[{required:!0,message:"↑此項必填"},{type:"url",message:"請輸入正確的網址"}]}},[a("el-input",{attrs:{placeholder:"請輸入完整網址，例：http://www.123.com",type:"url",required:"",clearable:""},model:{value:e.formData.link,callback:function(t){e.$set(e.formData,"link",t)},expression:"formData.link"}})],1)]:e._e(),[3,4].indexOf(e.formData.openType)>-1&&4===e.formData.viewType?[a("el-form-item",{attrs:{label:"元件名稱",prop:"link"}},[a("el-select",{attrs:{placeholder:"請選擇元件名稱",clearable:"",filterable:""},model:{value:e.formData.link,callback:function(t){e.$set(e.formData,"link",t)},expression:"formData.link"}},e._l(e.avaliableComponents,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)]:e._e()]:e._e(),a("el-form-item",{attrs:{label:e.$t("th.riskLevel"),props:"riskLevel",rules:[{required:!0,message:"↑此項必填"}]}},[a("el-radio-group",{staticClass:"risk-level",model:{value:e.formData.riskLevel,callback:function(t){e.$set(e.formData,"riskLevel",t)},expression:"formData.riskLevel"}},e._l(4,(function(t){return a("el-radio-button",{key:t,attrs:{label:t}},[e._v(e._s(""))])})),1)],1),a("el-form-item",{attrs:{label:e.$t("th.isEnabled"),prop:"isEnabled"}},[a("el-switch",{staticClass:"switch-group",attrs:{"active-text":"啟用","inactive-text":"停用"},model:{value:e.formData.isEnabled,callback:function(t){e.$set(e.formData,"isEnabled",t)},expression:"formData.isEnabled"}})],1),a("el-form-item",{attrs:{label:"圖示名稱",prop:"iconName"}},[a("div",{staticClass:"iconBlock"},[a("el-select",{staticClass:"icon-select",attrs:{filterable:"","popper-class":"iconDropdown",palceholder:"請輸入 icon 名稱"},model:{value:e.formData.iconName,callback:function(t){e.$set(e.formData,"iconName",t)},expression:"formData.iconName"}},e._l(e.iconOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}},[a("span",{class:"fa fa-"+e})])})),1),e.formData.iconName&&e.formData.title?a("div",{staticClass:"demo"},[a("span",{class:"fa fa-"+e.formData.iconName}),a("span",[e._v(e._s(e.formData.title))])]):e._e()],1)])],2)],1),a("div",{staticClass:"buttonWrapper"},[a("el-button",{attrs:{type:"danger"},on:{click:e.closePanel}},[e._v("取消")]),"view"!==e.action?a("el-button",{attrs:{type:"success"},on:{click:e.checkValidate}},[e._v("儲存")]):e._e()],1)])},i=[],r=(a("99af"),a("4de4"),a("7db0"),a("c740"),a("4160"),a("a9e3"),a("b64b"),a("ac1f"),a("5319"),a("498a"),a("159b"),a("2909")),s=(a("96cf"),a("1da1")),o=a("5530"),c=(a("bc3a"),a("9202")),l=(a("2934"),a("b047")),u=a.n(l),d=a("0644"),p=a.n(d),m=["glass","music","search","envelope-o","heart","star","star-o","user","film","th-large","th","th-list","check","times","search-plus","search-minus","power-off","signal","cog","trash-o","home","file-o","clock-o","road","download","arrow-circle-o-down","arrow-circle-o-up","inbox","play-circle-o","repeat","refresh","list-alt","lock","flag","headphones","volume-off","volume-down","volume-up","qrcode","barcode","tag","tags","book","bookmark","print","camera","font","bold","italic","text-height","text-width","align-left","align-center","align-right","align-justify","list","outdent","indent","video-camera","picture-o","pencil","map-marker","adjust","tint","pencil-square-o","share-square-o","check-square-o","arrows","step-backward","fast-backward","backward","play","pause","stop","forward","fast-forward","step-forward","eject","chevron-left","chevron-right","plus-circle","minus-circle","times-circle","check-circle","question-circle","info-circle","crosshairs","times-circle-o","check-circle-o","ban","arrow-left","arrow-right","arrow-up","arrow-down","share","expand","compress","plus","minus","asterisk","exclamation-circle","gift","leaf","fire","eye","eye-slash","exclamation-triangle","plane","calendar","random","comment","magnet","chevron-up","chevron-down","retweet","shopping-cart","folder","folder-open","arrows-v","arrows-h","bar-chart","twitter-square","facebook-square","camera-retro","key","cogs","comments","thumbs-o-up","thumbs-o-down","star-half","heart-o","sign-out","linkedin-square","thumb-tack","external-link","sign-in","trophy","github-square","upload","lemon-o","phone","square-o","bookmark-o","phone-square","twitter","facebook","github","unlock","credit-card","rss","hdd-o","bullhorn","bell","certificate","hand-o-right","hand-o-left","hand-o-up","hand-o-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","globe","wrench","tasks","filter","briefcase","arrows-alt","users","link","cloud","flask","scissors","files-o","paperclip","floppy-o","square","bars","list-ul","list-ol","strikethrough","underline","table","magic","truck","pinterest","pinterest-square","google-plus-square","google-plus","money","caret-down","caret-up","caret-left","caret-right","columns","sort","sort-desc","sort-asc","envelope","linkedin","undo","gavel","tachometer","comment-o","comments-o","bolt","sitemap","umbrella","clipboard","lightbulb-o","exchange","cloud-download","cloud-upload","user-md","stethoscope","suitcase","bell-o","coffee","cutlery","file-text-o","building-o","hospital-o","ambulance","medkit","fighter-jet","beer","h-square","plus-square","angle-double-left","angle-double-right","angle-double-up","angle-double-down","angle-left","angle-right","angle-up","angle-down","desktop","laptop","tablet","mobile","circle-o","quote-left","quote-right","spinner","circle","reply","github-alt","folder-o","folder-open-o","smile-o","frown-o","meh-o","gamepad","keyboard-o","flag-o","flag-checkered","terminal","code","reply-all","star-half-o","location-arrow","crop","code-fork","chain-broken","question","info","exclamation","superscript","subscript","eraser","puzzle-piece","microphone","microphone-slash","shield","calendar-o","fire-extinguisher","rocket","maxcdn","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-circle-down","html5","css3","anchor","unlock-alt","bullseye","ellipsis-h","ellipsis-v","rss-square","play-circle","ticket","minus-square","minus-square-o","level-up","level-down","check-square","pencil-square","external-link-square","share-square","compass","caret-square-o-down","caret-square-o-up","caret-square-o-right","eur","gbp","usd","inr","jpy","rub","krw","btc","file","file-text","sort-alpha-asc","sort-alpha-desc","sort-amount-asc","sort-amount-desc","sort-numeric-asc","sort-numeric-desc","thumbs-up","thumbs-down","youtube-square","youtube","xing","xing-square","youtube-play","dropbox","stack-overflow","instagram","flickr","adn","bitbucket","bitbucket-square","tumblr","tumblr-square","long-arrow-down","long-arrow-up","long-arrow-left","long-arrow-right","apple","windows","android","linux","dribbble","skype","foursquare","trello","female","male","gratipay","sun-o","moon-o","archive","bug","vk","weibo","renren","pagelines","stack-exchange","arrow-circle-o-right","arrow-circle-o-left","caret-square-o-left","dot-circle-o","wheelchair","vimeo-square","try","plus-square-o","space-shuttle","slack","envelope-square","wordpress","openid","university","graduation-cap","yahoo","google","reddit","reddit-square","stumbleupon-circle","stumbleupon","delicious","digg","pied-piper-pp","pied-piper-alt","drupal","joomla","language","fax","building","child","paw","spoon","cube","cubes","behance","behance-square","steam","steam-square","recycle","car","taxi","tree","spotify","deviantart","soundcloud","database","file-pdf-o","file-word-o","file-excel-o","file-powerpoint-o","file-image-o","file-archive-o","file-audio-o","file-video-o","file-code-o","vine","codepen","jsfiddle","life-ring","circle-o-notch","rebel","empire","git-square","git","hacker-news","tencent-weibo","qq","weixin","paper-plane","paper-plane-o","history","circle-thin","header","paragraph","sliders","share-alt","share-alt-square","bomb","futbol-o","tty","binoculars","plug","slideshare","twitch","yelp","newspaper-o","wifi","calculator","paypal","google-wallet","cc-visa","cc-mastercard","cc-discover","cc-amex","cc-paypal","cc-stripe","bell-slash","bell-slash-o","trash","copyright","at","eyedropper","paint-brush","birthday-cake","area-chart","pie-chart","line-chart","lastfm","lastfm-square","toggle-off","toggle-on","bicycle","bus","ioxhost","angellist","cc","ils","meanpath","buysellads","connectdevelop","dashcube","forumbee","leanpub","sellsy","shirtsinbulk","simplybuilt","skyatlas","cart-plus","cart-arrow-down","diamond","ship","user-secret","motorcycle","street-view","heartbeat","venus","mars","mercury","transgender","transgender-alt","venus-double","mars-double","venus-mars","mars-stroke","mars-stroke-v","mars-stroke-h","neuter","genderless","facebook-official","pinterest-p","whatsapp","server","user-plus","user-times","bed","viacoin","train","subway","medium","y-combinator","optin-monster","opencart","expeditedssl","battery-full","battery-three-quarters","battery-half","battery-quarter","battery-empty","mouse-pointer","i-cursor","object-group","object-ungroup","sticky-note","sticky-note-o","cc-jcb","cc-diners-club","clone","balance-scale","hourglass-o","hourglass-start","hourglass-half","hourglass-end","hourglass","hand-rock-o","hand-paper-o","hand-scissors-o","hand-lizard-o","hand-spock-o","hand-pointer-o","hand-peace-o","trademark","registered","creative-commons","gg","gg-circle","tripadvisor","odnoklassniki","odnoklassniki-square","get-pocket","wikipedia-w","safari","chrome","firefox","opera","internet-explorer","television","contao","500px","amazon","calendar-plus-o","calendar-minus-o","calendar-times-o","calendar-check-o","industry","map-pin","map-signs","map-o","map","commenting","commenting-o","houzz","vimeo","black-tie","fonticons","reddit-alien","edge","credit-card-alt","codiepie","modx","fort-awesome","usb","product-hunt","mixcloud","scribd","pause-circle","pause-circle-o","stop-circle","stop-circle-o","shopping-bag","shopping-basket","hashtag","bluetooth","bluetooth-b","percent","gitlab","wpbeginner","wpforms","envira","universal-access","wheelchair-alt","question-circle-o","blind","audio-description","volume-control-phone","braille","assistive-listening-systems","american-sign-language-interpreting","deaf","glide","glide-g","sign-language","low-vision","viadeo","viadeo-square","snapchat","snapchat-ghost","snapchat-square","pied-piper","first-order","yoast","themeisle","google-plus-official","font-awesome","handshake-o","envelope-open","envelope-open-o","linode","address-book","address-book-o","address-card","address-card-o","user-circle","user-circle-o","user-o","id-badge","id-card","id-card-o","quora","free-code-camp","telegram","thermometer-full","thermometer-three-quarters","thermometer-half","thermometer-quarter","thermometer-empty","shower","bath","podcast","window-maximize","window-minimize","window-restore","window-close","window-close-o","bandcamp","grav","etsy","imdb","ravelry","eercast","microchip","snowflake-o","superpowers","wpexplorer"],f=m,h=a("1b62"),b=a("ed08"),g=a("2f62"),v=a("a9dd"),y={name:"EditSystemNav",mixins:[h["b"]],props:{id:{type:Number,default:null},action:{type:String,default:null}},data:function(){return{formData:{title:null,link:null,parentId:null,menuCode:null,iconName:null,menuType:null,openType:1,viewType:1,riskLevel:1,isEnabled:!0,sizeWidth:null,sizeHeight:null,i18n:{}},loading:!1,iconOptions:[],selectOptions:[],permissionRoutes:[],isPermissionRoute:!1,tmpCode:null,validator:b["f"],openTypeMap:[{name:"另開視窗",label:2},{name:"Tab",label:3},{name:"JsPanel",label:4}],viewTypeMap:[{name:"分頁",label:2},{name:"彈窗",label:3},{name:"inline",label:4},{name:"iFrame",label:5}]}},computed:Object(o["a"])(Object(o["a"])({},Object(g["b"])("app",{langMap:function(e){return e.langMap},availablePanels:function(e){return e.availablePanels},availablePages:function(e){return e.availablePages}})),{},{avaliableComponents:function(){var e=this.availablePanels,t=this.availablePages,a=this.formData,n=a.openType,i=a.viewType;if(4===i){if(3===n)return t;if(4===n)return e}return[]},filterPermissionRoutes:function(){var e=this;return this.permissionRoutes.filter((function(t){return e.id?!t.title||t.menuCode===e.tmpCode:!t.title}))},filterParentOptions:function(){var e=this;return this.selectOptions.filter((function(t){return t.title!==e.formData.title}))},computedViewType:function(){var e=this;return this.viewTypeMap.filter((function(t){return 2===e.formData.openType?t.label<4:t.label>3}))},isPermissionMenuCode:function(){var e=this,t=this.permissionRoutes.findIndex((function(t){return t.menuCode===e.formData.menuCode}));return-1!==t&&!!this.formData.menuCode},validMenuOptions:function(){return this.permissionRoutes.filter((function(e){return!e.menuName}))}}),created:function(){var e=this;Object.keys(this.langMap).forEach((function(t){e.$set(e.formData.i18n,t,null)})),this.getOptions(),this.iconOptions=f},methods:{getRowData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b["d"])(500);case 3:a=p()(v["j"]),e.tmpCode=a.menuCode,Object.keys(e.formData).forEach((function(t){null!==a[t]&&"undefined"!==typeof a[t]&&("i18n"!==t?e.formData[t]=a[t]:Object.keys(e.formData[t]).forEach((function(n){a[t][n]&&(e.formData[t][n]=a[t][n])})))})),e.permissionRoutes.forEach((function(t){t.menuCode===e.formData.menuCode&&(e.isPermissionRoute=!0)})),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getOptions:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Object(b["d"])(500);case 4:if(a=v["i"],n=v["k"],e.permissionRoutes=a,i=[{id:1,title:"無"}],n.list.forEach((function(t){1===t.parentId&&i.push({id:t.id,title:t.title}),t.children.length&&(i=[].concat(Object(r["a"])(i),Object(r["a"])(e.formatParentCatalog(t.children))))})),e.selectOptions=i,"addChild"!==e.action){t.next=14;break}e.formData.parentId=e.id,t.next=17;break;case 14:if(!e.id){t.next=17;break}return t.next=17,e.getRowData();case 17:t.next=24;break;case 19:t.prev=19,t.t0=t["catch"](1),s=/^2/,o=JSON.parse(t.t0.message),o.status&&!s.test(o.status)&&(e.$emit("refresh-page"),e.closePanel());case 24:return t.prev=24,e.loading=!1,t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[1,19,24,27]])})))()},formatParentCatalog:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){if(1===e.menuType){var n={id:e.id,title:e.title};a.push(n),e.children.length>0&&t.formatParentCatalog(e.children,a)}})),a},checkValidate:function(){var e=this;this.$refs.editForm.validate((function(t){t&&e.submitWhenValidate()}))},submitWhenValidate:u()(Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[this.formDataPayload],c["a"].addSystemNav,a="資料新增成功","edit"===this.action&&(t.push(this.id),c["a"].updateSystemNav,a="資料更新成功"),e.prev=4,this.loading=!0,e.next=8,Object(b["d"])(500);case 8:this.$message({message:a,type:"success"}),this.$emit("refresh-page"),this.closePanel(),e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](4);case 15:return e.prev=15,this.loading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[4,13,15,18]])}))),600),handleI18nInput:function(e,t){var a=e.trim();""===e&&(a=null),this.formData.i18n[t]=a},menuCodeChange:function(e){var t=/[^a-z]/gi;this.formData.menuCode=e.replace(t,"").substring(0,50);var a=this.permissionRoutes.find((function(t){return t.menuCode===e}));this.isPermissionRoute!==Boolean(a)&&(this.isPermissionRoute=Boolean(a),this.reset())},parentIdChange:function(e){e||this.reset(!0)},reset:function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=["link","menuType","openType","viewType","sizeWidth","sizeHeight"],a=0;a<t.length;a+=1)this.formData[t[a]]=null;e||(this.formData.parentId=null)},closePanel:function(){this.$parent.$emit("close")}}},k=y,w=(a("a04b"),a("2877")),C=Object(w["a"])(k,n,i,!1,null,"7288dd9d",null);t["default"]=C.exports},1642:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"view",staticClass:"views",attrs:{id:"systemConfig"}},[a("ScrollBar",{staticClass:"tableSection",style:{height:e.tableHeight+"px"},attrs:{alwaysShowTracks:!0}},[a("div",{staticClass:"rule"},[a("span",[e._v("變數名稱：僅接受大寫英文、底線、數字，且必須為英文開頭")])]),a("div",{staticClass:"tableColumn"},e._l(e.formData,(function(t,n){return a("el-form",{key:n,ref:"editForm",refInFor:!0,staticClass:"tableGroup",attrs:{model:t}},[a("el-form-item",{staticClass:"name-content side-error",attrs:{prop:"name",rules:e.getNameValidation(n)}},[a("el-input",{attrs:{placeholder:"請輸入變數名稱"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"list.name"}})],1),a("el-form-item",{staticClass:"value-content side-error",attrs:{prop:"value",rules:{required:!0,message:"請輸入值",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"請輸入值"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"list.value"}})],1),a("el-form-item",{staticClass:"description-content side-error",attrs:{prop:"description",rules:{required:!0,message:"請輸入描述",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"請輸入描述，限 100 字",maxlength:"100"},model:{value:t.description,callback:function(a){e.$set(t,"description",a)},expression:"list.description"}})],1),a("el-form-item",{staticClass:"action-content"},[a("el-button",{attrs:{size:"small",type:"bd-cancel",icon:"el-icon-delete"},on:{click:function(a){return e.checkDeletList(t,n)}}},[e._v(e._s(t.isEnter?"確認刪除?":"刪除"))])],1)],1)})),1)]),a("div",{ref:"btnBlock",staticClass:"btnBlock"},[a("div",{staticClass:"btnWrap"},[a("el-button",{attrs:{type:"edit"},on:{click:e.appendList}},[e._v("新增列表")]),a("el-button",{attrs:{type:"success"},on:{click:e.checkValidate}},[e._v("儲存")])],1)])],1)},i=[],r=(a("a4d3"),a("e01a"),a("4160"),a("d81d"),a("a434"),a("b0c0"),a("4d63"),a("ac1f"),a("25f0"),a("159b"),a("96cf"),a("1da1")),s=a("6cdb"),o=a("b047"),c=a.n(o),l=a("c1fb"),u={getSystemConfigsList:function(){return Object(l["a"])({url:"/v1/systemConfigs",method:"get"})},updateSystemConfigs:function(e){return Object(l["a"])({url:"/v1/systemConfigs",method:"put",data:e})}},d={name:"SystemConfig",components:{ScrollBar:s["a"]},data:function(){return{tableHeight:0,listLoading:!1,formData:[]}},created:function(){this.getList(),this.$bus.$on("resize-table-height",this.setTableHeight)},mounted:function(){this.setTableHeight()},activated:function(){this.setTableHeight()},beforeDestroy:function(){this.$store.dispatch("JsPanels/closePanelByParent",this.$options.name),this.$bus.$off("resize-table-height")},methods:{getList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!0,t.prev=1,t.next=4,u.getSystemConfigsList();case 4:a=t.sent,a&&a.length?e.formData=a.map((function(e){return{name:e.name,value:e.value,description:e.description,isEnter:null,timer:null}})):e.appendList(),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:return t.prev=10,e.listLoading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,8,10,13]])})))()},appendList:function(){var e={name:null,value:null,description:null,isEnter:null,timer:null};this.formData.push(e)},checkDeletList:function(e,t){var a=this,n=e;n.isEnter+=1,1===n.isEnter&&(n.timer=setTimeout((function(){a.restDeletList(n),n.timer=null}),3e3)),2===n.isEnter&&n.timer&&this.formData.splice(t,1)},restDeletList:function(e){var t=e;null!==t.timer&&(t.isEnter=null,clearTimeout(t.timer))},getNameValidation:function(e){var t=this;return[{required:!0,validator:function(a,n,i){n?t.checkValidator(n,e)?i():i(new Error("格式不正確")):i(new Error("請輸入變數名稱"))}}]},checkValidator:function(e,t){var a=e.toUpperCase(),n=new RegExp("^[A-Z][A-Z0-9_]*$");return this.formData[t].name=a,n.test(a)},setTableHeight:function(){var e=this.$refs.btnBlock.offsetHeight,t=this.$refs.view.offsetHeight;this.tableHeight=t-e-40},checkValidate:function(){var e=this.$refs.editForm,t=0;e.forEach((function(e){e.validate((function(e){e&&(t+=1)}))})),e.length===t&&this.submitWhenValidate()},submitWhenValidate:c()(Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],this.formData.forEach((function(e){t.push({name:e.name,value:e.value,description:e.description})})),e.prev=2,e.next=5,u.updateSystemConfigs(t);case 5:this.$message({message:"資料更新成功",type:"success"}),this.getList(),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](2);case 11:case"end":return e.stop()}}),e,this,[[2,9]])}))),600)}},p=d,m=(a("80e5"),a("2877")),f=Object(m["a"])(p,n,i,!1,null,"1aca9dcd",null);t["default"]=f.exports},"1b62":function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return p}));a("99af"),a("ac1f"),a("1276");var n=a("5530"),i=(a("96cf"),a("1da1")),r=(a("2934"),a("8e27"),a("c354"),a("2b0e"),a("4de4"),a("7db0"),a("4160"),a("d81d"),a("13d5"),a("b0c0"),a("b64b"),a("466d"),a("498a"),a("9911"),a("159b"),a("b047")),s=a.n(r),o=a("2f62"),c={data:function(){return{showDefaultAction:!0,functionalCol:{mailInfo:{btnType:"bd-send",icon:"el-icon-message"},subCategory:{btnType:"bd-sub",icon:"el-icon-folder-opened"},record:{btnType:"bd-record",icon:"el-icon-document"},view:{btnType:"bd-view",icon:"el-icon-view"},edit:{btnType:"bd-edit",icon:"el-icon-edit"},copy:{btnType:"bd-copy",icon:"el-icon-document-copy"},delete:{btnType:"bd-cancel",icon:"el-icon-delete"},deleteRank:{btnType:"bd-cancel",icon:"el-icon-delete"},keywordSequence:{btnType:"bd-success",icon:"el-icon-plus"},addChild:{btnType:"bd-success",icon:"el-icon-plus"}},pagination:{pageNum:1,pageSize:15},paginationType:"normal"}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(o["b"])("tabs",{tabs:function(e){return e.tabs}})),Object(o["b"])("app",{pageSizeSelect:function(e){return e.pageSizeSelect}})),{},{getPayLoad:function(){var e=this,t={page:this.pagination.pageNum,pageSize:this.pagination.pageSize};return Object.keys(this.condition).forEach((function(a){var n=e.condition[a];n&&"string"===typeof n&&(n=n.trim(),e.condition[a]=n),t[a]=n})),t},getSorter:function(){return{prop:this.condition.sortName,order:"ASC"===this.condition.sort?"ascending":"descending"}},getCurrentTab:function(){var e=this;return this.tabs.find((function(t){return t.link===e.$route.name}))},getActions:function(){return this.getCurrentTab?this.getCurrentTab.actions:{}},checkActions:function(){var e=this,t=[];return this.getActions?(Object.keys(this.getActions).forEach((function(a){var n=/create|delete|update/;if(n.test(a)&&e.getActions[a]){if("update"===a)return void t.push("edit");t.push(a)}})),this.getActions.readSingle&&(this.getActions.create&&t.unshift("copy"),this.getActions.update||t.unshift("view")),t):t},getTableActions:function(){var e=this,t=["view","copy","edit","delete"],a=t.filter((function(t){return e.checkActions.find((function(e){return e===t}))}));return this.customAction&&this.customAction.length&&this.customAction.forEach((function(e){a.unshift(e)})),a},buttonsWidth:function(){var e=this,t=45,a=12,n=25,i=this.getTableActions.length,r=10*(i-1),s=this.getTableActions.reduce((function(t,a){var n=e.$t("functionalButton.".concat(a));return t+n}),""),o=s.match(/[A-Z,a-z]/g),c=o?o.length:0,l=(s.length-c)*a,u=c*(a/2);return i*t+u+l+n+r}}),created:function(){this.getTableActions.length&&this.showDefaultAction&&this.setFunctionColumn(),this.pagination.pageSize=this.pageSizeSelect[this.paginationType]},methods:{setFunctionColumn:function(){var e=this;this.$createElement;this.columnSetting.push({label:"th.function",prop:"func",width:this.buttonsWidth,fixed:"right",render:function(t,a){var n=a.row,i=n.isEnabled;return t("div",{class:"btn-wrap"},[e.getTableActions.map((function(a){return t("el-button",{key:a,attrs:{size:"small",type:e.functionalCol[a].btnType,icon:e.functionalCol[a].icon,disabled:i&&"delete"===a,title:i&&"delete"===a?"請先停用再刪除":null},on:{click:function(){e.handleAction({action:a,row:n})}}},[e.$t("functionalButton.".concat(a))])}))])}})},setTableHeight:function(){var e=this.$refs.searchBlock.offsetHeight,t=this.$refs.view.offsetHeight;this.tableHeight=t-e-90},pageChange:function(e){this.pagination.pageNum=e,this.getList()},pageSizeChange:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={key:t.paginationType,value:e},a.next=3,t.$store.dispatch("app/setPageSizeSelect",n);case 3:t.$store.dispatch("updateUserPreferences"),t.pagination.pageSize=e,t.pagination.pageNum=1,t.getList();case 7:case"end":return a.stop()}}),a)})))()},sortChange:function(e){this.condition.sortName=e.prop,e.order?this.condition.sort="descending"===e.order?"DESC":"ASC":this.condition.sort=null,this.getList()},getListWithDebounce:s()(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t,e.next="edit"===e.t0||"delete"===e.t0?3:"create"===e.t0?8:12;break;case 3:return e.next=5,this.getList();case 5:if(!this.tbData.list.length){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("break",14);case 8:return this.condition.sortName="updatedOn",this.condition.sort="DESC",this.pagination.pageNum=1,e.abrupt("break",14);case 12:return this.pagination.pageNum=1,e.abrupt("break",14);case 14:return e.next=16,this.getList();case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),500),delete:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.$confirm("確認刪除？","提示",{confirmButtonText:"確認",cancelButtonText:"取消",cancelButtonClass:"cancelButton",confirmButtonClass:"confirmButton",type:"error"});case 3:return n.next=5,t(e);case 5:1===a.tbData.list.length&&(i=a.pagination.pageNum,a.pagination.pageNum=1!==i?i-1:1),a.getListWithDebounce("delete"),a.$message({message:"刪除成功",type:"success"}),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),"cancel"===n.t0&&a.$message({message:"取消刪除",type:"info"});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},showPageNum:function(e,t){if("toLastPage"!==t){var a=this.tbData.totalSize,n=this.pagination.pageNum,i=this.pagination.pageSize;i*n-i===a&&(this.pagination.pageNum=n-1)}else{var r=Math.ceil(e/10);this.pagination.pageNum=r}},getHeaderTitle:function(e){var t=e.action,a=e.page,n=e.title,i=e.id,r=void 0===i?null:i,s={create:"新增",view:"檢視",edit:"編輯",copy:"複製",record:"記錄"};return r?""!==n?"".concat(s[t]).concat(a," - ").concat(n," - #").concat(r):"".concat(s[t]).concat(a," - #").concat(r):"".concat(s[t]).concat(a)}}},l=(a("c975"),a("4d63"),a("25f0"),a("5319"),a("c1df")),u=a.n(l),d=a("ed08"),p={props:{focusOnOpen:{type:Boolean,default:!0}},computed:Object(n["a"])(Object(n["a"])({},Object(o["b"])("JsPanels",{panelCount:function(e){return e.panels.length}})),{},{rules:function(){var e={};return Object.keys(this.formData).forEach((function(t){e[t]=[{required:!0,message:"↑此項必填"}]})),e},formDataPayload:function(){var e=this,t={};return Object.keys(this.formData).forEach((function(a){var n=""!==e.formData[a]?e.formData[a]:null;if("imageFileSet"===a)t[a]={},Object.keys(e.formData[a]).forEach((function(n){var i=e.formData[a][n],r=i.split("/"),s="file/img/"+r[r.length-1];t[a][n]=r.length?s:""}));else if("content"===a){var i=new RegExp("https://pub-site-info.bckplat.info/api","gi");t[a]=e.formData[a].replace(i,"#{APIPATH}")}else{var r,s=/publishedOn|finishedOn/,o="YYYY-MM-DD",c=n,l={};s.test(a)&&u()(n,o,!0).isValid()?l={publishedOn:u()(n).startOf("day").format("YYYY-MM-DD HH:mm:ss"),finishedOn:u()(n).endOf("day").format("YYYY-MM-DD HH:mm:ss")}:c&&"string"===typeof c&&(c=c.trim(),e.formData[a]=c),t[a]=null!==(r=l[a])&&void 0!==r?r:c}})),t},linkPlaceholder:function(){return 1===this.formData.openType?"連結網址須為 / 開頭":"請輸入完整網址，例：http://www.123.com"}}),created:function(){"view"!==this.action&&this.initKeydown()},mounted:function(){this.focusOnOpen&&this.onFocus()},beforeDestroy:function(){window.removeEventListener("keydown",this.keydownHandler)},methods:{onFocus:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["d"])(0);case 2:null===(a=e.$refs.firstColumn)||void 0===a||a.focus();case 3:case"end":return t.stop()}}),t)})))()},initKeydown:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["d"])(0);case 2:window.addEventListener("keydown",e.keydownHandler);case 3:case"end":return t.stop()}}),t)})))()},keydownHandler:function(e){83===e.keyCode&&e.ctrlKey&&(e.preventDefault(),this.checkSaveShortCut())},checkSaveShortCut:function(){var e=this.$parent.instance,t=window.getComputedStyle(e),a=t.zIndex;parseInt(a,10)===100+this.panelCount-1&&this.checkValidate()},checkpath:function(e,t,a){if(1===this.formData.openType&&(t?0!==t.indexOf("/")&&a(new Error("連結網址須為 / 開頭")):a(new Error("↑此項必填"))),2===this.formData.openType){var n=/https?:\/\/?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/;t?n.test(t)||t||a(new Error("請輸入正確的網址")):a(new Error("↑此項必填"))}a()}}}},"1b74":function(e,t,a){"use strict";function n(e,t,a){var n,i=e.getElementsByTagName(t)[0];e.getElementById(a)||(n=e.createElement(t),n.id=a,n.src="https://weatherwidget.io/js/widget.min.js",i.parentNode.insertBefore(n,i))}a.r(t),a.d(t,"default",(function(){return n}))},"1f3d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"panelContent"},[a("div",{staticClass:"contentWrapper"},[a("el-form",{ref:"editForm",staticClass:"contentInner",attrs:{disabled:"view"===e.action,model:e.formData,rules:e.rules}},[a("el-form-item",{attrs:{label:"名稱",prop:"name",rules:[{required:!0,message:"↑此項必填"}]}},[a("el-input",{ref:"firstColumn",attrs:{maxLength:"10"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{maxLength:"100"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),a("el-form-item",{attrs:{label:e.$t("th.isEnabled"),prop:"isEnabled"}},[a("el-switch",{staticClass:"switch-group",attrs:{"active-text":"啟用","inactive-text":"停用"},model:{value:e.formData.isEnabled,callback:function(t){e.$set(e.formData,"isEnabled",t)},expression:"formData.isEnabled"}})],1),a("el-form-item",{attrs:{label:"管理權限"}},[e.formData.permissions.length?a("PermissionTable",{ref:"permissionTable",attrs:{permissions:e.formData.permissions}}):e._e()],1)],1)],1),a("div",{staticClass:"buttonWrapper"},[a("el-button",{attrs:{type:"danger"},on:{click:e.closePanel}},[e._v("取消")]),"view"!==e.action?a("el-button",{attrs:{type:"success"},on:{click:e.checkValidate}},[e._v(e._s("edit"!==e.action?"新增":"儲存"))]):e._e()],1)])},i=[],r=(a("c740"),a("4160"),a("a9e3"),a("b64b"),a("159b"),a("5530")),s=(a("96cf"),a("1da1")),o=(a("bc3a"),a("41d0")),c=(a("2934"),a("2ef0")),l=a("1b62"),u=a("a9dd"),d=a("ed08"),p=a("42ac"),m={name:"EditGroup",components:{PermissionTable:p["default"]},mixins:[l["b"]],props:{id:{type:Number,default:null},action:{type:String,default:null}},data:function(){return{formData:{name:null,description:null,isEnabled:!0,permissions:[]},tmpPermissions:[],loading:!1}},created:function(){this.id?this.getRowData():this.getPermissionList()},methods:{getPermissionList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Object(d["d"])(500);case 4:a=Object(c["cloneDeep"])(u["i"]),e.formData.permissions=a,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:return t.prev=10,e.loading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,8,10,13]])})))()},getRowData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,Object(d["d"])(500);case 4:a=Object(c["cloneDeep"])(u["d"]),n=Object(c["cloneDeep"])(u["i"]),Object.keys(e.formData).forEach((function(t){e.formData[t]="permissions"===t?e.permissionMapping(a[t],n):a[t]})),t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](0),i=/^2/,r=JSON.parse(t.t0.message),r.status&&!i.test(r.status)&&(e.$emit("refresh-page"),e.closePanel());case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,9,14,17]])})))()},permissionMapping:function(e,t){var a=Object(c["cloneDeep"])(e),n=Object(c["cloneDeep"])(t);return a.forEach((function(e){var t=n.findIndex((function(t){return t.systemMenuId===e.systemMenuId}));if(-1!==t){var a=n[t];a.isVisible=e.isVisible;try{a.actions&&Object.keys(a.actions).forEach((function(t){a.actions[t]=e.actions[t]||a.actions[t]}))}catch(i){}}})),n},checkValidate:function(){var e=this;this.$refs.editForm.validate((function(t){t&&e.submitWhenValidate()}))},submitWhenValidate:Object(c["debounce"])(Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(r["a"])({},this.formDataPayload),t.permissions=this.$refs.permissionTable.getParams(),a=[t],o["a"].addPermissionGroup,n="新增成功","edit"===this.action&&(a.push(this.id),o["a"].updatePermissionGroup,n="更新成功"),e.prev=6,this.loading=!0,e.next=10,Object(d["d"])(500);case 10:this.$message({message:n,type:"success"}),this.$emit("refresh-page"),this.closePanel(),e.next=17;break;case 15:e.prev=15,e.t0=e["catch"](6);case 17:return e.prev=17,this.loading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[6,15,17,20]])}))),600),closePanel:function(){this.$parent.$emit("close")}}},f=m,h=a("2877"),b=Object(h["a"])(f,n,i,!1,null,null,null);t["default"]=b.exports},"203b":function(e,t,a){},"21af":function(e,t,a){},2934:function(e,t,a){"use strict";var n=a("bc3a"),i=a.n(n),r=a("c1fb");t["a"]={getUserPreference:function(){return Object(r["a"])({url:"/v1/userPreferences",method:"get"})},updateUserPreference:function(e){return Object(r["a"])({url:"/v1/userPreferences",method:"post",data:e})},login:function(e){return Object(r["a"])({url:"/v1/login",method:"post",data:e})},systemRedirect:function(e){return i()({url:Object({NODE_ENV:"production",VUE_APP_APIPATH:"https://pub-site-info.bckplat.info/api",VUE_APP_PROJECT_NAME:"Vue_Core_System",VUE_APP_SOCKET_URL:"wss://api-socket.wpc6666.com",VUE_APP_USESIDETABS:"true",BASE_URL:"/vue-core/"}).VUE_APP_EMS_REDIRECT+"/redirect/213",method:"get",headers:{Authorization:"Bearer "+e}})},logout:function(){return Object(r["a"])({url:"/v1/logout",method:"post"})},getVerifiedToken:function(e){return Object(r["a"])({url:"/v1/authToken",method:"post",data:e})},refreshToken:function(e){return Object(r["a"])({url:"/v1/refreshToken",method:"post",data:e})},getPlatformSet:function(){return Object(r["a"])({url:"/v1/platformSet",method:"get"})},switchPlatform:function(e){return Object(r["a"])({url:"/v1/switchPlatform/".concat(e),method:"put"})},fileUpload:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"atch";return Object(r["a"])({url:"/v1/fileUpload/".concat(t),method:"post",data:e,header:{"Content-Type":"multipart/form-data"}})},getEnumRefs:function(){return Object(r["a"])({url:"/v1/enumRefs",method:"get"})},getPermissionList:function(){return Object(r["a"])({url:"/v1/permissions",method:"get"})},getMenuList:function(){return Object(r["a"])({url:"/v1/menuList",method:"get"})},getPermissionRoutes:function(){return Object(r["a"])({url:"/v1/routerOptions",method:"get"})},getAllEmployees:function(){return Object(r["a"])({url:"/v1/hiddenEmployees",method:"get"})}}},"296c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"messageBox"},[e._m(0),a("el-button",{staticClass:"sortButton",attrs:{tpye:"info",icon:"ASC"===e.sortOption.sort?"el-icon-caret-bottom":"el-icon-caret-top",title:"排序改留言時間"+("ASC"===e.sortOption.sort?"由近到遠":"由遠到近"),disabled:e.loading},on:{click:e.sortChange}},[e._v("排序")]),a("div",{staticClass:"commentaryBlock"},[a("div",{staticClass:"messageList",class:{noPaddingBottom:null!==e.messages}},[0===e.messageList.length?a("p",{staticClass:"noMessage"},[e._v("無留言訊息")]):e._e(),e._l(e.messageList,(function(t,n){return a("div",{key:t.id,staticClass:"messageItem"},[t.systemMessage?a("p",{staticClass:"systemMessage"},[e._v("＃"+e._s(t.updatedByName)+" 於 "+e._s(t.updatedOn)+" "+e._s(t.content))]):[a("div",{staticClass:"messageHeader"},[a("p",{staticClass:"nickName"},[e._v(e._s(t.updatedByName))]),a("p",{staticClass:"dateTime"},[e._v(e._s(t.updatedOn))]),t.canEdited?a("div",{staticClass:"buttons"},[a("button",{class:{disabled:e.show},attrs:{type:"button",title:"編輯",disabled:e.show},on:{click:function(a){return e.openFroalaEditor(t)}}},[a("i",{staticClass:"el-icon-edit-outline"})]),a("button",{attrs:{type:"button",title:"刪除"},on:{click:function(a){return e.deleted(t.id)}}},[a("i",{staticClass:"el-icon-delete"})])]):e._e()]),a("div",{staticClass:"messageConten",domProps:{innerHTML:e._s(t.content)}}),a("div",{staticClass:"fileDownload"},e._l(t.files,(function(t){return a("div",{key:t.id,staticClass:"file",on:{click:function(a){return e.downloadFile(t.link,t.name)}}},[a("i",{staticClass:"el-icon-paperclip"}),e._v(e._s(t.name))])})),0)]],2)}))],2)])],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h4",[e._v("留言板"),a("i",{staticClass:"el-icon-edit"})])}],r=(a("4160"),a("a9e3"),a("ac1f"),a("466d"),a("159b"),a("96cf"),a("1da1")),s=a("5530"),o=a("f3f4"),c=a("1b62"),l=a("2f62"),u=a("21a6"),d=a("ed08"),p=a("2ef0"),m={name:"HandoverMessage",mixins:[c["b"]],props:{id:{type:Number,default:null},isFinish:{type:Boolean,default:null},messages:{type:Array,default:null},show:{type:Boolean,default:!1}},data:function(){return{loading:!1,resList:[],showFroalaEditor:!1,sortOption:{sortName:"updatedOn",sort:"ASC"},accessKey:this.$route.query.accessKey}},computed:Object(s["a"])(Object(s["a"])({},Object(l["b"])("app",{handoverMessageSort:function(e){return e.handoverMessageSort}})),{},{messageList:function(){var e,t=null!==(e=this.messages)&&void 0!==e?e:this.resList;t.forEach((function(e){var t=e;e.content=Object(d["c"])(t.content),e.systemMessage=!t.content.match(/</),e.systemMessage&&(e.content="未完成"===t.content?"延後結案":"手動結案")}));var a=Object(p["cloneDeep"])(t).reverse();return"DESC"===this.sortOption.sort&&this.accessKey?a:t}}),watch:{isFinish:function(){this.$route.query.accessKey||this.getList()}},created:function(){this.sortOption.sort=this.handoverMessageSort,this.$route.query.accessKey||this.getList()},methods:{getList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,o["a"].getHandoverMsgsList(e.id,e.sortOption);case 4:a=t.sent,e.resList=a.list,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:return t.prev=10,e.loading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,8,10,13]])})))()},sortChange:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a="ASC"===e.handoverMessageSort?"DESC":"ASC",e.sortOption.sort=a,e.accessKey){t.next=8;break}return t.next=5,e.getList();case 5:return t.next=7,e.$store.dispatch("app/setHandoverMessageSort",a);case 7:e.$store.dispatch("updateUserPreferencesDirectly");case 8:case"end":return t.stop()}}),t)})))()},deleted:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("確認刪除？","提示",{confirmButtonText:"確認",cancelButtonText:"取消",cancelButtonClass:"cancelButton",confirmButtonClass:"confirmButton",type:"error"});case 2:return a.next=4,o["a"].deleteHandoverMsgs(e);case 4:t.$message({message:"刪除成功",type:"success"}),t.getList();case 6:case"end":return a.stop()}}),a)})))()},openFroalaEditor:function(e){this.$emit("handle-row-data",e)},downloadFile:function(e,t){Object(u["saveAs"])(e,t)}}},f=m,h=(a("64ac"),a("2877")),b=Object(h["a"])(f,n,i,!1,null,"6414c163",null);t["default"]=b.exports},"2b11":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"view",staticClass:"views",attrs:{id:"accountLevel"}},[a("div",{ref:"searchBlock",staticClass:"searchBlock"},[a("div",[a("el-form",{staticClass:"complex-group",attrs:{model:e.condition}},[a("el-form-item",{attrs:{label:e.$t("th.isEnabled")}},[a("el-select",{attrs:{clearable:""},on:{change:e.getListWithDebounce},model:{value:e.condition.isEnabled,callback:function(t){e.$set(e.condition,"isEnabled",t)},expression:"condition.isEnabled"}},[a("el-option",{attrs:{label:"啟用中",value:!0}},[e._v("啟用中")]),a("el-option",{attrs:{label:"已停用",value:!1}},[e._v("已停用")])],1)],1),a("el-form-item",{staticClass:"searchBox searchBox",attrs:{label:"關鍵字"}},[a("el-input",{attrs:{placeholder:"請輸入名稱或描述",maxlength:"20",clearable:""},on:{clear:e.getListWithDebounce},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getListWithDebounce(t)}},model:{value:e.condition.keyword,callback:function(t){e.$set(e.condition,"keyword",t)},expression:"condition.keyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getListWithDebounce},slot:"append"},[e._v("搜尋")])],1)],1)],1),a("div",{staticClass:"btnWrap"},[a("el-button",{attrs:{type:"refresh",icon:"el-icon-refresh-right"},on:{click:e.getListWithDebounce}},[e._v("重新整理")]),e.getActions&&e.getActions.create?a("el-button",{staticClass:"newItem",attrs:{type:"add",icon:"el-icon-plus"},on:{click:function(t){return e.handleAction({action:"create"})}}},[e._v("新增權限群組")]):e._e()],1)],1)]),a("div",{staticClass:"tableSection"},[a("TableWrapper",{ref:"tableWrapper",attrs:{tableHeight:e.tableHeight,isSortable:!0,tableData:e.tbData.list,totalSize:e.tbData.totalSize,pagination:e.pagination,paginationType:e.paginationType,columnSetting:e.columnSetting,listLoading:e.listLoading,currentSort:e.getSorter,disableDeletion:!0},on:{"page-size-change":e.pageSizeChange,"page-change":e.pageChange,"sort-change":e.sortChange}})],1)])},i=[],r=(a("a4d3"),a("e01a"),a("b0c0"),a("96cf"),a("1da1")),s=a("088a"),o=a("41d0"),c=a("7832"),l=a("1b62"),u=a("a9dd"),d=a("ed08"),p={name:"PermissionGroup",components:{TableWrapper:s["a"]},mixins:[l["a"]],data:function(){return{tableHeight:0,condition:{isEnabled:!0,keyword:null,sortName:"updatedOn",sort:"DESC"},tbData:{},columnSetting:[c["a"].id(80,"left"),c["a"].name("left",!0),c["a"].description(),c["a"].isEnabled(100),c["a"].updatedOn(200),c["a"].updatedByName(100)],paginationType:"short",listLoading:!1}},created:function(){this.getList(),this.$bus.$on("resize-table-height",this.setTableHeight)},mounted:function(){this.setTableHeight()},activated:function(){this.setTableHeight(),this.$refs.tableWrapper.forceLayoutUpdate()},beforeDestroy:function(){this.$store.dispatch("JsPanels/closePanelByParent",this.$options.name),this.$bus.$off("resize-table-height")},methods:{getList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!0,t.prev=1,t.next=4,Object(d["d"])(500);case 4:a=u["f"],e.tbData=a,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:return t.prev=10,e.listLoading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,8,10,13]])})))()},handleAction:function(e){var t=this,a=e.action,n=e.row,i=void 0===n?null:n;if("delete"!==a){var r={action:a,page:this.getCurrentTab.title};null!==i&&(r.title=i.name,r.id=i.id);var s=this.getHeaderTitle(r),c={component:"EditGroup",headerTitle:s,contentSize:{width:"70%",height:"80%"}},l={action:a},u="only";null!==i&&(u=i.id,l.id=u),c.id=u;var d={"refresh-page":function(){t.getListWithDebounce()}};this.$store.dispatch("JsPanels/addPanel",{settings:c,props:l,events:d})}else{var p=i.id,m=o["a"].deletePermissionGroup;this.delete(p,m)}}}},m=p,f=a("2877"),h=Object(f["a"])(m,n,i,!1,null,null,null);t["default"]=h.exports},"38dd":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"views",attrs:{id:"index"}},[e._v("INDEX")])},i=[],r={name:"Index"},s=r,o=a("2877"),c=Object(o["a"])(s,n,i,!1,null,null,null);t["default"]=c.exports},"3bd5":function(e,t,a){"use strict";var n,i,r={name:"RenderJSX",props:{scope:{type:Object,default:null},render:{type:Function,default:null}},render:function(e,t){return this.render(e,this.scope)}},s=r,o=a("2877"),c=Object(o["a"])(s,n,i,!1,null,null,null),l=c.exports;t["a"]=l},"41d0":function(e,t,a){"use strict";var n=a("ed08"),i=a("c1fb");t["a"]={addPermissionGroup:function(e){return Object(i["a"])({url:"/v1/groups",method:"post",data:e})},getPermissionGroupList:function(e){var t=Object(n["b"])(e);return Object(i["a"])({url:"/v1/groups?".concat(t),method:"get"})},getPermissionGroup:function(e){return Object(i["a"])({url:"/v1/groups/".concat(e),method:"get"})},updatePermissionGroup:function(e,t){return Object(i["a"])({url:"/v1/groups/".concat(t),method:"patch",data:e})},deletePermissionGroup:function(e){return Object(i["a"])({url:"/v1/groups/".concat(e),method:"delete"})},getPermissionGroupOptions:function(){return Object(i["a"])({url:"/v1/groupOptions",method:"get"})}}},"42ac":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"PermissionTable"}},[a("el-table",{ref:"permission-tree-table",staticClass:"permission-tree-table main-table",attrs:{data:e.filteredPermissionData,"tooltip-effect":"dark",border:"","row-style":e.showTr}},[a("el-table-column",{attrs:{label:"功能名稱",prop:"title",width:"280","class-name":"text-start"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("div",{staticClass:"custom-header"},[a("el-checkbox",{attrs:{value:e.allChecked,indeterminate:e.allIndeterminated},on:{change:e.handleSelectAll}}),a("span",[e._v("功能名稱")]),a("el-input",{staticClass:"searchBox",staticStyle:{display:"inline"},attrs:{size:"mini",placeholder:"請輸入關鍵字..."},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1)]}},{key:"default",fn:function(t){return[a("div",{staticClass:"tree-row"},[e._l(t.row._level,(function(e,t){return a("span",{staticClass:"ms-tree-space"})})),e.toggleIconShow(t.row)?a("button",{staticClass:"toggleBtn button is-outlined is-primary is-small arrow-btn",attrs:{type:"button"},on:{click:function(a){return e.toggle(t.$index)}}},[t.row._expanded?e._e():a("i",{staticClass:"el-icon-plus"}),t.row._expanded?a("i",{staticClass:"el-icon-minus"}):e._e()]):e._e(),e.toggleIconShow(t.row)?e._e():a("span",{staticClass:"ms-tree-space"}),a("el-checkbox",{staticClass:"tree-row-check-box",attrs:{value:e.getRowCheckedStatus(t.row),indeterminate:e.getRowIndeterminatedStatus(t.row)},on:{change:function(a){return e.handleSelectRow([t.row],a)}}}),a("span",{staticClass:"tree-label",class:{"click-expand":e.toggleIconShow(t.row)},on:{click:function(a){return e.toggle(t.$index)}}},[e._v(e._s(t.row.title))])],2)]}}])}),a("el-table-column",{attrs:{label:"顯示選單",width:"100",align:"center",prop:"isVisible"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{key:t.row.systemMenuId,attrs:{disabled:!!t.row.children.length},on:{change:function(a){return e.syncVisible(a,t.row,!0)}},model:{value:t.row.isVisible,callback:function(a){e.$set(t.row,"isVisible",a)},expression:"scope.row.isVisible"}})]}}])}),a("el-table-column",{attrs:{label:"權限設定",prop:"actions","class-name":"ractionsRow"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.actions?a("div",e._l(Object.keys(t.row.actions),(function(n){return a("el-checkbox",{key:n,attrs:{label:n},on:{change:function(a){return e.syncVisible(a,t.row)}},model:{value:t.row.actions[n],callback:function(a){e.$set(t.row.actions,n,a)},expression:"scope.row.actions[action]"}},[e._v(e._s(e.actionMap[n]))])})),1):a("p",{class:{unable:!t.row.actions}},[e._v("無權限設定")])]}}])})],1)],1)},i=[],r=(a("99af"),a("a623"),a("4de4"),a("7db0"),a("4160"),a("c975"),a("baa5"),a("d81d"),a("13d5"),a("45fc"),a("b64b"),a("159b"),a("ed08")),s={name:"PermisiionTable",props:{permissions:{type:Array,default:null}},data:function(){return{permissionNewList:[],filterText:"",defaultExpandAll:!0,actionMap:{admin:"總管理者",create:"新增",update:"修改",delete:"刪除",readSingle:"檢視單筆",readList:"檢視列表"}}},computed:{filteredPermissionData:function(){var e=this;return this.filterText?this.permissionNewList.filter((function(t){return t.title.indexOf(e.filterText)>=0})):this.permissionNewList},allChecked:function(){var e=this.permissionNewList;return!!(Array.isArray(e)&&e.length>0)&&e.every((function(e){return e.isVisible}))},allIndeterminated:function(){var e=this,t=this.permissionNewList;return!!(Array.isArray(t)&&t.length>0)&&t.some((function(t){return e.getRowIndeterminatedStatus(t)}))}},mounted:function(){this.handleTreeToArray()},methods:{handleTreeToArray:function(){var e=this.permissions;this.permissionNewList=Object(r["h"])(e,this.defaultExpandAll,"systemMenuId")},getRowIndex:function(e){var t=this.permissionNewList.lastIndexOf(e);return t},getRowCheckedStatus:function(e){var t=this,a=e.children,n=e.actions,i=!!n,r=Array.isArray(a)&&a.length>0,s=e.isVisible;if(r){var o=a.reduce((function(e,a){return e.concat(t.getRowCheckedStatus(a))}),[]);s=o.some((function(e){return!0===e}))}else i&&(s=Object.keys(n).some((function(e){return n[e]})));return s},getRowStrictCheckedStatus:function(e){var t=this,a=e.children,n=e.actions,i=!!n,r=Array.isArray(a)&&a.length>0,s=e.isVisible;if(r){var o=a.reduce((function(e,a){return e.concat(t.getRowStrictCheckedStatus(a))}),[]);s=o.length>0&&o.every((function(e){return!0===e}))}else i&&(s=Object.keys(n).every((function(e){return n[e]})));return s},getRowIndeterminatedStatus:function(e){var t=e.children,a=e.actions,n=!!a,i=Array.isArray(t)&&t.length>0,r=!1;if(i){for(var s=[],o=0;o<t.length;o++){var c=t[o];if(this.getRowIndeterminatedStatus(c))return r=!0,r;r=this.getRowStrictCheckedStatus(c),s.push(r)}r=s.some((function(e){return!0===e}))&&!s.every((function(e){return!0===e}))}else if(n){var l=Object.keys(a);r=l.some((function(e){return a[e]}))&&!l.every((function(e){return a[e]}))}return r},handleSelectRow:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Array.isArray(e)){var i=e[0],r=i.children,s=i.actions,o=i.parentId,c=!!s,l=Array.isArray(r)&&r.length>0,u=void 0!==o&&o>0,d=a;if(1!==e.length||null!==d&&!0!==d){if(0===e.length||!1===d){if(i.isVisible=!1,c){var p=Object.keys(s);p.forEach((function(e){s[e]=!1}))}d=!1}}else{if(i.isVisible=!0,c){var m=Object.keys(s);m.forEach((function(e){s[e]=!0}))}d=!0}if(n&&l&&r.forEach((function(e){return t.handleSelectRow([e],d)})),u){var f=this.permissionNewList.find((function(e){return e.systemMenuId===i.parentId}));f&&(this.handleSelectRow([f],d,!1),f.isVisible=this.getRowCheckedStatus(f))}}},showTr:function(e){var t=e.row,a=!t._parent||t._parent._expanded&&t._parent._show,n=t;return n._show=a,a?"":{display:"none"}},toggle:function(e){var t=this,a=t.permissionNewList[e];a._expanded=!a._expanded},toggleIconShow:function(e){return!!(Array.isArray(e.children)&&e.children.length>0)},syncVisible:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=t,r=i.children,s=i.actions,o=i.parentId,c=!!s,l=Array.isArray(r)&&r.length>0,u=void 0!==o&&o>0;if(i.isVisible=n?e:this.getRowCheckedStatus(i),c){var d=Object.keys(s),p=d.every((function(e){return!s[e]}));a?(e&&p&&(s.readList=!0),e||(d.forEach((function(e){s[e]=!1})),i.isVisible=!1)):e?(s.update&&(s.readSingle=!0),s.readList=!0,i.isVisible=!0):(s.readList?s.readSingle||(s.update=!1):d.forEach((function(e){s[e]=!1})),d.every((function(e){return!s[e]}))?i.isVisible=!1:d.some((function(e){return s[e]}))&&(i.isVisible=!0))}else n&&l&&this.handleSelectRow([i],e);if(u){var m=this.permissionNewList.find((function(e){return e.systemMenuId===i.parentId}));m&&this.syncVisible(e,m,!1,!1)}},handleSelectAll:function(e){var t=this,a=this.permissionNewList;0!==a.length&&a.forEach((function(a){return t.handleSelectRow([a],e,!1)}))},getRowSubmitStatus:function(e){var t=e.children,a=e.actions,n=!!a,i=Array.isArray(t)&&t.length>0,r=2===e.menuType&&e.isVisible;if(i)for(var s=0;s<t.length;s++){var o=t[s];if(this.getRowSubmitStatus(o))return r=!0,r}else n&&(r=Object.keys(a).some((function(e){return a[e]})));return r},getParams:function(){var e=this,t=this.permissionNewList.filter((function(t){return 1===t.menuType?e.getRowSubmitStatus(t):t.isVisible})),a=t.map((function(e){var t=e.systemMenuId,a=e.parentId,n=e.menuCode,i=e.title,r=e.menuType,s=e.isVisible,o=e.actions;return{systemMenuId:t,parentId:a,menuCode:n,title:i,menuType:r,isVisible:s,actions:o}}));return a}}},o=s,c=(a("108d"),a("2877")),l=Object(c["a"])(o,n,i,!1,null,"e5e25d08",null);t["default"]=l.exports},4360:function(e,t,a){"use strict";a("96cf");var n,i=a("1da1"),r=a("2b0e"),s=a("2f62"),o=a("2934"),c=a("2ef0"),l=(a("4de4"),a("c740"),a("4160"),a("a434"),a("a9e3"),a("ac1f"),a("5319"),a("159b"),a("5530")),u=a("ade3"),d="SET_APP_USER_PREFERENCES",p="SET_IS_MOBILE",m="SET_SIDEBAR_COLLAPSE",f="SET_SIDETAB_COLLAPSE",h="SET_HANDOVER_MESSAGE_SORT",b="SET_IS_URL_PUBLIC",g="SET_BULLETIN_EDITABLE",v="SET_ENUM_REFS",y="SET_PANEL_COMPONENTS",k="SET_PAGE_COMPONENTS",w="SET_FONT_SIZE",C="SET_LANG",x="SET_ALL_EMPLOYEES",_="SET_PAGE_SIZE_SELECT",S="SET_BULLETIN_SUMMARIES",O="SET_HASHMAP",T="SET_UNREAD_COUNT",j="SET_MENU_LIST",D="ADD_PANEL",L="HIDE_PANEL",E="CLOSE_PANEL",M="CLOSE_HIDDEN_PANELS",I="SET_TAB_USER_PREFERENCES",N="SET_TABS",A="CLOSE_TAB",P="SORT_TABS",R="SET_TAB_STATUS",$="SET_RECORD_TABS",B="UPDATE_TAB",z="SET_BULLETIN_CLASS_LIST",H="SET_HANDOVER_TYPE_LIST",q="SET_HANDOVER_TAG_LIST",W="SET_CONTRACTOR_LIST",U="SET_SITE_PLATFORM_LIST",V="SET_SITE_TYPE_LIST",F="SET_SITE_PURPOSE_LIST";function G(e){var t=e.width,a=e.height,n=window,i=n.innerWidth,r=n.innerHeight,s=window.getComputedStyle(document.body,null).getPropertyValue("font-size").replace("px",""),o=[t,a],c=[];return o.forEach((function(e,t){var a=e.replace(/\d/g,""),n=e.replace(/\D/g,""),o=/vh|vw|%/,l=/em|rem/,u=n;switch(!0){case o.test(e):u=n*i/100,"vh"!==a&&1!==t||(u=n*r/100);break;case l.test(e):u=n*s;break;default:break}c.push(u)})),{width:Number(c[0]),height:Number(c[1])+50}}function J(e){var t=e.width,a=e.height,n=window,i=n.innerWidth,r=n.innerHeight,s=10*t/100,o=10*a/100;return t+s>i||a+o>r}var K,Y,X={panels:[]},Z=(n={},Object(u["a"])(n,D,(function(e,t){var a=t.component,n=t.id,i=t.props,r=t.events,s=t.options,o=t.isMaximizeControlHidden,c=e.panels.findIndex((function(e){return e.component===a&&e.id===n}));if(-1===c){var l=[{html:'<span class="fa fa-window-maximize" style="color: #fff;font-size: 16px"></span>',name:"max",position:4,handler:function(e,t){e.maximize()}},{html:'<span class="fa fa-minus" style="color: #fff;font-size: 16px"></span>',name:"min",position:2,handler:function(e,t){e.minimize()}}];o&&(l[0].html='<span class="fa fa-window-maximize" style="display: none"></span>');var u=G(s.contentSize),d={component:a,id:n,props:i,events:r,show:!0,options:{closeOnEscape:!0,theme:{bgPanel:s.bgPanel?s.bgPanel:"#373f61",bgContent:"#fff",colorHeader:"#fff",colorContent:"#000"},headerTitle:s.headerTitle,container:"window",position:{my:"center",at:"center",offsetX:e.panels.length?20*e.panels.length:0,offsetY:e.panels.length?50*e.panels.length:0},headerControls:{maximize:"remove",minimize:"remove",smallify:"remove",add:l},contentSize:s.contentSize,maximizedMargin:0,contentOverflow:"hidden hidden",dragit:{containment:[0]},resizeit:{disable:!0,handles:"n, e, s, w, ne, se, sw, nw",minWidth:240,minHeight:300},onstatuschange:function(e,t){switch(this.status){case"maximized":e.setControlStatus("max","hide");break;case"minimized":e.setControlStatus("min","hide");break;default:break}},onbeforenormalize:function(e,t){return!J(u)||(e.maximize(),!1)},onwindowresize:function(e){"maximized"===e.status&&e.maximize()},callback:function(e){J(u)&&e.maximize()}}};e.panels.push(d)}})),Object(u["a"])(n,L,(function(e,t){e.panels[t].show=!1})),Object(u["a"])(n,E,(function(e,t){e.panels.splice(t,1)})),Object(u["a"])(n,M,(function(e){e.panels=e.panels.filter((function(e){return e.show}))})),n),Q={addPanel:function(e,t){var a=e.commit,n=t.settings,i=t.props,r=void 0===i?{}:i,s=t.events,o=void 0===s?null:s,c=Object(l["a"])({parent:window.location.pathname.replace("/","")},r),u=n.bgPanel,d=n.headerTitle,p=n.contentSize,m=n.component,f=n.id,h=n.isMaximizeControlHidden,b={XS:{width:"380px",height:"140px"},S:{width:"770px",height:"140px"},M:{width:"770px",height:"280px"},L:{width:"960px",height:"470px"},XL:{width:"960px",height:"600px"}},g={options:{bgPanel:u,headerTitle:d,contentSize:b[p]||p||{width:"960px",height:"470px"}},component:m,id:f,props:c,events:o,isMaximizeControlHidden:h};a(D,g)},closePanel:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.commit,i=X.panels.findIndex((function(e){return e.component===t.component&&e.id===t.id})),-1===i||!X.panels[i].show){a.next=7;break}return n(L,i),a.next=6,r["default"].nextTick();case 6:n(E,i);case 7:case"end":return a.stop()}}),a)})))()},closePanelByParent:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,X.panels.forEach((function(e,a){e.props.parent===t&&n(L,a)})),a.next=4,r["default"].nextTick();case 4:n(M);case 5:case"end":return a.stop()}}),a)})))()},closeAllPanel:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.commit,X.panels.length){t.next=3;break}return t.abrupt("return");case 3:for(n=0;n<X.panels.length;n++)a(L,n);return t.next=6,r["default"].nextTick();case 6:a(M);case 7:case"end":return t.stop()}}),t)})))()}},ee={namespaced:!0,state:X,mutations:Z,actions:Q},te=(a("b64b"),{isMobile:!1,isSideBarCollapse:!1,isSideTabCollapse:!1,handoverMessageSort:"ASC",isUrlPublic:!1,isPrivate:!1,fontSize:"normal",enumRefs:{},pageSizeOption:{normal:[15,30,50],short:[10,20,40],large:[50,100]},pageSizeSelect:{normal:15,short:10,large:50},availablePanels:[],availablePages:[],allEmployees:null,lang:"zh-TW",langMap:{"zh-TW":{label:"繁體中文",timeZone:"Asia/Taipei"},"ja-JP":{label:"日本語",timeZone:"Asia/Tokyo"}}}),ae=(K={},Object(u["a"])(K,d,(function(e,t){Object.keys(t).forEach((function(a){e[a]=t[a]}))})),Object(u["a"])(K,p,(function(e){e.isMobile=!e.isMobile})),Object(u["a"])(K,m,(function(e){e.isSideBarCollapse=!e.isSideBarCollapse})),Object(u["a"])(K,f,(function(e){e.isSideTabCollapse=!e.isSideTabCollapse})),Object(u["a"])(K,h,(function(e,t){e.handoverMessageSort=t})),Object(u["a"])(K,b,(function(e,t){e.isUrlPublic=t})),Object(u["a"])(K,g,(function(e,t){e.isPrivate=t})),Object(u["a"])(K,v,(function(e,t){e.enumRefs=t})),Object(u["a"])(K,y,(function(e,t){e.availablePanels=t})),Object(u["a"])(K,k,(function(e,t){e.availablePages=t})),Object(u["a"])(K,w,(function(e,t){e.fontSize=t})),Object(u["a"])(K,C,(function(e,t){e.lang=t})),Object(u["a"])(K,x,(function(e,t){e.allEmployees=t})),Object(u["a"])(K,_,(function(e,t){var a=t.key,n=t.value;e.pageSizeSelect[a]=n})),K),ne={setAppUserPreferences:function(e,t){var a=e.commit;a(d,t)},setIsMobile:function(e){var t=e.commit;t(p)},setSideBarCollapse:function(e){var t=e.commit;t(m)},setSideTabCollapse:function(e){var t=e.commit;t(f)},setHandoverMessageSort:function(e,t){var a=e.commit;a(h,t)},setIsUrlPublic:function(e,t){var a=e.commit;a(b,t)},setIsPrivate:function(e,t){var a=e.commit;a(g,t)},setEnumRefs:function(e,t){var a=e.commit;a(v,t)},setPanelComponents:function(e,t){var a=e.commit;a(y,t)},setPageComponents:function(e,t){var a=e.commit;a(k,t)},setFontSize:function(e,t){var a=e.commit;a(w,t)},setLang:function(e,t){var a=e.commit;a(C,t)},setAllEmployees:function(e,t){var a=e.commit;a(x,t)},setPageSizeSelect:function(e,t){var a=e.commit;a(_,t)}},ie={namespaced:!0,state:te,mutations:ae,actions:ne},re=(a("9911"),{tabs:[],steps:0,gap:0,isRecordTabs:!1}),se=(Y={},Object(u["a"])(Y,I,(function(e,t){Object.keys(t).forEach((function(a){e[a]=t[a]}))})),Object(u["a"])(Y,N,(function(e,t){var a=e.tabs.findIndex((function(e){return e.menuCode===t.menuCode}));-1===a&&e.tabs.push(t)})),Object(u["a"])(Y,A,(function(e,t){var a=e.tabs.findIndex((function(e){return e.menuCode===t.menuCode}));-1!==a&&e.tabs.splice(a,1)})),Object(u["a"])(Y,P,(function(e,t){var a=t.oldIndex,n=t.newIndex,i=Object(c["cloneDeep"])(e.tabs);i.splice(a,1),i.splice(n,0,e.tabs[a]),e.tabs=i})),Object(u["a"])(Y,R,(function(e,t){e.steps=t.steps,e.gap=t.gap})),Object(u["a"])(Y,$,(function(e){e.isRecordTabs=!e.isRecordTabs})),Object(u["a"])(Y,B,(function(e,t){var a=e.tabs.findIndex((function(e){return e.id===t.id}));if(-1!==a){var n=t.menuCode,i=t.link,r=t.actions,s=t.title,o=e.tabs[a];o.menuCode=n,o.link=i,o.actions=r,o.title=s}})),Y),oe={setTabUserPreferences:function(e,t){var a=e.commit;a(I,t)},setTabs:function(e,t){var a=e.commit;a(N,t)},closeTab:function(e,t){var a=e.commit;a(A,t)},sortTabs:function(e,t){var a=e.commit;a(P,t)},setTabStatus:function(e,t){var a=e.commit;a(R,t)},setRecordtabs:function(e){var t=e.commit;t($)},updateTab:function(e,t){var a=e.commit;a(B,t)}},ce={namespaced:!0,state:re,mutations:se,actions:oe},le=(a("99af"),a("fb6a"),a("d3b7"),a("2909")),ue=a("ed08"),de=a("a9dd");function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Array.isArray(e)&&e.forEach((function(e){var i=e.menuType,r=e.openType,s=e.viewType,o=e.link,c=e.children,l=e.menuCode;if(2===i&&3===r)if(4===s){var u="".concat(o.charAt(0).toLowerCase()).concat(o.slice(1)),d={path:"/".concat(o),name:o,component:function(){return a("b285")("./"+u)}};t.push(d)}else n.push("/".concat(l));c.length&&pe(c,t,n)})),{asyncRoutes:t,alias:n}}var me,fe,he={menuList:[]},be=Object(u["a"])({},j,(function(e,t){e.menuList=t})),ge={generateRoutes:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,i,r,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(ue["d"])(300);case 4:return n(j,de["h"]),i=pe(de["h"]),r=i.asyncRoutes,s=i.alias,o=[{path:"/",name:"layout",component:function(){return a.e("chunk-2d0c4a07").then(a.bind(null,"3c45"))},children:[{path:"/index",component:function(){return a.e("chunk-6f67d100").then(a.bind(null,"88cb"))},children:[{path:"",name:"index",component:function(){return Promise.resolve().then(a.bind(null,"38dd"))}}].concat(Object(le["a"])(r),[{path:"/iframe",name:"iframe",component:function(){return Promise.resolve().then(a.bind(null,"4a84"))},alias:s}])}]},{path:"*",redirect:"/404"}],t.abrupt("return",o);case 10:return t.prev=10,t.t0=t["catch"](1),t.abrupt("return",Promise.reject(new Error(t.t0)));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()}},ve={namespaced:!0,state:he,mutations:be,actions:ge},ye=a("9b02"),ke=a.n(ye),we=a("b3b0"),Ce={bulletinSummaries:[],hashMap:{},totalUnread:0},xe=(me={},Object(u["a"])(me,S,(function(e,t){e.bulletinSummaries=t})),Object(u["a"])(me,O,(function(e,t){var a={},n=0;t.forEach((function(e,t){e.list.forEach((function(e,i){e.list.forEach((function(e,r){e&&(a[e.id]="[".concat(t,"].list[").concat(i,"].list[").concat(r,"]"),n+=!e.isRead)}))}))})),e.hashMap=a,e.totalUnread=n})),Object(u["a"])(me,T,(function(e,t){var a=t.id,n=t.status,i=ke()(e.bulletinSummaries,e.hashMap[a]);i.isRead=n,e.totalUnread-=1})),me),_e={getBulletinSummaries:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,we["a"].getBulletinSummaries();case 3:n=t.sent,a(S,n),a(O,n);case 6:case"end":return t.stop()}}),t)})))()},updateUnread:function(e,t){var a=e.commit;a(T,{id:t,status:!0})}},Se={namespaced:!0,state:Ce,mutations:xe,actions:_e},Oe=a("f3f4"),Te={bulletinClassList:[],handoverTypeList:[],handoverTagList:[],contractorList:[],sitePlatformList:[],siteTypeList:[],sitePurposeList:[]},je=(fe={},Object(u["a"])(fe,z,(function(e,t){e.bulletinClassList=t})),Object(u["a"])(fe,H,(function(e,t){e.handoverTypeList=t})),Object(u["a"])(fe,q,(function(e,t){e.handoverTagList=t})),Object(u["a"])(fe,W,(function(e,t){e.contractorList=t})),Object(u["a"])(fe,U,(function(e,t){e.sitePlatformList=t})),Object(u["a"])(fe,V,(function(e,t){e.siteTypeList=t})),Object(u["a"])(fe,F,(function(e,t){e.sitePurposeList=t})),fe),De={getBulletinClassList:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,we["a"].getbulletinClassOptions();case 3:n=t.sent,a(z,n);case 5:case"end":return t.stop()}}),t)})))()},getHandoverTypeList:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,Oe["a"].getHandoverTypeTags();case 3:n=t.sent,a(H,n);case 5:case"end":return t.stop()}}),t)})))()}},Le={namespaced:!0,state:Te,mutations:je,actions:De};r["default"].use(s["a"]);var Ee=function(e){var t=e.app,a=e.tabs,n=t.isSideBarCollapse,i=t.isSideTabCollapse,r=t.fontSize,s=t.handoverMessageSort,o=t.isUrlPublic,c=t.isPrivate,l=t.pageSizeSelect,u=a.steps,d=a.gap,p=a.isRecordTabs,m={appPreferences:{isSideBarCollapse:n,isSideTabCollapse:i,fontSize:r,handoverMessageSort:s,isUrlPublic:o,isPrivate:c,pageSizeSelect:l},tabPreferences:{tabs:[],steps:0,gap:0,isRecordTabs:p}};return p&&(m.tabPreferences={tabs:a.tabs,steps:u,gap:d,isRecordTabs:p}),m},Me={updateUserPreferences:Object(c["debounce"])(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.state,n=Ee(a),i=localStorage.getItem("userPreferences"),r=JSON.stringify(n),s=i===r,s){e.next=9;break}return localStorage.setItem("userPreferences",r),e.next=9,o["a"].updateUserPreference({userPreferences:r});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),1e3),updateUserPreferencesDirectly:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,n=Ee(a),i=JSON.stringify(n),t.next=5,o["a"].updateUserPreference({userPreferences:i});case 5:case"end":return t.stop()}}),t)})))()}};t["a"]=new s["a"].Store({strict:!0,actions:Me,modules:{app:ie,tabs:ce,JsPanels:ee,menu:ve,bulletinSummaries:Se,options:Le}})},"45ff":function(e,t,a){},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356c","./ar-dz.js":"a356c","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="4678"},"494e":function(e,t,a){"use strict";var n=a("5d16"),i=a.n(n);i.a},"49c2":function(e){e.exports=JSON.parse('{"enum":{"index_footer_1":"index_footer_1","index_footer_2":"index_footer_2","video_stop":"video_stop","search_right_1":"search_right_1","search_right_2":"search_right_2","index_right":"index_right","index_left":"index_left","index_right_bottom":"index_right_bottom","index_left_bottom":"index_left_bottom","member_normal":"member_normal","member_vip":"member_vip","same_page":"same_page","another_page":"another_page","main_page":"main_page","search_page":"search_page","index":"index","index_manage":"index_manage","footer_manage":"footer_manage"}}')},"4a80":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"view",staticClass:"views",attrs:{id:"handoverCategories"}},[a("div",{ref:"searchBlock",staticClass:"searchBlock"},[a("div",[a("el-form",{staticClass:"complex-group",attrs:{model:e.condition},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"狀態"}},[a("el-select",{attrs:{clearable:""},on:{change:e.getListWithDebounce},model:{value:e.condition.isEnabled,callback:function(t){e.$set(e.condition,"isEnabled",t)},expression:"condition.isEnabled"}},[a("el-option",{attrs:{label:"啟用中",value:!0}},[e._v("啟用中")]),a("el-option",{attrs:{label:"已停用",value:!1}},[e._v("已停用")])],1)],1),a("el-form-item",{staticClass:"searchBox",attrs:{label:"名稱"}},[a("el-input",{attrs:{placeholder:"請輸入名稱",maxlength:"10",clearable:""},on:{clear:e.getListWithDebounce},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getListWithDebounce(t)}},model:{value:e.condition.name,callback:function(t){e.$set(e.condition,"name",t)},expression:"condition.name"}}),a("el-button",{attrs:{type:"search",icon:"el-icon-search"},on:{click:e.getListWithDebounce}},[e._v("搜尋")])],1)],1),a("div",{staticClass:"btnWrap"},[e.getActions&&e.getActions.create?a("el-button",{staticClass:"newItem",attrs:{type:"add",icon:"el-icon-plus"},on:{click:function(t){return e.handleAction({action:"create"})}}},[e._v("新增")]):e._e()],1)],1)]),a("div",{staticClass:"tableSection"},[a("TableWrapper",{ref:"tableWrapper",attrs:{tableHeight:e.tableHeight,tableData:e.tbData.list,totalSize:e.tbData.totalSize,pagination:e.pagination,paginationType:e.paginationType,columnSetting:e.columnSetting,listLoading:e.listLoading,currentSort:e.getSorter,disableDeletion:!0},on:{"page-size-change":e.pageSizeChange,"page-change":e.pageChange,"sort-change":e.sortChange}})],1)])},i=[],r=(a("4160"),a("b0c0"),a("159b"),a("96cf"),a("1da1")),s=a("5530"),o=a("cbcf"),c=a("7832"),l=a("088a"),u=a("1b62"),d=a("2f62"),p={name:"Contractors",components:{TableWrapper:l["a"]},mixins:[u["a"]],data:function(){var e=this;this.$createElement;return{tableHeight:0,condition:{name:null,sortName:"id",sort:"ASC",isEnabled:!0},tbData:{},columnSetting:[c["a"].id(),c["a"].name(null,!0),{prop:"code",label:"th.code"},{prop:"areaId",label:"th.areaId",render:function(t,a){var n=a.column,i=a.row,r=i[n.property];return t("span",[e.areaCodeMap[r]])}},c["a"].isEnabled(100),c["a"].updatedOn(120),c["a"].updatedByName(100)],paginationType:"short",listLoading:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(d["b"])("app",{enumRefs:function(e){return e.enumRefs}})),{},{areaCodeMap:function(){var e=this.enumRefs.areaCode,t={};return e.forEach((function(e){t[e.id]=e.code})),t}}),created:function(){this.getList(),this.$bus.$on("resize-table-height",this.setTableHeight)},mounted:function(){this.setTableHeight()},activated:function(){this.setTableHeight(),this.$refs.tableWrapper.forceLayoutUpdate()},beforeDestroy:function(){this.$store.dispatch("JsPanels/closePanelByParent",this.$options.name),this.$bus.$off("resize-table-height")},methods:{getList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!0,t.prev=1,t.next=4,o["a"].getContractorsList(e.getPayLoad);case 4:a=t.sent,e.tbData=a,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:return t.prev=10,e.listLoading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,8,10,13]])})))()},handleAction:function(e){var t=this,a=e.action,n=e.row,i=void 0===n?null:n;if("delete"!==a){var r={action:a,page:this.getCurrentTab.title};null!==i&&(r.title=i.name,r.id=i.id);var s=this.getHeaderTitle(r),c={component:"EditContractors",headerTitle:s,contentSize:"XL"},l={action:a},u="only";null!==i?(u=i.id,l.id=u):l.position=this.condition.position,c.id=u;var d={"refresh-page":function(){t.getListWithDebounce(a)}};this.$store.dispatch("JsPanels/addPanel",{settings:c,props:l,events:d})}else{var p=i.id,m=o["a"].deleteContractors;this.delete(p,m)}}}},m=p,f=a("2877"),h=Object(f["a"])(m,n,i,!1,null,null,null);t["default"]=h.exports},"4a84":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("iframe",{attrs:{src:e.currentSrc,width:"100%",height:"100%"}})},i=[],r=(a("7db0"),a("b0c0"),a("9911"),a("5530")),s=a("2f62"),o={props:{src:{type:String,default:null}},data:function(){return{currentSrc:null}},computed:Object(r["a"])({},Object(s["b"])("tabs",{tabs:function(e){return e.tabs}})),created:function(){this.$options.name=this.getActiveTab?this.getActiveTab.menuCode:"Iframe",this.setCurrentSrc()},activated:function(){this.setCurrentSrc()},methods:{setCurrentSrc:function(){var e=this,t=this.tabs.find((function(t){var a="/".concat(t.link);return t.viewType&&(a="/".concat(t.menuCode)),e.$route.path===a}));this.currentSrc=this.src||(t?t.link:null)}}},c=o,l=a("2877"),u=Object(l["a"])(c,n,i,!1,null,null,null),d=u.exports;t["default"]=d},"510c":function(e,t,a){},5146:function(e,t,a){},"53ff":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=a("77ed"),r=a.n(i),s=a("dfa9"),o=a.n(s),c=a("5c96"),l=a.n(c),u=(a("0fae"),a("c87b")),d=a.n(u),p=a("ca17"),m=a.n(p),f=(a("542c"),a("4160"),a("caad"),a("d3b7"),a("ac1f"),a("2532"),a("5319"),a("159b"),a("ddb0"),a("4360")),h=a("7e0e"),b=a("4a84");a("4aee"),a("cee0");n["default"].use(h["a"]);var g=a("c226"),v=[];g.keys().forEach((function(e){var t=g(e),a=e.replace(/\.\//,"").replace(/\//g,"-").replace(/\.\w+$/,"");e.includes("subComponents")||(v.push(a),n["default"].component(a,t.default||t))})),n["default"].component("Iframe",b["default"]),f["a"].dispatch("app/setPanelComponents",v);a("1276");var y=a("a279"),k=[];y.keys().forEach((function(e){var t=e.replace(/\.\//,"").replace(/\//g,"-").replace(/\.\w+$/,"").split("-")[1],a=/Index|LogIn/;e.includes("subComponents")||a.test(t)||k.push(t)})),f["a"].dispatch("app/setPageComponents",k);a("f524"),a("21af"),a("f532"),a("f441");var w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("routerView")],1)},C=[],x={name:"app",created:function(){this.$router.push({path:"/login"})}},_=x,S=a("2877"),O=Object(S["a"])(_,w,C,!1,null,null,null),T=O.exports,j=(a("c354"),a("a18c")),D=a("a47e");n["default"].use(r.a),document.documentElement.setAttribute("lang",navigator.language),n["default"].use(o.a),n["default"].config.productionTip=!1,n["default"].use(l.a,{locale:d.a}),n["default"].component("Treeselect",m.a);var L={install:function(){n["default"].prototype.$bus=new n["default"]}};n["default"].use(L),n["default"].config.productionTip=!1,new n["default"]({router:j["b"],store:f["a"],i18n:D["a"],render:function(e){return e(T)}}).$mount("#app")},"59ad":function(e){e.exports=JSON.parse('{"WebGroup":"網站管理(日)","slideBanners":"輪播圖管理(日)","advertisements":"廣告圖管理(日)","floatWindows":"浮動視窗(日)","helpCenterMains":"幫助中心(日)","headerLinks":"頁首管理(日)","footerLinks":"頁尾管理(日)","menus":"選單管理(日)","privateMsgs":"站內信推播(日)","MemberGroup":"會員管理(日)","members":"會員資料(日)","records":"瀏覽紀錄(日)","dailyReports":"日報表(日)","VideoGroup":"影片管理(日)","videos":"影片管理(日)","videoTags":"標籤管理(日)","keywords":"關鍵字管理(日)","videoCompanies":"片商管理(日)","videoADs":"平台廣告影片管理(日)","SystemGroup":"後台管理(日)","admins":"管理員帳號管理(日)","groups":"權限群組管理(日)","platforms":"平台管理(日)","systemMenus":"系統選單管理(日)","whiteIp":"白名單(日)","themes":"主題樣式(日)","webSetting":"網站設定(日)","contractors":"委外廠商管理(日)","HandoverGroup":"交接管理(日)","handovers":"交接資訊(日)","handoverTypes":"交接類別(日)","handoverTags":"交接標籤(日)","BulletinGroup":"公告管理(日)","bulletinMainClasses":"公告分類(日)","bulletins":"公告資料管理(日)","SiteInfoGroup":"站台資訊管理(日)","platformManagement":"站台別管理(日)","purposeManagement":"用途別管理(日)","typeManagement":"類別管理(日)","dynamicrequiredManagement":"動態必填管理(日)","AccountManagement":"帳密管理(日)"}')},"5d16":function(e,t,a){},"61a0":function(e,t,a){"use strict";var n=a("bcc4"),i=a.n(n);i.a},"64ac":function(e,t,a){"use strict";var n=a("45ff"),i=a.n(n);i.a},"6cdb":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"smooth-scroll"},[e._t("default")],2)},i=[],r=a("5744"),s=a("bcce"),o={name:"ScrollBar",props:{overscroll:{type:Boolean,default:void 0},alwaysShowTracks:{type:Boolean,default:!1}},data:function(){return{scroll:null,position:[]}},mounted:function(){this.init()},beforeDestroy:function(){this.uninit()},methods:{init:function(){var e=this;if(!this.scroll){var t={plugins:{alwaysShowTracks:this.alwaysShowTracks,overscroll:{effect:"glow"}}};this.overscroll&&(r["b"].use(s["a"]),t.plugins.overscroll.onScroll=function(t){e.checkIfReachEnd(t)}),this.scroll=r["b"].init(this.$el,t)}},uninit:function(){this.scroll&&(this.scroll.destroy(),this.scroll=null)},scrollToTop:function(){this.scroll.scrollTo(0,0,500)},scrollToView:function(e){this.scroll&&this.scroll.scrollIntoView(e,{alignToTop:!0})},checkIfReachEnd:function(e){!e.y&&this.position[this.position.length-1]>0?(this.$emit("reach-end"),this.position=[]):this.position.push(e.y)},reposition:function(){this.scroll&&this.scroll.setPosition(0,0)}}},c=o,l=(a("a196"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,"4583a63c",null),d=u.exports;t["a"]=d},"6dde":function(e){e.exports=JSON.parse('{"th":{"id":"編號","oldId":"舊編號","sequence":"排序","title":"標題","subject":"主旨","account":"帳號","date":"日期","description":"描述","isVIP":"AV層級","IP":"IP位址","preview":"預覽","link":"連結網址","siteUrl":"前台網址","position":"位置","openType":"開啟方式","menuType":"類型","sourceType":"註冊來源","linkItem":"連結項目","isEnabled":"狀態","isFree":"是否免費","state":"訊息狀態","article":"片名","publishStatus":"發布狀況","sentCount":"寄發人數","readCount":"已讀","unreadCount":"未讀","clickCount":"點擊數","viewCount":"觀看數","loginDayCount":"登入天數","viewDayCount":"觀賞天數","videoCount":"影片數量","searchCount":"搜尋次數","depositCount":"存款次數","loginAmount":"登入人數","watchingAmoung":"觀看人數","registerAmoung":"註冊人數","registerDate":"註冊日期","registerType":"註冊類型","remark":"備註","loginDate":"登入日期","os":"作業系統","browser":"瀏覽器","depositTotal":"存款總額","passanger":"訪客觀看人數(不同IP)","normal":"一般會員 觀看人數","vip":"VIP會員 觀看人數","vipDailyDeposit":"VIP日存款總額","newMemeber":"新增會員","newMemberDeposit":"新會員存款人數","name":"名稱","companyName":"片商","groupName":"權限群組","word":"關鍵字","rank":"前端排行","createdOn":"建立時間","assignDate":"交辦日期","completionDate":"完成日期","publishedOn":"上架日期","finishedOn":"下架日期","updatedOn":"更新時間","updatedByName":"更新者","function":"功能","riskLevel":"風險等級","typeName":"類別","tagName":"標籤","importance":"重要度","collected":"收藏","finish":"已結案","newResponse":"新留言","publisher":"交辦人員","readerCount":"閱讀人員","code":"代碼","areaId":"區域別","mainClassName":"主分類","subClassName":"次分類","createdByName":"發布者","createdTime":"建立時間","platformName":"站台別","purposeName":"用途別"},"functionalButton":{"view":"檢視","edit":"編輯","copy":"複製","delete":"刪除","subCategory":"子類別","mailInfo":"寄送資料","record":"記錄","deleteRank":"刪除排行","keywordSequence":"加入排行","addChild":"新增下層"}}')},"6f6d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"responseArea"},[a("FroalaEditor",{attrs:{tag:"textarea",customConfig:e.froalaConfig},model:{value:e.formData.content,callback:function(t){e.$set(e.formData,"content",t)},expression:"formData.content"}}),a("el-upload",{staticClass:"uploader",attrs:{drag:"",action:"",multiple:"","http-request":e.uploadAction,"on-remove":e.clearFileChange,"on-exceed":e.handleExceed,"before-upload":e.beforeUpload,"file-list":e.formData.files,limit:10}},[a("div",{staticClass:"el-upload__text"},[a("i",{staticClass:"el-icon-upload"}),a("p",[e._v("拖曳檔案至此或點擊此處上傳"),a("br"),e._v("(單檔上限 10 MB，一次最多 10 個檔案)")])])]),a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"info",icon:"el-icon-close"},on:{click:e.closeFroalaEditor}},[e._v("取消")]),e.activeMessage&&e.activeMessage.id?a("el-button",{attrs:{type:"success",icon:"el-icon-edit-outline"},on:{click:e.updateMessage}},[a("span",[e._v("儲存留言")])]):a("el-button",{staticClass:"abreast",attrs:{type:"success",icon:"el-icon-s-promotion"},on:{click:e.addMessage}},[a("span",[e._v("送出留言")])])],1)],1)},i=[],r=(a("7db0"),a("a434"),a("b0c0"),a("a9e3"),a("96cf"),a("1da1")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("froala",{attrs:{id:"froalaEditor",tag:"textarea",config:e.config,value:e.value},on:{input:e.handleInput}})},o=[],c=a("b047"),l=a.n(c),u={name:"FroalaEditor",props:{customConfig:{type:Object,default:null},value:{type:String,default:""}},data:function(){return{config:{language:"zh_tw",zIndex:1e3,placeholderText:"請輸入內容",toolbarButtons:["fullscreen","|","fontFamily","fontSize","color","bold","italic","|","underline","strikeThrough","|","superscript","subscript","|","align","formatOL","formatUL","outdent","indent","quote","|","insertLink","insertImage","insertVideo","insertTable","|","emoticons","specialCharacters","insertHR","|","html","help"],requestWithCORS:!0,imageUploadMethod:"POST",requestHeaders:{Authorization:"Bearer "+localStorage.getItem("ctlToken")},imageUploadParam:"file",imageUploadURL:"https://pub-site-info.bckplat.info/api/v1/fileUpload/img",imageInsertButtons:["imageBack","|","imageUpload","imageByURL"],fileUpload:!1,tableCellMultipleStyles:!0,tableCellStyles:{tableStyle:"Default"},linkAlwaysBlank:!0}}},created:function(){this.config=Object.assign(this.config,this.customConfig)},methods:{handleInput:function(e){e.length>65535?this.errorMsg(e.length):this.$emit("input",e)},errorMsg:l()((function(e){this.$message({type:"error",message:"您輸入的內容過多超過儲存上限 ".concat(e-65535," 字元，請簡化樣式或文字")})}),500)}},d=u,p=(a("cce2"),a("2877")),m=Object(p["a"])(d,s,o,!1,null,null,null),f=m.exports,h=f,b=a("21a6"),g=a("f3f4"),v=a("2934"),y={name:"MessageSubmitBlock",components:{FroalaEditor:h},props:{show:{type:Boolean,default:!1},activeMessage:{type:Object,default:null},id:{type:Number,default:null}},data:function(){return{formData:{content:"",files:[]},froalaConfig:{toolbarButtons:["fullscreen","|","fontFamily","fontSize","color","bold","italic","|","underline","strikeThrough","|","formatOL","formatUL","quote","|","insertLink","insertImage","insertVideo","insertTable","html","|"],heightMax:100,heightMin:100}}},watch:{activeMessage:{handler:function(e){if(e){var t=e.content,a=e.files;this.formData.content=t,this.formData.files=a}}}},methods:{resetFroalaEditor:function(){this.formData.content="",this.formData.files=[],this.fileList=[]},closeFroalaEditor:function(){this.resetFroalaEditor(),this.$emit("handle-edit-show")},addMessage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.formData.content){t.next=3;break}return e.$message({message:"留言內容未填寫",type:"error"}),t.abrupt("return");case 3:return t.prev=3,t.next=6,g["a"].addHandoverMsgs(e.id,e.formData);case 6:e.$message({message:"資料新增成功",type:"success"}),e.$emit("reload-message"),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,e.closeFroalaEditor(),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[3,10,12,15]])})))()},updateMessage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.activeMessage.id,t.next=4,g["a"].updateHandoverMsgs(a,e.formData);case 4:e.$message({message:"資料更新成功",type:"success"}),e.$emit("reload-message"),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:return t.prev=10,e.closeFroalaEditor(),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,8,10,13]])})))()},downloadFile:function(e,t){Object(b["saveAs"])(e,t)},uploadAction:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.fileUploading=!0,n=new FormData,n.append("file",e.file),a.prev=3,a.next=6,v["a"].fileUpload(n);case 6:i=a.sent,r={id:i.id,name:e.file.name,link:null},t.formData.files.push(r),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](3),t.$message({message:"檔案無法上傳",type:"warning"});case 14:t.fileUploading=!1;case 15:case"end":return a.stop()}}),a,null,[[3,11]])})))()},clearFileChange:function(e){var t=this.formData.files.find((function(t){return t.name===e.name}));this.formData.files.splice(t,1)},handleExceed:function(){this.message({message:"上傳的檔案數量超過上限",type:"warning"})},beforeUpload:function(){return!0}}},k=y,w=(a("ec36"),Object(p["a"])(k,n,i,!1,null,"e98c95be",null));t["default"]=w.exports},"70b5":function(e,t,a){"use strict";var n=a("73f9"),i=a.n(n);i.a},7117:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"ImgUploader"}},[a("div",{staticClass:"uploadBlock"},[a("el-upload",{attrs:{action:"",drag:"","http-request":e.uploadAction,"before-upload":e.beforeUploadtest,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,limit:1}},[a("i",{directives:[{name:"loading",rawName:"v-loading",value:e.fileUploading,expression:"fileUploading"}],staticClass:"el-icon-upload"}),e.fileUploading?e._e():a("div",[e._v("請點選或拖拉檔案至此處上傳")])])],1)])},i=[],r={name:"ExcelUploader",props:{fileUploading:{type:Boolean,default:!1}},methods:{beforeUploadtest:function(e){var t=/application\/vnd.openxmlformats-officedocument.spreadsheetml.sheet/,a=t.test(e.type);return a||this.$message({message:"上傳的檔案格式僅能為*.xlsx",type:"error"}),a},uploadAction:function(e){var t=new FormData;t.append("file",e.file),this.$emit("get-excel-file-preview",t)},handleRemove:function(){},handleExceed:function(){this.$message({message:"已達上傳上限",type:"warning"})}}},s=r,o=(a("61a0"),a("2877")),c=Object(o["a"])(s,n,i,!1,null,"781ca35a",null);t["default"]=c.exports},"73f9":function(e,t,a){},7832:function(e,t,a){"use strict";a("ac1f"),a("1276");var n,i,r=a("c1df"),s=a.n(r),o=(a("99af"),a("b0c0"),a("b3b0")),c=a("f3f4"),l={name:"Reader",props:{row:{type:Object,default:null}},computed:{getApi:function(){var e={BulletinManagement:o["a"].getBulletinsReaders,HandoverInfoManagement:c["a"].getHandoversReaders};return e[this.$route.name]}},methods:{showChooseMemberPanel:function(){var e=this.row,t=e.id,a=e.title,n=a?"-".concat(a):"",i={component:"MembersChoose",headerTitle:"編號 ".concat(t," ").concat(n," - 閱讀人員"),contentSize:{width:"560px",height:"70%"},bgPanel:"#05517c"},r={apiProp:{api:this.getApi,id:t},readOnly:!0};this.$store.dispatch("JsPanels/addPanel",{settings:i,props:r})}},render:function(e,t){var a=this.row.readerCount;return e("div",{class:"readerCount",on:{click:this.showChooseMemberPanel}},[e("i",{class:"el-icon-s-custom"}),e("p",[a])])}},u=l,d=(a("9d2b"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,"1bef8c87",null),m=p.exports,f={Status:function(e,t){var a=t.column,n=t.row,i=n[a.property];return e("span",{class:i?"enable":"stopped"},[i?"啟用中":"已停用"])},RiskLevel:function(e,t){var a=t.column,n=t.row,i=n[a.property],r={1:{label:"無",class:"risk safe"},2:{label:"低",class:"risk low"},3:{label:"中",class:"risk medium"},4:{label:"高",class:"risk hight"}};return e("span",{class:r[i].class},[r[i].label])},PublishState:function(e,t){var a=t.column,n=t.row,i=n[a.property],r={0:{label:"",class:""},1:{label:"未上架",class:"notyet"},2:{label:"上架中",class:"enable"},3:{label:"已下架",class:"stopped"}};return e("span",{class:r[i].class},[r[i].label])},DateTime:function(e,t){var a=t.column,n=t.row,i=n[a.property];if(s()(i,"YYYY-MM-DD HH:mm:ss",!0).isValid()){var r=i.split(" ");return e("div",[e("span",[r[0]]),e("br"),e("span",[r[1]])])}return e("span",[i])},ReaderCount:function(e,t){var a=t.row;return e(m,{attrs:{row:a}})}},h=f;t["a"]={id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:80,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{prop:"id",label:"th.id",sortable:!0,width:e,fixed:t}},sequence:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{prop:"sequence",label:"th.sequence",sortable:!0,width:e,fixed:t}},name:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{prop:"name",label:"th.name",sortable:t,fixed:e}},title:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{prop:"title",label:"th.title",sortable:e,width:t,fixed:a}},isEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{prop:"isEnabled",label:"th.isEnabled",sortable:t,width:e,render:h.Status}},riskLevel:function(){return{prop:"riskLevel",label:"th.riskLevel",render:h.RiskLevel}},description:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{prop:"description",label:"th.description",width:e,fixed:t}},link:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Link";return{prop:"link",label:"th.link",type:t,width:e}},clickCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{prop:"clickCount",label:"th.clickCount",sortable:t,width:e}},readerCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{prop:"readerCount",label:"th.readerCount",width:e,render:h.ReaderCount}},publishStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{prop:"publishStatus",label:"th.publishStatus",width:e,render:h.PublishState}},publishedOn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:120;return{prop:"publishedOn",label:"th.publishedOn",sortable:!0,width:e,render:h.DateTime}},finishedOn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:120;return{prop:"finishedOn",label:"th.finishedOn",sortable:!0,width:e,render:h.DateTime}},updatedOn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{prop:"updatedOn",label:"th.updatedOn",sortable:t,width:e,render:h.DateTime}},updatedByName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{prop:"updatedByName",label:"th.updatedByName",type:null,sortable:t,width:e}},createdOn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{prop:"createdOn",label:"th.createdOn",type:null,sortable:t,width:e}},createdByName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{prop:"createdByName",label:"th.createdByName",type:null,sortable:t,width:e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{prop:"account",label:"th.account",sortable:t,width:e}}}},"80e5":function(e,t,a){"use strict";var n=a("fb1b"),i=a.n(n);i.a},"851f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"webSetting"}},[a("el-table",{staticClass:"main-table",attrs:{border:"",data:e.tableData}},[a("el-table-column",{attrs:{prop:"keys",label:"鍵值",sortable:"",fixed:"left"}}),a("el-table-column",{attrs:{prop:"value",label:"值"}}),a("el-table-column",{attrs:{prop:"updatedOn",label:"更新時間"}}),a("el-table-column",{attrs:{prop:"updatedByName",label:"更新者"}})],1)],1)},i=[],r={name:"WebSetting",data:function(){return{tableData:[{keys:"我是誰",value:"456",updatedOn:"2019-12-12 11:11:11",updatedByName:"管理員"},{keys:"你是誰",value:"789",updatedOn:"2019-12-12 11:11:11",updatedByName:"管理員"},{keys:"他是誰",value:"789",updatedOn:"2019-12-12 11:11:11",updatedByName:"管理員"},{keys:"我是誰",value:"789",updatedOn:"2019-12-12 11:11:11",updatedByName:"管理員"},{keys:"我是誰",value:"789",updatedOn:"2019-12-12 11:11:11",updatedByName:"管理員"}]}},methods:{}},s=r,o=a("2877"),c=Object(o["a"])(s,n,i,!1,null,null,null);t["default"]=c.exports},8990:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"panelContent"},[a("div",{staticClass:"contentWrapper"},[a("el-form",{ref:"editForm",staticClass:"contentInner",attrs:{model:e.formData,rules:e.rules}},[a("el-form-item",{attrs:{label:"帳號"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.account,callback:function(t){e.$set(e.formData,"account",t)},expression:"formData.account"}})],1),a("el-form-item",{attrs:{label:"名稱"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{staticClass:"groupId",attrs:{label:"權限群組",prop:"groupId"}},[a("el-select",{model:{value:e.formData.groupId,callback:function(t){e.$set(e.formData,"groupId",t)},expression:"formData.groupId"}},e._l(e.groupsList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[e._v(e._s(t.name))])})),1),a("el-button",{on:{click:e.openPermission}},[e._v("權限檢視")])],1),a("el-form-item",{attrs:{label:"描述",prop:"description",rules:[{max:100,message:"最多只能100個字"}]}},[a("el-input",{ref:"firstColumn",model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),a("el-form-item",{attrs:{label:e.$t("th.isEnabled"),prop:"isEnabled"}},[a("el-switch",{staticClass:"switch-group",attrs:{"active-text":"啟用","inactive-text":"停用"},model:{value:e.formData.isEnabled,callback:function(t){e.$set(e.formData,"isEnabled",t)},expression:"formData.isEnabled"}})],1)],1)],1),a("div",{staticClass:"buttonWrapper"},[a("el-button",{attrs:{type:"danger"},on:{click:e.closePanel}},[e._v("取消")]),"view"!==e.action?a("el-button",{attrs:{type:"success"},on:{click:e.checkValidate}},[e._v("儲存")]):e._e()],1)])},i=[],r=(a("99af"),a("7db0"),a("4160"),a("b0c0"),a("a9e3"),a("b64b"),a("ac1f"),a("1276"),a("159b"),a("5530")),s=(a("96cf"),a("1da1")),o=a("b047"),c=a.n(o),l=(a("aa69"),a("1b62")),u=a("ed08"),d=a("a9dd"),p=a("0644"),m=a.n(p),f={name:"EditAdmin",mixins:[l["b"]],props:{id:{type:Number,default:null},action:{type:String,default:null},groupsList:{type:Array,default:null},parent:{type:String,default:null}},data:function(){return{loading:!0,formData:{groupId:null,isEnabled:!0,account:null,name:null,description:null}}},created:function(){this.getAdmin()},methods:{getAdmin:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["d"])(500);case 3:a=m()(d["a"]),a.account=a.account.split("_")[1],Object.keys(e.formData).forEach((function(t){null!==a[t]&&"undefined"!==typeof a[t]&&(e.formData[t]=a[t])})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},checkValidate:function(){var e=this;this.$refs.editForm.validate((function(t){t&&e.submitWhenValidate()}))},submitWhenValidate:c()(Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,t=Object(r["a"])({},this.formDataPayload),delete t.account,delete t.name,e.next=7,Object(u["d"])(500);case 7:this.$message({message:"資料更新成功",type:"success"}),this.$emit("refresh-page"),this.closePanel(),e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](0);case 14:return e.prev=14,this.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[0,12,14,17]])}))),600),closePanel:function(){this.$parent.$emit("close")},openPermission:function(){var e=this,t=this.groupsList.find((function(t){return t.id===e.formData.groupId})).name,a={component:"EditGroup",id:this.formData.groupId,headerTitle:"帳號層級 - ".concat(t," - #").concat(this.formData.groupId),contentSize:{width:"70%",height:"80%"}},n={action:"edit",id:this.formData.groupId};this.$store.dispatch("JsPanels/addPanel",{settings:a,props:n})}}},h=f,b=(a("b0de"),a("2877")),g=Object(b["a"])(h,n,i,!1,null,"46ba359c",null);t["default"]=g.exports},"8bc4":function(e){e.exports=JSON.parse('{"WebGroup":"網站管理","slideBanners":"輪播圖管理","advertisements":"廣告圖管理","floatWindows":"浮動視窗","helpCenterMains":"幫助中心","headerLinks":"頁首管理","footerLinks":"頁尾管理","menus":"選單管理","privateMsgs":"站內信推播","MemberGroup":"會員管理","members":"會員資料","records":"瀏覽紀錄","dailyReports":"日報表","VideoGroup":"影片管理","videos":"影片管理","videoTags":"標籤管理","keywords":"關鍵字管理","videoCompanies":"片商管理","videoADs":"平台廣告影片管理","SystemGroup":"後台管理","admins":"管理員帳號管理","groups":"權限群組管理","platforms":"平台管理","systemMenus":"系統選單管理","whiteIp":"白名單","themes":"主題樣式","webSetting":"網站設定","contractors":"委外廠商管理","HandoverGroup":"交接管理","handovers":"交接資訊","handoverTypes":"交接類別","handoverTags":"交接標籤","BulletinGroup":"公告管理","bulletinMainClasses":"公告分類","bulletins":"公告資料管理","SiteInfoGroup":"站台資訊管理","platformManagement":"站台別管理","purposeManagement":"用途別管理","typeManagement":"類別管理","dynamicrequiredManagement":"動態必填管理","AccountManagement":"帳密管理"}')},9202:function(e,t,a){"use strict";var n=a("c1fb");t["a"]={addSystemNav:function(e){return Object(n["a"])({url:"/v1/systemMenus",method:"post",data:e})},getSystemNavList:function(){return Object(n["a"])({url:"/v1/systemMenus",method:"get"})},getSystemNav:function(e){return Object(n["a"])({url:"/v1/systemMenus/".concat(e),method:"get"})},updateSystemNav:function(e,t){return Object(n["a"])({url:"/v1/systemMenus/".concat(t),method:"patch",data:e})},deleteSystemNav:function(e){return Object(n["a"])({url:"/v1/systemMenus/".concat(e),method:"delete"})},updateSystemNavSequence:function(e){return Object(n["a"])({url:"/v1/systemMenuSequence",method:"put",data:e})},getSystemNavSequence:function(){return Object(n["a"])({url:"/v1/systemMenuSequence",method:"get"})}}},"969a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"view",staticClass:"views",attrs:{id:"systemNavSetting"}},[a("div",{ref:"searchBlock",staticClass:"searchBlock"},[a("div",{staticStyle:{justifyContent:"flex-end"}},[a("el-button",{attrs:{type:"refresh",icon:"el-icon-refresh-right"},on:{click:e.getListWithDebounce}},[e._v("重新整理")]),a("el-button",{attrs:{type:"refresh",icon:"el-icon-sort"},on:{click:function(t){return e.handleAction({action:"sort"})}}},[e._v("排序")]),e.getActions&&e.getActions.create?a("el-button",{attrs:{type:"add",icon:"el-icon-plus"},on:{click:function(t){return e.handleAction({action:"create"})}}},[e._v("新增系統選單")]):e._e()],1)]),a("TreeColumn",{ref:"treeColumn",attrs:{loading:e.loading,columnSetting:e.columnSetting,treeType:e.treeType,tableData:e.tableData,tableHeight:e.tableHeight,disableDeletion:!0}})],1)},i=[],r=(a("99af"),a("d81d"),a("b0c0"),a("96cf"),a("1da1")),s=(a("9202"),a("ed08")),o=a("b047"),c=a.n(o),l=a("7832"),u=a("1b62"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tableSection"},[a("ScrollBar",{style:{height:e.tableHeight+"px"},attrs:{alwaysShowTracks:!0}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"elTable",staticClass:"nav-main-table main-table",staticStyle:{width:"100%"},attrs:{data:e.filterTableData,border:"","row-style":e.showTr}},[a("el-table-column",{key:"name",attrs:{prop:"name","min-width":250,fixed:"left"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("div",{staticClass:"custom-header"},[a("span",[e._v("選單名稱")]),a("el-input",{staticClass:"searchBox",staticStyle:{display:"inline"},attrs:{size:"mini",placeholder:"請輸入關鍵字..."},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1)]}},{key:"default",fn:function(t){return[a("div",{staticClass:"treeColumn"},[e._l(t.row._level,(function(e){return a("span",{key:e,staticClass:"ms-tree-space"})})),e.toggleIconShow(t.row)?a("button",{staticClass:"toggleBtn",on:{click:function(a){return e.toggle(t.$index)}}},[t.row._expanded?e._e():a("i",{staticClass:"el-icon-plus"}),t.row._expanded?a("i",{staticClass:"el-icon-minus"}):e._e()]):e._e(),e.toggleIconShow(t.row)?e._e():a("span",{staticClass:"ms-tree-space"}),a("span",{style:{marginLeft:e.toggleIconShow(t.row)?"0":"-3px"}},[e._v(e._s(t.row.title))])],2)]}}])}),e._l(e.columnSetting,(function(t,n){return a("el-table-column",{key:t.prop,attrs:{label:e.$t(t.label),prop:t.prop,"min-width":t.width,fixed:!!t.fixed&&t.fixed},scopedSlots:e._u([{key:"default",fn:function(n){return[t.render?a("RenderJSX",{attrs:{render:t.render,scope:n}}):a("span",[e._v(e._s(n.row[t.prop]))])]}}],null,!0)})}))],2)],1)],1)},p=[],m=(a("4de4"),a("c975"),a("a9e3"),a("498a"),a("6cdb")),f=a("3bd5"),h={name:"TreeColumn",components:{ScrollBar:m["a"],RenderJSX:f["a"]},props:{loading:{type:Boolean,default:!1},columnSetting:{type:Array,default:null},treeType:{type:String,default:"normal"},tableData:{type:Array,default:null},tableHeight:{type:Number,default:0},disableDeletion:{type:Boolean,default:!1}},data:function(){return{filterText:""}},computed:{filterTableData:function(){var e=this;return this.filterText?this.tableData.filter((function(t){return t.title.indexOf(e.filterText.trim())>=0})):this.tableData}},methods:{showTr:function(e){var t=e.row,a=!t._parent||t._parent._expanded&&t._parent._show,n=t;return n._show=a,a?"":{display:"none"}},toggle:function(e){var t=this.tableData[e];t._expanded=!t._expanded},spaceIconShow:function(e){return 0===e},toggleIconShow:function(e){return!!(e.children&&e.children.length>0)},forceLayoutUpdate:function(){this.$refs.elTable.doLayout()}}},b=h,g=(a("d291"),a("2877")),v=Object(g["a"])(b,d,p,!1,null,"ea0535e4",null),y=v.exports,k=y,w=a("a9dd"),C={name:"SystemNavSetting",components:{TreeColumn:k},mixins:[u["a"]],data:function(){this.$createElement;return{loading:!1,tableHeight:0,defaultExpandAll:!0,columnSetting:[{label:"th.menuType",prop:"menuType",width:100,render:function(e,t){var a=t.column,n=t.row,i=n[a.property],r={1:{label:"目錄",class:"tab"},2:{label:"頁面",class:"page"}};return e("span",{class:r[i].class},[r[i].label])}},{label:"th.openType",prop:"openType",width:100,render:function(e,t){var a=t.column,n=t.row,i=n[a.property],r={1:"-",2:"瀏覽器另開",3:"Tab",4:"JsPanel"};return e("span",[r[i]])}},l["a"].riskLevel(),l["a"].isEnabled(100,!1),l["a"].updatedOn(160,!1),l["a"].updatedByName(120,!1)],treeType:"normal",tableData:[],customAction:["addChild"]}},created:function(){this.getList(),this.$bus.$on("resize-table-height",this.setTableHeight)},mounted:function(){this.setTableHeight()},activated:function(){this.setTableHeight(),this.$refs.treeColumn.forceLayoutUpdate()},beforeDestroy:function(){this.$store.dispatch("JsPanels/closePanelByParent",this.$options.name),this.$bus.$off("resize-table-height")},methods:{setFunctionColumn:function(){var e=this;this.$createElement;this.columnSetting.push({label:"th.function",prop:"func",width:this.buttonsWidth,fixed:"right",render:function(t,a){var n=a.row,i=n.isEnabled,r=n.menuType;return t("div",{class:"btn-wrap"},[e.getTableActions.map((function(a){return(1===r||"addChild"!==a)&&t("el-button",{key:a,attrs:{size:"small",type:e.functionalCol[a].btnType,icon:e.functionalCol[a].icon,disabled:i&&"delete"===a,title:i&&"delete"===a?"請先停用再刪除":null},on:{click:function(){e.handleAction({action:a,row:n})}}},[e.$t("functionalButton.".concat(a))])}))])}})},getList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Object(s["d"])(500);case 4:a=w["l"],e.tableData=Object(s["h"])(a.list,e.defaultExpandAll,"id"),e.setTableHeight(),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](1);case 11:return t.prev=11,e.loading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,9,11,14]])})))()},getListWithDebounce:c()((function(){this.getList()}),500,{leading:!0,trailing:!1}),handleAction:function(e){var t=this,a=e.action,n=e.row,i=void 0===n?null:n,r=null!==i&&void 0!==i?i:{id:"only"};if("delete"!==a){var s={create:{component:"EditSystemNav",headerTitle:"新增系統選單"},edit:{component:"EditSystemNav",headerTitle:"系統選單 - ".concat(r.title," - #").concat(r.id)},copy:{component:"EditSystemNav",headerTitle:"系統選單"},sort:{component:"TreeSequence",headerTitle:"系統選單排序"},addChild:{component:"EditSystemNav",headerTitle:"新增系統選單"}},o={component:s[a].component,id:r.id,headerTitle:s[a].headerTitle,contentSize:{width:"960px",height:"700px"}},c={action:a,id:"string"===typeof r.id?null:r.id},l={"refresh-page":function(){t.getListWithDebounce()}};this.$store.dispatch("JsPanels/addPanel",{settings:o,props:c,events:l})}else this.deleteNav(i)},deleteNav:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.id,n=e.title,a.prev=1,a.next=4,t.$confirm("確認刪除「".concat(n,"」？"),"提示",{confirmButtonText:"確認",cancelButtonText:"取消",cancelButtonClass:"cancelButton",confirmButtonClass:"confirmButton",type:"error"});case 4:return a.prev=4,a.next=7,Object(s["d"])(500);case 7:t.$message({showClose:!0,type:"success",message:"選單删除成功!"}),t.getList(),a.next=13;break;case 11:a.prev=11,a.t0=a["catch"](4);case 13:a.next=18;break;case 15:return a.prev=15,a.t1=a["catch"](1),a.abrupt("return",!1);case 18:return a.abrupt("return",!0);case 19:case"end":return a.stop()}}),a,null,[[1,15],[4,11]])})))()}}},x=C,_=(a("f361"),Object(g["a"])(x,n,i,!1,null,"79144778",null));t["default"]=_.exports},9737:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"logIn"}},[e._m(0),a("div",{staticClass:"inputBlock"},[a("div",{staticClass:"subTitle"},[e._v(e._s(e.getProjectName))]),a("el-form",{ref:"complexGroup",staticClass:"complex-group",attrs:{model:e.formData,"status-icon":!0}},[a("el-form-item",{staticClass:"searchBox",attrs:{prop:"employee",rules:[{required:!0,message:"帳號未填寫"}]}},[a("el-input",{staticClass:"login-input",attrs:{"prefix-icon":"el-icon-user-solid"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.checkValidate(t)}},model:{value:e.formData.employee,callback:function(t){e.$set(e.formData,"employee",t)},expression:"formData.employee"}})],1),a("el-form-item",{staticClass:"searchBox",attrs:{prop:"password",rules:[{required:!0,message:"密碼未填寫"}]}},[a("el-input",{staticClass:"login-input",attrs:{"show-password":!0,"prefix-icon":"el-icon-lock"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.checkValidate(t)}},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}})],1)],1),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"btn-login",attrs:{type:"primary"},on:{click:e.checkValidate}},[e._v("登入")])],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weatherBlock"},[a("a",{staticClass:"weatherwidget-io",attrs:{href:"https://forecast7.com/zh-tw/24d15120d67/taichung-city/","data-font":"微軟正黑體 (Microsoft JhengHei)","data-icons":"Climacons Animated","data-theme":"weather_one","data-label_1":"台中市","data-label_2":"氣象"}})])}],r=(a("96cf"),a("1da1")),s=(a("2934"),a("c354")),o=a("ed08"),c=a("1b74"),l={name:"LogIn",data:function(){return{loading:!1,formData:{employee:"",password:""}}},computed:{getProjectName:function(){return"Vue_Core_System"}},created:function(){Object(c["default"])(document,"script","weatherwidget-io-js")},methods:{checkValidate:function(){var e=this;this.$refs.complexGroup.validate((function(t){t&&e.login()}))},login:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,{account:e.formData.employee,password:e.formData.password},t.prev=2,t.next=5,Object(o["d"])(500);case 5:return t.next=7,Object(s["a"])();case 7:e.$router.push({path:"/"}),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](2);case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,10,12,15]])})))()}}},u=l,d=a("2877"),p=Object(d["a"])(u,n,i,!1,null,null,null);t["default"]=p.exports},"9d2b":function(e,t,a){"use strict";var n=a("0582"),i=a.n(n);i.a},a04b:function(e,t,a){"use strict";var n=a("510c"),i=a.n(n);i.a},a18c:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("d3b7");var n=a("2b0e"),i=a("8c4f");n["default"].use(i["a"]);var r=[{path:"/login",name:"login",component:function(){return a.e("chunk-2d0c4710").then(a.bind(null,"3b9d"))}},{path:"/themes",name:"Themes",component:function(){return a.e("chunk-2d229019").then(a.bind(null,"dc37"))}},{path:"/401",name:"Page401",component:function(){return a.e("chunk-4c0342ed").then(a.bind(null,"eff2"))}},{path:"/403",name:"Page403",component:function(){return a.e("chunk-efa744fe").then(a.bind(null,"7b03"))}},{path:"/404",name:"Page404",component:function(){return a.e("chunk-0e281af2").then(a.bind(null,"6da3"))}},{path:"/publicHandovers",name:"PublicHandovers",component:function(){return Promise.resolve().then(a.bind(null,"0c5e"))}}],s=function(){return new i["a"]({mode:"history",routes:r})},o=s();t["b"]=o},a196:function(e,t,a){"use strict";var n=a("53ff"),i=a.n(n);i.a},a279:function(e,t,a){var n={"./Themes/Themes.vue":"aa40","./adminManagement/AdminManagement.vue":"abbc","./contractors/Contractors.vue":"4a80","./index/index.vue":"38dd","./login/LogIn.vue":"9737","./permissionGroup/PermissionGroup.vue":"2b11","./systemConfig/SystemConfig.vue":"1642","./systemNavSetting/SystemNavSetting.vue":"969a","./webSetting/WebSetting.vue":"851f"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="a279"},a47e:function(e,t,a){"use strict";var n=a("2b0e"),i=a("a925"),r=a("5530"),s=a("dd2c"),o=a("8bc4"),c=a("6dde"),l=a("0f0f"),u=Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},s),o),c),l),d=u,p=a("0720"),m=a("59ad"),f=a("b75a6"),h=a("49c2"),b=Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},p),m),f),h),g=b;n["default"].use(i["a"]);var v={"zh-TW":d,"ja-JP":g},y=new i["a"]({locale:"zh-TW",messages:v});t["a"]=y},a76c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"panelContent emsTheme"},[a("ScrollBar",{ref:"scrollbar",staticClass:"contentWrapper"},[e.readOnly?e._e():a("el-form",{staticClass:"complex-group"},[a("el-form-item",{staticClass:"appendBox"},[a("el-input",{attrs:{placeholder:"請輸入...",clearable:""},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search",loading:e.isFiltering},slot:"append"},[e._v("搜尋")])],1)],1)],1),e.showMember.compManagers.length>0?a("el-collapse",{staticClass:"top-chiefs",attrs:{accordion:!e.readOnly}},[a("el-collapse-item",{attrs:{name:"高層"}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e.numberLimit?[a("el-checkbox",{attrs:{indeterminate:e.indeterminateCompChief},on:{change:function(t){return e.toggleCheckedComp(t)}},model:{value:e.compManagersData.status,callback:function(t){e.$set(e.compManagersData,"status",t)},expression:"compManagersData.status"}},[e._v("高層")])]:[a("span",[e._v("高層")])]],2),a("div",{staticClass:"members"},[a("div",{staticClass:"staffs"},[a("div",{staticClass:"chiefs"},e._l(e.showMember.compManagers,(function(t){return a("span",{key:t.id,staticClass:"chief top"},[a("el-checkbox",{attrs:{label:t.id,disabled:e.checkDisabled(t.id)},on:{change:function(t){return e.toggleCheckedCompanyManager(t)}},model:{value:e.compCheckedList,callback:function(t){e.compCheckedList=t},expression:"compCheckedList"}},[e._v(e._s(t.name))])],1)})),0)])])])],1):e._e(),e.numberLimit||e.readOnly?e._e():a("div",{staticClass:"allChecked"},e._l(e.headerCheckboxData,(function(t,n){return a("el-checkbox",{key:n,attrs:{disabled:""!==e.filterText},on:{change:function(a){return e.toggleCheckedAll(a,t.params)}},model:{value:e.headerCheckboxData[n].status,callback:function(t){e.$set(e.headerCheckboxData[n],"status",t)},expression:"headerCheckboxData[index].status"}},[e._v(e._s(t.label))])})),1),a("el-collapse",{staticClass:"memberTree",attrs:{accordion:!e.readOnly},on:{change:e.onCollapseChange},model:{value:e.activeBlocks,callback:function(t){e.activeBlocks=t},expression:"activeBlocks"}},e._l(e.showMember.departments,(function(t){return a("el-collapse-item",{key:t.departmentId,attrs:{name:t.departmentId}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e.numberLimit?[e._v(e._s(t.departmentName))]:[a("el-checkbox",{attrs:{label:t.departmentId,disabled:e.readOnly,indeterminate:e.getIndeterminatedStatus("dept",t.departmentId)},on:{change:function(a){return e.toggleCheckedDept(a,t.departmentId)}},model:{value:e.deptCheckedList,callback:function(t){e.deptCheckedList=t},expression:"deptCheckedList"}},[e._v(e._s(t.departmentName))])]],2),a("div",{staticClass:"members"},[a("div",{staticClass:"staffs"},[a("div",{staticClass:"chief"},e._l(t.deptManagers,(function(n){return a("el-checkbox",{key:n.id,attrs:{disabled:e.checkDisabled&&e.check(n.id)||e.readOnly,label:n.id},on:{change:function(a){return e.toggleEmployees(a,n.id,t.departmentId)}},model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},[e._v(e._s(n.name))])})),1)]),e._l(t.groups,(function(n){return a("div",{key:n.groupCode,staticClass:"group"},[a("div",{staticClass:"title"},[e.numberLimit?[e._v(e._s(n.groupName))]:[a("el-checkbox",{attrs:{label:n.groupCode,disabled:e.readOnly,indeterminate:e.getIndeterminatedStatus("group",n.groupCode)},on:{change:function(a){return e.toggleCheckedGroup(a,n.groupCode,t.departmentId)}},model:{value:e.groupCheckedList,callback:function(t){e.groupCheckedList=t},expression:"groupCheckedList"}},[e._v(e._s(n.groupName))])]],2),a("div",{staticClass:"staffs"},[a("div",{staticClass:"chief"},e._l(n.groupManagers,(function(i){return a("el-checkbox",{key:i.id,attrs:{disabled:e.checkDisabled&&e.check(i.id)||e.readOnly,label:i.id},on:{change:function(a){return e.toggleEmployees(a,i.id,t.departmentId,n.groupCode)}},model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},[e._v(e._s(i.name))])})),1),a("div",{staticClass:"member"},e._l(n.employees,(function(i){return a("el-checkbox",{key:i.id,attrs:{disabled:e.checkDisabled&&e.check(i.id)||e.readOnly,label:i.id},on:{change:function(a){return e.toggleEmployees(a,i.id,t.departmentId,n.groupCode)}},model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},[e._v(e._s(i.name))])})),1)])])}))],2)])})),1)],1),e.numberLimit?a("p",[e._v("已選"+e._s(e.checkedList.length)+"員，最多可選"+e._s(e.numberLimit)+"員")]):e._e(),a("div",{staticClass:"buttonWrapper"},[e.readOnly?e._e():a("el-button",{attrs:{type:"success"},on:{click:e.submit}},[a("i",{staticClass:"fa fa-save"}),a("span",[e._v("儲存")])]),a("el-button",{attrs:{type:"cancel",icon:"el-icon-close"},on:{click:e.closePanel}},[e._v("取消")])],1)],1)},i=[],r=(a("99af"),a("a623"),a("4de4"),a("7db0"),a("4160"),a("caad"),a("c975"),a("d81d"),a("a434"),a("a9e3"),a("2532"),a("159b"),a("96cf"),a("1da1")),s=a("2909"),o=a("5530"),c=a("6cdb"),l=a("2ef0"),u=a("2f62"),d={name:"MembersChoose",components:{ScrollBar:c["a"]},props:{selectedMembers:{type:Array,default:null},parent:{type:String,default:null},apiProp:{type:Object,default:null},numberLimit:{type:Number,default:null},readOnly:{type:Boolean,default:!1}},data:function(){return{loading:!1,filterText:"",isFiltering:!1,allChecked:!1,allMemberList:null,activeCompBlocks:["高層"],activeBlocks:null,checkedList:[],compCheckedList:[],deptCheckedList:[],groupCheckedList:[],compManagersData:{label:"高階主管",params:"Boss",status:!1},headerCheckboxData:[{label:"所有部門人員",params:"All",status:!1},{label:"所有主管",params:"Chiefs",status:!1},{label:"所有部主管",params:"DeptChiefs",status:!1},{label:"所有組主管",params:"GroupChiefs",status:!1}]}},computed:Object(o["a"])(Object(o["a"])({},Object(u["b"])("app",{allEmployees:function(e){return e.allEmployees}})),{},{checkDisabled:function(){return this.numberLimit&&this.checkedList.length>this.numberLimit-1},showMember:function(){var e=Object(l["cloneDeep"])(this.allMemberList);if(this.filterText||this.readOnly){var t=this.readOnly?this.filterById:this.filterByRegexp;e.departments=e.departments.filter((function(e){var a=e,n=a.groups,i=a.deptManagers,r=Array.isArray(i),s=Array.isArray(n);return r&&(a.deptManagers=t(i,"name")),s&&(a.groups=n.filter((function(e){var a=e,n=a.groupManagers,i=a.employees;return a.groupManagers=t(n,"name"),a.employees=t(i,"name"),a.groupManagers.length||a.employees.length}))),a.deptManagers.length||a.groups.length}))}return e},allIDList:function(){return[].concat(Object(s["a"])(this.compCheckedList),Object(s["a"])(this.checkedList))}}),created:function(){this.setInitialData()},methods:{onCollapseChange:function(){this.$refs.scrollbar.reposition()},setInitialData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.allMemberList=e.allEmployees,e.checkedList=null!==(a=e.selectedMembers)&&void 0!==a?a:[],!e.apiProp){t.next=17;break}return n=e.apiProp,i=n.id,r=n.api,t.prev=4,e.loading=!0,t.next=8,r(i);case 8:s=t.sent,e.checkedList=s.list,t.next=14;break;case 12:t.prev=12,t.t0=t["catch"](4);case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:e.checkAllCheckedState();case 18:case"end":return t.stop()}}),t,null,[[4,12,14,17]])})))()},filterByRegexp:function(e,t){var a=this.filterText.toLowerCase();if(Array.isArray(e)){var n=e.filter((function(e){var n=e[t].toLowerCase();return n.indexOf(a)>-1}));return n.length?n:[]}return[]},filterById:function(e){var t=this;if(Array.isArray(e)){var a=e.filter((function(e){return t.checkedList.indexOf(e.id)>-1}));return a.length?a:[]}return[]},closePanel:function(){this.$parent.$emit("close")},toggleCheckedAll:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"All";switch(a){case"All":var n=this.allMemberList.departments;n.forEach((function(a){e?t.addToList(t.deptCheckedList,a.departmentId):t.removeFromList(t.deptCheckedList,a.departmentId),t.allChiefsChecked=e,t.toggleCheckedDept(e,a.departmentId,!1,!0,!1)})),this.checkAllStatus(),this.checkAllChiefsStatus(),this.checkDeptChiefsStatus(),this.checkGroupChiefsStatus();break;case"Chiefs":this.allMemberList.departments.forEach((function(a){t.toggleCheckedDept(e,a.departmentId,!0,!0,!1)})),this.headerCheckboxData[1].status=e,this.headerCheckboxData[2].status=e,this.headerCheckboxData[3].status=e;break;case"DeptChiefs":this.allMemberList.departments.forEach((function(a){t.toggleCheckedDept(e,a.departmentId,!0,!1,!1)})),this.headerCheckboxData[2].status=e,this.checkAllChiefsStatus();break;case"GroupChiefs":this.allMemberList.departments.forEach((function(a){var n=a.departmentId,i=a.groups||[];i.forEach((function(a){var i=a.groupCode;t.toggleCheckedGroup(e,i,n,!0,!1,!1)})),t.checkDeptStatus(a.departmentId)})),this.headerCheckboxData[3].status=e,this.checkAllChiefsStatus();break;default:}},toggleCheckedCompanyManager:function(){var e=this;this.compManagersData.status=this.allMember.compManagers.every((function(t){return e.compCheckedList.includes(t.id)})),this.checkCompManagerStatus()},toggleCheckedComp:function(e){var t=this;this.showMember.compManagers.forEach((function(a){e?t.addToList(t.compCheckedList,a.id):t.removeFromList(t.compCheckedList,a.id)})),this.checkCompManagerStatus(),this.checkAllStatus()},toggleCheckedDept:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this.showMember.departments.find((function(e){return e.departmentId===t})),o=this.filterText,c=r.deptManagers,l=r.groups,u=o?this.filterByRegexp(c,"name"):Object(s["a"])(c),d=[];d=n&&!i||!Array.isArray(l)?u:u.concat(l),d.forEach((function(i){var r=n?i.id:i.groupCode||i.id;if(i.groupCode){e?a.addToList(a.groupCheckedList,i.groupCode):a.removeFromList(a.groupCheckedList,i.groupCode);var s=i.groupCode;a.toggleCheckedGroup(e,s,t,n)}else e?a.addToList(a.checkedList,r):a.removeFromList(a.checkedList,r)})),this.checkDeptStatus(t)},toggleCheckedGroup:function(e,t,a){var n,i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],c=this.filterText,l=this.showMember.departments.find((function(e){return e.departmentId===a})).groups.find((function(e){return e.groupCode===t})),u=l.groupManagers,d=l.employees,p=c?this.filterByRegexp(u,"name"):Object(s["a"])(u);if(!r&&o&&Array.isArray(d)){var m=c?this.filterByRegexp(d,"name"):Object(s["a"])(d);n=[].concat(Object(s["a"])(p),Object(s["a"])(m))}else n=p;n.forEach((function(t){e?i.addToList(i.checkedList,t.id):i.removeFromList(i.checkedList,t.id)})),this.checkGroupStatus(a,t)},toggleEmployees:function(e,t,a,n){e?this.addToList(this.checkedList,t):this.removeFromList(this.checkedList,t),n?this.checkGroupStatus(a,n):this.checkDeptStatus(a)},checkAllCheckedState:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:return t.next=4,e.showMember.departments.forEach((function(t){var a=Array.isArray(t.groups)&&t.groups.length>0;a?t.groups.forEach((function(a){e.checkGroupStatus(t.departmentId,a.groupCode,!1)})):e.checkDeptStatus(t.departmentId)}));case 4:e.checkCompManagerStatus(),e.checkAllChiefsStatus(),e.checkDeptChiefsStatus(),e.checkGroupChiefsStatus();case 8:case"end":return t.stop()}}),t)})))()},checkAllStatus:function(){var e=this,t=this.allMemberList.departments,a=t.every((function(t){return e.deptCheckedList.includes(t.departmentId)}));this.headerCheckboxData[0].status=a},checkAllChiefsStatus:function(){var e=this;this.headerCheckboxData[1].status=this.allMemberList.departments.every((function(t){var a=Array.isArray(t.deptManagers)&&t.deptManagers.length>0,n=a?t.deptManagers.map((function(e){return e.id})):[],i=!1,r=!1;return i=!a||n.every((function(t){return e.checkedList.includes(t)})),!!i&&(r=!(Array.isArray(t.groups)&&t.groups.length>0)||t.groups.every((function(t){var a=t.groupManagers,n=Array.isArray(a)&&a.length>0,i=n?a.map((function(e){return e.id})):[],r=!n||i.every((function(t){return e.checkedList.includes(t)}));return r})),r)}))},checkDeptChiefsStatus:function(){var e=this,t=!0,a=this.allMemberList.departments.every((function(a){var n=a.deptManagers,i=Array.isArray(n)&&n.length>0,r=i?n.map((function(e){return e.id})):[];return!i||(t=!1,r.every((function(t){return e.checkedList.includes(t)})))}));this.headerCheckboxData[2].status=!t&&a,this.checkAllStatus(),this.checkAllChiefsStatus()},checkGroupChiefsStatus:function(){var e=this,t=!0,a=this.allMemberList.departments.every((function(a){var n=!0;return Array.isArray(a.groups)&&a.groups.length>0&&(n=a.groups.every((function(a){var n=a.groupManagers,i=Array.isArray(n)&&n.length>0,r=i?n.map((function(e){return e.id})):[];return!i||(t=!1,r.every((function(t){return e.checkedList.includes(t)})))}))),n}));this.headerCheckboxData[3].status=!t&&a,this.checkAllChiefsStatus(),this.checkAllStatus()},checkDeptStatus:function(e){var t=this,a=this.showMember.departments.find((function(t){return t.departmentId===e})),n=a.deptManagers,i=a.groups,r=Array.isArray(i)&&i.length>0,s=r?n.concat(i):n,o=s.every((function(e){var a=!0;return e.id&&(a=t.checkedList.includes(e.id)),e.groupCode&&(a=t.groupCheckedList.includes(e.groupCode)),a}));o?this.addToList(this.deptCheckedList,e):this.removeFromList(this.deptCheckedList,e),this.readOnly?this.activeBlocks=this.deptCheckedList:1===this.showMember.departments.length&&(this.activeBlocks=this.showMember.departments[0].departmentId),this.checkAllStatus()},checkGroupStatus:function(e,t){var a=this,n=this.showMember.departments.find((function(t){return t.departmentId===e})).groups.find((function(e){return e.groupCode===t})),i=n.groupManagers,r=n.employees,s=Array.isArray(i)&&i.length>0,o=r.map((function(e){return e.id}));s&&(o=o.concat(i.map((function(e){return e.id}))));var c=o.every((function(e){return a.checkedList.includes(e)}));c?this.addToList(this.groupCheckedList,t):this.removeFromList(this.groupCheckedList,t),this.checkDeptStatus(e)},checkCompManagerStatus:function(){var e=this;this.compManagersData.status=this.allMemberList.compManagers.every((function(t){return e.compCheckedList.includes(t.id)}))},addToList:function(e,t){e.includes(t)||e.push(t)},removeFromList:function(e,t){var a=e.indexOf(t);-1!==a&&e.splice(a,1)},indeterminateCompChief:function(){var e=this.compCheckedList.length;return e>0&&e<this.allMember.compManagers.length},getIndeterminatedStatus:function(e,t){var a=this,n=[],i=[];switch(e){case"dept":var r=this.showMember.departments.find((function(e){return e.departmentId===t}));Array.isArray(r.deptManagers)&&(n=n.concat(r.deptManagers),r.deptManagers.forEach((function(e){a.checkedList.includes(e.id)&&i.push(e)}))),r.groups.forEach((function(e){Array.isArray(e.groupManagers)&&(n=n.concat(e.groupManagers),e.groupManagers.forEach((function(e){a.checkedList.includes(e.id)&&i.push(e)}))),Array.isArray(e.employees)&&(n=n.concat(e.employees),e.employees.forEach((function(e){a.checkedList.includes(e.id)&&i.push(e)})))}));break;case"group":var s=this.showMember.departments.find((function(e){return e.groups.find((function(e){return e.groupCode===t}))})).groups.find((function(e){return e.groupCode===t}));Array.isArray(s.groupManagers)&&(n=n.concat(s.groupManagers),s.groupManagers.forEach((function(e){a.checkedList.includes(e.id)&&i.push(e)}))),Array.isArray(s.employees)&&(n=n.concat(s.employees),s.employees.forEach((function(e){a.checkedList.includes(e.id)&&i.push(e)})));break;default:}return i.length>0&&i.length<n.length},submit:function(){this.$emit("update-member-chosen-list",this.allIDList),this.closePanel()},check:function(e){return this.allIDList.every((function(t){return t!==e}))}}},p=d,m=(a("70b5"),a("2877")),f=Object(m["a"])(p,n,i,!1,null,"7dc9a580",null);t["default"]=f.exports},a7a2:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"panelContent"},[a("div",{staticClass:"contentWrapper"},[a("el-form",{ref:"editForm",staticClass:"contentInner",attrs:{model:e.formData,rules:e.rules}},[a("el-form-item",{attrs:{label:"名稱",prop:"name",rules:[{required:!0,message:"↑此項必填"},{max:10,message:"最多只能 10 個字"}]}},[a("el-input",{ref:"firstColumn",model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{staticClass:"codeFrame",attrs:{label:"代碼",prop:"code",rules:[{required:!0,validator:e.validator}]}},[a("el-input",{attrs:{maxLength:"10"},model:{value:e.formData.code,callback:function(t){e.$set(e.formData,"code","string"===typeof t?t.trim():t)},expression:"formData.code"}}),a("el-button",{staticClass:"getList-btn",attrs:{type:"bd-record",disabled:e.getUsefulCode},on:{click:e.getLiaisonWithDebounce}},[e._v("獲取負責人名單")])],1),a("el-form-item",{attrs:{label:"可見區域"}},[a("el-checkbox-group",{model:{value:e.formData.areaIdSet,callback:function(t){e.$set(e.formData,"areaIdSet",t)},expression:"formData.areaIdSet"}},e._l(e.enumRefs.areaCode,(function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.code))])})),1)],1),a("el-form-item",{attrs:{label:"狀態",prop:"isEnabled"}},[a("el-switch",{staticClass:"switch-group",attrs:{"active-text":"啟用","inactive-text":"停用"},model:{value:e.formData.isEnabled,callback:function(t){e.$set(e.formData,"isEnabled",t)},expression:"formData.isEnabled"}})],1),a("el-form-item",{staticClass:"owner",attrs:{label:"負責人",prop:"ownerInfoSet"}},[0===e.liaisons.length?[a("p",[e._v("請輸入代碼，並點擊「獲取負責人名單」按鈕。")])]:[a("div",{staticClass:"searchBox"},[a("el-input",{staticClass:"search",attrs:{placeholder:"請輸入關鍵字篩選"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.filterText,expression:"!filterText"}],staticClass:"el-icon-search"}),a("i",{directives:[{name:"show",rawName:"v-show",value:e.filterText,expression:"filterText"}],staticClass:"el-icon-circle-close close",on:{click:e.clearFiterText}})],1),a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.selectAll},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全部")]),a("el-checkbox-group",{model:{value:e.formData.ownerInfoSet,callback:function(t){e.$set(e.formData,"ownerInfoSet",t)},expression:"formData.ownerInfoSet"}},e._l(e.filterLiaisonsData,(function(t){return a("el-checkbox",{key:t.info,attrs:{label:t.info},on:{change:e.checkSelectAll}},[e._v(e._s(t.name))])})),1),0===e.filterLiaisonsData.length?[a("span",[e._v("暫無項目")])]:e._e()]],2)],1)],1),a("div",{staticClass:"buttonWrapper"},[a("el-button",{attrs:{type:"danger"},on:{click:e.closePanel}},[e._v("取消")]),"view"!==e.action?a("el-button",{attrs:{type:"success"},on:{click:e.checkValidate}},[e._v("儲存")]):e._e()],1)])},i=[],r=(a("4de4"),a("7db0"),a("4160"),a("c975"),a("d81d"),a("b0c0"),a("a9e3"),a("b64b"),a("4d63"),a("ac1f"),a("25f0"),a("159b"),a("96cf"),a("1da1")),s=a("5530"),o=a("b047"),c=a.n(o),l=a("cbcf"),u=a("2f62"),d=a("1b62"),p=a("ed08"),m={name:"AddContractors",mixins:[d["b"]],props:{id:{type:Number,default:null},action:{type:String,default:null},parent:{type:String,default:null}},data:function(){return{formData:{name:null,code:null,areaIdSet:[],isEnabled:!0,ownerInfoSet:[]},loading:!1,validator:p["a"],liaisons:[],filterText:"",checkAll:!1,isIndeterminate:!0}},computed:Object(s["a"])(Object(s["a"])({},Object(u["b"])("app",{enumRefs:function(e){return e.enumRefs}})),{},{filterLiaisonsData:function(){var e=this;return this.filterText?this.liaisons.filter((function(t){return t.name.toLowerCase().indexOf(e.filterText.toLowerCase())>=0})):this.liaisons},getUsefulCode:function(){var e=new RegExp("^[a-z]+$");return!this.formData.code||!e.test(this.formData.code)}}),created:function(){this.id&&this.getRowData()},methods:{clearFiterText:function(){this.filterText=""},getRowData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,l["a"].getContractors(e.id);case 4:if(a=t.sent,Object.keys(e.formData).forEach((function(t){null!==a[t]&&"undefined"!==typeof a[t]&&(e.formData[t]=a[t])})),!e.formData.ownerInfoSet.length){t.next=9;break}return t.next=9,e.getLiaisonList();case 9:t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](1),n=/^2/,i=JSON.parse(t.t0.message),i.status&&!n.test(i.status)&&(e.$emit("refresh-page"),e.closePanel());case 16:return t.prev=16,e.loading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[1,11,16,19]])})))()},getLiaisonList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.formData.code,t.prev=1,t.next=4,l["a"].getLiaisonsOptions(a);case 4:n=t.sent,e.liaisons=n,e.formData.ownerInfoSet=e.formData.ownerInfoSet.filter((function(t){return e.liaisons.find((function(e){return e.info===t}))})),e.checkSelectAll(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),e.liaisons=[],e.formData.ownerInfoSet=[];case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},getLiaisonWithDebounce:c()(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.getLiaisonList();case 3:this.loading=!1;case 4:case"end":return e.stop()}}),e,this)}))),600,{leading:!0,trailing:!1}),checkValidate:function(){var e=this;this.$refs.editForm.validate((function(t){t&&e.submitWhenValidate()}))},submitWhenValidate:c()(Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[this.formDataPayload],a=l["a"].addContractorsList,n="資料新增成功","edit"===this.action&&(t.push(this.id),a=l["a"].updateContractors,n="資料更新成功"),e.prev=4,this.loading=!0,e.next=8,a.apply(void 0,t);case 8:this.$message({message:n,type:"success"}),this.$emit("refresh-page"),this.closePanel(),e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](4);case 15:return e.prev=15,this.loading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[4,13,15,18]])}))),600),closePanel:function(){this.$parent.$emit("close")},checkSelectAll:function(){var e=this.formData.ownerInfoSet.length;this.checkAll=e===this.filterLiaisonsData.length,this.isIndeterminate=e>0&&e<this.filterLiaisonsData.length},selectAll:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.allSelectInfo=t.filterLiaisonsData.map((function(e){return e.info})),t.formData.ownerInfoSet=e?t.allSelectInfo:[],t.isIndeterminate=!1;case 3:case"end":return a.stop()}}),a)})))()}}},f=m,h=(a("d8e4"),a("2877")),b=Object(h["a"])(f,n,i,!1,null,"23e608d6",null);t["default"]=b.exports},a9dd:function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"m",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"g",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"l",(function(){return u})),a.d(t,"k",(function(){return d})),a.d(t,"j",(function(){return p})),a.d(t,"f",(function(){return m})),a.d(t,"d",(function(){return f})),a.d(t,"i",(function(){return h}));var n=[{id:2,menuCode:"SystemGroup",title:"系統管理",menuType:1,openType:1,viewType:4,link:null,iconName:"glass",iconColor:null,sizeWidth:null,sizeHeight:null,i18n:{"zh-TW":null,"ja-JP":null},actions:null,children:[{id:3,menuCode:"admins",title:"管理員帳號管理",menuType:2,openType:3,viewType:4,link:"AdminManagement",iconName:"user-circle-o",iconColor:null,sizeWidth:null,sizeHeight:null,i18n:{"zh-TW":"管理員帳號管理","ja-JP":"null"},actions:{readList:!0,readSingle:!0,update:!0},children:[]},{id:5,menuCode:"systemMenus",title:"系統選單管理",menuType:2,openType:3,viewType:4,link:"SystemNavSetting",iconName:"th-list",iconColor:null,sizeWidth:null,sizeHeight:null,i18n:{"zh-TW":"系統選單管理","ja-JP":null},actions:{create:!0,readList:!0,readSingle:!0,update:!0,delete:!0},children:[]},{id:4,menuCode:"groups",title:"權限群組管理",menuType:2,openType:3,viewType:4,link:"PermissionGroup",iconName:"users",iconColor:null,sizeWidth:null,sizeHeight:null,i18n:{"zh-TW":"權限群組管理","ja-JP":"null"},actions:{create:!0,readList:!0,readSingle:!0,update:!0,delete:!0},children:[]}]}],i={userPreferences:'{"appPreferences":{"isSideBarCollapse":false,"isSideTabCollapse":false,"fontSize":"100","handoverMessageSort":"ASC","isUrlPublic":false,"isPrivate":false,"pageSizeSelect":{"normal":15,"short":10,"large":50}},"tabPreferences":{"tabs":[],"steps":0,"gap":0,"isRecordTabs":false}}'},r={areaCode:[{id:1,code:"TC1"},{id:2,code:"TC2"},{id:3,code:"TP1"},{id:4,code:"TP2"},{id:5,code:"PUB"},{id:6,code:"TC3"},{id:7,code:"TC4"}],adPosition:[{id:1,name:"首頁頁尾1"},{id:2,name:"頁首頁尾2"},{id:3,name:"影片暫停"},{id:4,name:"搜尋頁右側1"},{id:5,name:"搜尋頁右側2"}],openType:[{id:1,name:"同頁"},{id:2,name:"另開"}],floatPosition:[{id:1,name:"首頁右側"},{id:2,name:"首頁左側"},{id:3,name:"首頁右下方"},{id:4,name:"首頁左下方"}],levelType:[{id:1,name:"一般會員"},{id:2,name:"VIP會員"}],slidePosition:[{id:1,name:"主頁"},{id:2,name:"搜尋頁"}],visitScope:[{id:1,name:"首頁"},{id:2,name:"搜尋頁"},{id:3,name:"首頁頁尾1"},{id:4,name:"首頁頁尾2"},{id:5,name:"影片暫停"},{id:6,name:"搜尋頁右側1"},{id:7,name:"搜尋頁右側2"},{id:8,name:"首頁右側"},{id:9,name:"首頁左側"},{id:10,name:"首頁右下方"},{id:11,name:"首頁左下方"},{id:12,name:"頁首管理"},{id:13,name:"頁尾管理"}]},s={compManagers:[],departments:[{departmentId:2,departmentName:"秘書部",deptManagers:[{id:101173,name:"Billy ",class:2}],groups:[{groupId:-19,groupCode:"2+19",groupName:"早班-10",groupManagers:[],employees:[{id:101173,name:"Billy ",class:2}]},{groupId:-44,groupCode:"2+44",groupName:"中班-13",groupManagers:[],employees:[{id:102330,name:"Nonno",class:0}]}]},{departmentId:8,departmentName:"資訊部",deptManagers:[{id:100096,name:"上仁",class:2},{id:101159,name:"嘉偉2",class:2}],groups:[{groupId:17,groupCode:"8-17",groupName:"系統組",groupManagers:[],employees:[{id:100094,name:"乃予",class:0},{id:100096,name:"上仁",class:2},{id:101123,name:"侑立",class:3},{id:101134,name:"Wilson",class:0},{id:101135,name:"濟瑞",class:0},{id:101136,name:"乃予1",class:0},{id:101137,name:"乃予2",class:0},{id:101158,name:"嘉偉1",class:0},{id:101159,name:"嘉偉2",class:2},{id:102245,name:"Mark",class:0},{id:102259,name:"小餅",class:0},{id:102275,name:"Alvin",class:0},{id:102285,name:"測試員工2",class:0},{id:102302,name:"小強",class:0},{id:102360,name:"侑立1",class:0},{id:102361,name:"侑立2",class:0},{id:102362,name:"嘉偉3",class:3},{id:102388,name:"阿群",class:0}]},{groupId:59,groupCode:"8-59",groupName:"測試組",groupManagers:[{id:101434,name:"Angela",class:1}],employees:[{id:101434,name:"Angela",class:1},{id:101931,name:"Amber",class:0},{id:102081,name:"Pick",class:0},{id:102204,name:"Yoyo",class:0},{id:102317,name:"Sam",class:0},{id:102347,name:"Darren",class:0}]},{groupId:62,groupCode:"8-62",groupName:"系統客服組",groupManagers:[],employees:[{id:101441,name:"Joanna",class:0}]},{groupId:56,groupCode:"8-56",groupName:"前端組",groupManagers:[{id:101131,name:"嘉偉",class:1}],employees:[{id:101125,name:"依倫",class:0},{id:101131,name:"嘉偉",class:1},{id:101148,name:"依倫1",class:0},{id:101149,name:"依倫2",class:0},{id:102258,name:"Nick",class:0},{id:102266,name:"裕介",class:0},{id:102270,name:"Ben",class:0},{id:102305,name:"David",class:0},{id:102306,name:"David1",class:0}]},{groupId:14,groupCode:"8-14",groupName:"MIS組",groupManagers:[{id:101618,name:"震東",class:1},{id:101828,name:"Jeffery",class:1}],employees:[{id:101618,name:"震東",class:1},{id:101670,name:"Paul",class:0},{id:101672,name:"依宏",class:0},{id:101828,name:"Jeffery",class:1},{id:101876,name:"聖元",class:0},{id:101932,name:"姵姵",class:0},{id:101942,name:"智麒",class:0},{id:101990,name:"Charel",class:0},{id:102199,name:"Elvis",class:0},{id:102220,name:"Jeff",class:0},{id:102223,name:"Eva",class:0},{id:102246,name:"Frank",class:0},{id:102304,name:"民鈞",class:0},{id:102312,name:"小緯",class:0},{id:102319,name:"湘湘",class:0},{id:102320,name:"阿賢",class:0},{id:102341,name:"Ghost",class:0},{id:102363,name:"Tony",class:0}]},{groupId:50,groupCode:"8-50",groupName:"遊戲開發組",groupManagers:[{id:101924,name:"大K",class:1}],employees:[{id:101924,name:"大K",class:1},{id:102051,name:"小叮噹",class:0},{id:102364,name:"Eric",class:0},{id:102378,name:"Karen",class:0},{id:102379,name:"任廷",class:0},{id:102389,name:"Neil",class:0}]},{groupId:53,groupCode:"8-53",groupName:"彩票組",groupManagers:[],employees:[{id:102238,name:"Leon",class:0}]},{groupId:-3,groupCode:"8+3",groupName:"早班-9",groupManagers:[],employees:[{id:102265,name:"Nick2",class:0},{id:102267,name:"裕介2",class:0},{id:102394,name:"Jesse",class:0},{id:102396,name:"Henry",class:0},{id:102400,name:"Steven",class:0},{id:102401,name:"Hedy",class:0},{id:102402,name:"軒宇",class:0}]},{groupId:-46,groupCode:"8+46",groupName:"中班-18",groupManagers:[],employees:[{id:102284,name:"測試員工",class:0}]}]},{departmentId:5,departmentName:"人資部",deptManagers:[{id:101219,name:"Sandy",class:2}],groups:[{groupId:-3,groupCode:"5+3",groupName:"早班-9",groupManagers:[],employees:[{id:101219,name:"Sandy",class:2},{id:101608,name:"Nora",class:0},{id:101761,name:"Elsa",class:0},{id:101929,name:"Cheryl",class:0},{id:102037,name:"Makayla",class:0},{id:102133,name:"Annie",class:0}]}]},{departmentId:15,departmentName:"市場營運部",deptManagers:[{id:101220,name:"Ivy",class:2},{id:101225,name:"昌哥",class:2},{id:101324,name:"强哥",class:2},{id:101414,name:"阿布",class:2}],groups:[{groupId:62,groupCode:"15-62",groupName:"系統客服組",groupManagers:[],employees:[{id:101220,name:"Ivy",class:2}]},{groupId:-3,groupCode:"15+3",groupName:"早班-9",groupManagers:[],employees:[{id:101225,name:"昌哥",class:2},{id:101324,name:"强哥",class:2},{id:101414,name:"阿布",class:2}]}]},{departmentId:3,departmentName:"行銷部",deptManagers:[],groups:[{groupId:76,groupCode:"3-76",groupName:"SEO",groupManagers:[{id:101426,name:"Lita",class:1}],employees:[{id:101426,name:"Lita",class:1},{id:101593,name:"Masaki",class:0},{id:102213,name:"Ian",class:0},{id:102256,name:"十二",class:0},{id:102326,name:"阿宗",class:0},{id:102327,name:"Lino",class:0},{id:102335,name:"米拉",class:0},{id:102340,name:"Jim",class:0},{id:102344,name:"Alin",class:0},{id:102346,name:"閎程",class:0},{id:102377,name:"Rachel",class:0}]},{groupId:86,groupCode:"3-86",groupName:"富博組(N)",groupManagers:[],employees:[{id:101575,name:"Vin",class:0},{id:101771,name:"Luini",class:0},{id:102328,name:"Filex",class:0},{id:102390,name:"培根",class:0}]},{groupId:81,groupCode:"3-81",groupName:"美術設計組",groupManagers:[{id:101668,name:"阿志",class:1}],employees:[{id:101668,name:"阿志",class:1},{id:101785,name:"Demon",class:0},{id:102023,name:"Verna",class:0},{id:102206,name:"Alen",class:0},{id:102348,name:"Tracy",class:0},{id:102371,name:"Weiwei",class:0}]},{groupId:73,groupCode:"3-73",groupName:"數據分析組",groupManagers:[],employees:[{id:101709,name:"高嵩",class:0},{id:101849,name:"裔喬",class:0}]},{groupId:80,groupCode:"3-80",groupName:"企劃(優博)",groupManagers:[{id:101790,name:"Marcus",class:1}],employees:[{id:101790,name:"Marcus",class:1},{id:102011,name:"Gordon",class:0},{id:102014,name:"Jamie",class:0},{id:102061,name:"小喵",class:0},{id:102100,name:"Naomi ",class:0},{id:102343,name:"Ibbie",class:0},{id:102387,name:"Lily",class:0}]},{groupId:77,groupCode:"3-77",groupName:"企劃(迪拜)",groupManagers:[{id:102022,name:"Benny",class:1}],employees:[{id:101808,name:"小雯",class:0},{id:102022,name:"Benny",class:1},{id:102173,name:"Rei",class:0},{id:102311,name:"慧臻",class:0},{id:102367,name:"Joyce",class:0},{id:102368,name:"Evan",class:0},{id:102395,name:"閔閔",class:0}]},{groupId:47,groupCode:"3-47",groupName:"波音組",groupManagers:[],employees:[{id:102323,name:"旻毅",class:0}]},{groupId:-44,groupCode:"3+44",groupName:"中班-13",groupManagers:[],employees:[{id:102392,name:"Rose",class:0},{id:102398,name:"Rick",class:0},{id:102399,name:"阿邦",class:0}]}]},{departmentId:9,departmentName:"總務組",deptManagers:[{id:101600,name:"小米",class:2}],groups:[{groupId:-3,groupCode:"9+3",groupName:"早班-9",groupManagers:[],employees:[{id:101600,name:"小米",class:2},{id:101634,name:"瑞瑞",class:0},{id:101638,name:"Claire",class:0},{id:101767,name:"Nina",class:0}]}]},{departmentId:12,departmentName:"工讀生",deptManagers:[],groups:[{groupId:-33,groupCode:"12+33",groupName:"中班-17",groupManagers:[],employees:[{id:101642,name:"彥仲",class:0}]}]},{departmentId:16,departmentName:"大陸推廣組",deptManagers:[],groups:[{groupId:-3,groupCode:"16+3",groupName:"早班-9",groupManagers:[],employees:[{id:101680,name:"張靜",class:0},{id:101995,name:"張逸",class:0},{id:102013,name:"國毅",class:0},{id:102024,name:"菀鈞",class:0},{id:102115,name:"芝瑩",class:0},{id:102119,name:"美琇",class:0},{id:102126,name:"紘裕",class:0},{id:102138,name:"啓明",class:0},{id:102176,name:"上儀",class:0},{id:102177,name:"瑋倫",class:0}]}]},{departmentId:6,departmentName:"財務部",deptManagers:[],groups:[{groupId:74,groupCode:"6-74",groupName:"開發組",groupManagers:[],employees:[{id:101138,name:"上仁1-排班",class:0}]}]}]},o=[{id:1,name:"未設定"},{id:2,name:"系統管理員"},{id:3,name:"開發人員"}],c={totalSize:14,list:[{id:102305,name:"David",account:"bck_20191201",groupName:"開發人員",isEnabled:!0,description:null,updatedOn:"2020-12-31 09:52:38",updatedByName:"system"},{id:102245,name:"Mark",account:"bck_20190707",groupName:"開發人員",isEnabled:!0,description:null,updatedOn:"2020-12-30 17:26:49",updatedByName:"阿群"},{id:101131,name:"嘉偉",account:"bck_20190401",groupName:"系統管理員",isEnabled:!0,description:null,updatedOn:"2020-12-29 09:17:34",updatedByName:"system"},{id:102266,name:"裕介",account:"bck_20190808",groupName:"系統管理員",isEnabled:!0,description:null,updatedOn:"2020-12-28 14:28:13",updatedByName:"system"},{id:102258,name:"Nick",account:"bck_20190801",groupName:"開發人員",isEnabled:!0,description:null,updatedOn:"2020-12-28 09:35:31",updatedByName:"system"},{id:102270,name:"Ben",account:"bck_20190811",groupName:"開發人員",isEnabled:!0,description:null,updatedOn:"2020-12-17 10:46:07",updatedByName:"system"},{id:102275,name:"Alvin",account:"bck_20190902",groupName:"開發人員",isEnabled:!0,description:null,updatedOn:"2020-12-07 18:14:56",updatedByName:"阿群"},{id:102388,name:"阿群",account:"bck_20200902",groupName:"開發人員",isEnabled:!0,description:null,updatedOn:"2020-12-07 18:14:47",updatedByName:"阿群"},{id:1101123,name:"侑立",account:"cwd_20110204",groupName:"開發人員",isEnabled:!0,description:null,updatedOn:"2020-11-30 15:18:00",updatedByName:"system"},{id:601133,name:"測試用",account:"wpc_20999999",groupName:"開發人員",isEnabled:!0,description:null,updatedOn:"2020-11-30 10:08:02",updatedByName:"system"}]},l={account:"bck_20191201",name:"David",groupId:3,description:null,isEnabled:!0,updatedByName:"system"},u={totalSize:16,list:[{id:2,title:"系統管理",riskLevel:3,parentId:1,menuCode:"SystemGroup",iconName:"glass",menuType:1,openType:1,viewType:4,sizeWidth:null,sizeHeight:null,isEnabled:!0,updatedOn:"2020-11-05 16:44:41",updatedByName:"裕介"},{id:3,title:"管理員帳號管理",riskLevel:3,parentId:2,menuCode:"admins",iconName:"user-circle-o",menuType:2,openType:3,viewType:4,sizeWidth:null,sizeHeight:null,isEnabled:!0,updatedOn:"2020-09-08 08:01:18",updatedByName:"system"},{id:5,title:"系統選單管理",riskLevel:3,parentId:2,menuCode:"systemMenus",iconName:"th-list",menuType:2,openType:3,viewType:4,sizeWidth:null,sizeHeight:null,isEnabled:!0,updatedOn:"2020-09-15 06:40:21",updatedByName:"system"},{id:4,title:"權限群組管理",riskLevel:3,parentId:2,menuCode:"groups",iconName:"users",menuType:2,openType:3,viewType:4,sizeWidth:null,sizeHeight:null,isEnabled:!0,updatedOn:"2020-09-08 08:01:18",updatedByName:"system"}]},d={list:[{id:2,title:"系統管理",parentId:1,sequence:1,menuType:1,children:[{id:3,title:"管理員帳號管理",parentId:2,sequence:2,menuType:2,children:[]},{id:5,title:"系統選單管理",parentId:2,sequence:3,menuType:2,children:[]},{id:4,title:"權限群組管理",parentId:2,sequence:4,menuType:2,children:[]}]}]},p={title:"管理員帳號管理",riskLevel:3,link:"AdminManagement",parentId:2,menuCode:"admins",iconName:"user-circle-o",menuType:2,openType:3,viewType:4,sizeWidth:null,sizeHeight:null,i18n:{"zh-TW":"管理員帳號管理","ja-JP":"null"},isEnabled:!0},m={totalSize:2,list:[{id:2,name:"系統管理員",description:"最高權限",isEnabled:!0,updatedOn:"2020-11-25 10:19:45",updatedByName:"裕介"},{id:3,name:"開發人員",description:"開發測試",isEnabled:!0,updatedOn:"2020-11-19 09:52:08",updatedByName:"Ben"}]},f={name:"系統管理員",description:"最高權限",isEnabled:!0,permissions:[{systemMenuId:2,isVisible:!0,actions:null},{systemMenuId:3,isVisible:!0,actions:{readList:!0,readSingle:!0,update:!0}},{systemMenuId:5,isVisible:!0,actions:{create:!0,readList:!0,readSingle:!0,update:!0,delete:!0}},{systemMenuId:4,isVisible:!0,actions:{create:!0,readList:!0,readSingle:!0,update:!0,delete:!0}},{systemMenuId:15,isVisible:!0,actions:{readList:!0,update:!0}},{systemMenuId:16,isVisible:!0,actions:{create:!0,readList:!0,readSingle:!0,update:!0,delete:!0}},{systemMenuId:6,isVisible:!0,actions:null},{systemMenuId:7,isVisible:!0,actions:{create:!0,readList:!0,readSingle:!0,update:!0,delete:!0,admin:!0}},{systemMenuId:9,isVisible:!0,actions:{create:!0,readList:!0,readSingle:!0,update:!0,delete:!0}},{systemMenuId:10,isVisible:!0,actions:{create:!0,readList:!0,readSingle:!0,update:!0,delete:!0}},{systemMenuId:11,isVisible:!0,actions:{create:!0,readList:!0,readSingle:!0,update:!0,delete:!0}},{systemMenuId:12,isVisible:!0,actions:{create:!0,readList:!0,readSingle:!0,update:!0,delete:!0}}]},h=[{systemMenuId:2,parentId:1,title:"系統管理",isVisible:!1,actions:null},{systemMenuId:3,parentId:2,title:"管理員帳號管理",isVisible:!1,actions:{readList:!1,readSingle:!1,update:!1}},{systemMenuId:5,parentId:2,title:"系統選單管理",isVisible:!1,actions:{create:!1,readList:!1,readSingle:!1,update:!1,delete:!1}},{systemMenuId:4,parentId:2,title:"權限群組管理",isVisible:!1,actions:{create:!1,readList:!1,readSingle:!1,update:!1,delete:!1}}]},aa40:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{attrs:{id:"Themes"}},[a("el-aside",{attrs:{width:"200px"}},[a("ScrollBar",{staticClass:"menuSide"},[a("div",{staticClass:"menu"},e._l(e.titleName,(function(t,n){return a("a",{class:{enable:e.current===n},on:{click:function(t){return e.slidePage(n)}}},[e._v(e._s(t))])})),0)])],1),a("el-main",[a("el-card",{staticClass:"buttons"},[a("div",{staticClass:"el-card-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"title"},[e._v("按鈕樣式")])]),a("div",[a("div",{staticClass:"item"},[e._v("＃預設按鈕")]),a("el-button",{attrs:{type:"add"}},[e._v("新增")]),a("el-button",{attrs:{type:"danger"}},[e._v("刪除")]),a("el-button",{attrs:{type:"save"}},[e._v("儲存")]),a("el-button",{attrs:{type:"edit"}},[e._v("編輯")]),a("el-button",{attrs:{type:"copy"}},[e._v("複製")]),a("el-button",{attrs:{type:"view"}},[e._v("檢視")]),a("el-button",{attrs:{type:"refresh"}},[e._v("重新整理")]),a("el-button",{attrs:{type:"view"}},[e._v("觀看條件設定")]),a("el-button",{attrs:{type:"back"}},[e._v("返回主類別")]),a("el-button",{attrs:{type:"save"}},[e._v("批次操作")]),a("el-button",{attrs:{type:"excel"}},[e._v("匯出Excel")]),a("el-button",{attrs:{type:"info"}},[e._v("依搜尋次數排行")])],1),a("br"),a("div",[a("div",{staticClass:"item"},[e._v("＃邊框按鈕")]),a("el-button",{attrs:{type:"bd-sub"}},[e._v("子類別")]),a("el-button",{attrs:{type:"bd-record"}},[e._v("記錄")]),a("el-button",{attrs:{type:"bd-cancel"}},[e._v("刪除")]),a("el-button",{attrs:{type:"bd-edit"}},[e._v("編輯")]),a("el-button",{attrs:{type:"bd-copy"}},[e._v("複製")]),a("el-button",{attrs:{type:"bd-view"}},[e._v("檢視")]),a("el-button",{attrs:{type:"bd-save"}},[e._v("儲存")]),a("el-button",{attrs:{type:"bd-add"}},[e._v("新增")]),a("el-button",{attrs:{type:"bd-send"}},[e._v("寄送資料")])],1)]),a("el-card",[a("div",{staticClass:"el-card-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"title"},[e._v("多選框")])]),a("div",[a("el-checkbox",{staticClass:"checkAll",on:{change:e.checkAll},model:{value:e.condition.checkAll,callback:function(t){e.$set(e.condition,"checkAll",t)},expression:"condition.checkAll"}},[e._v("全部")]),a("el-checkbox-group",{attrs:{disabled:e.condition.checkAll},model:{value:e.condition.checkedCities,callback:function(t){e.$set(e.condition,"checkedCities",t)},expression:"condition.checkedCities"}},e._l(e.condition.cities,(function(t,n){return a("el-checkbox",{key:n,attrs:{label:t}},[e._v(e._s(t))])})),1)],1)]),a("el-card",[a("div",{staticClass:"el-card-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"title"},[e._v("單選框")])]),a("div",[a("el-radio-group",{model:{value:e.condition.checkedRadio,callback:function(t){e.$set(e.condition,"checkedRadio",t)},expression:"condition.checkedRadio"}},e._l(e.condition.cities,(function(t,n){return a("el-radio",{key:n,attrs:{label:t}},[e._v(e._s(t))])})),1)],1)]),a("el-card",[a("div",{staticClass:"el-card-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"title"},[e._v("單選組合")])]),a("div",[a("el-radio-group",{model:{value:e.condition.radioGroup,callback:function(t){e.$set(e.condition,"radioGroup",t)},expression:"condition.radioGroup"}},[a("el-radio-button",{attrs:{label:"all"}},[e._v("全部")]),a("el-radio-button",{attrs:{label:"notfinished"}},[e._v("未完成")]),a("el-radio-button",{attrs:{label:"finished"}},[e._v("已結案")])],1)],1)]),a("el-card",[a("div",{staticClass:"el-card-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"title"},[e._v("控制列表展示")])]),a("div",[a("div",{staticClass:"item"},[e._v("＃一列")]),a("div",{staticClass:"searchBlock"},[a("div",[a("el-form",{staticClass:"complex-group",attrs:{model:e.condition}},[a("el-form-item",{attrs:{label:"名稱"}},[a("el-input",{model:{value:e.condition.name,callback:function(t){e.$set(e.condition,"name",t)},expression:"condition.name"}})],1),a("el-form-item",{attrs:{label:e.$t("th.isEnabled")}},[a("el-select",{attrs:{clearable:""},model:{value:e.condition.isEnabled,callback:function(t){e.$set(e.condition,"isEnabled",t)},expression:"condition.isEnabled"}},[a("el-option",{attrs:{label:"上架",value:1}},[e._v("上架")]),a("el-option",{attrs:{label:"下架",value:0}},[e._v("下架")])],1)],1),a("el-button",{attrs:{type:"search",icon:"el-icon-search"}},[e._v("搜尋")])],1),a("div",{staticClass:"btnWrap"},[a("el-button",{attrs:{type:"refresh",icon:"el-icon-refresh-right"}},[e._v("重新整理")]),a("el-button",{attrs:{type:"add",icon:"el-icon-plus"}},[e._v("新增")])],1)],1)])]),a("br"),a("div",[a("div",{staticClass:"item"},[e._v("＃多列")]),a("div",{staticClass:"searchBlock"},[a("div",[a("el-form",{staticClass:"complex-group",attrs:{model:e.condition}},[a("el-form-item",{attrs:{label:"註冊來源"}},[a("el-select",{attrs:{clearable:""},model:{value:e.condition.sourceType,callback:function(t){e.$set(e.condition,"sourceType",t)},expression:"condition.sourceType"}},[a("el-option",{attrs:{label:"AV註冊",value:1}},[e._v("AV註冊")]),a("el-option",{attrs:{label:"平台註冊",value:2}},[e._v("平台註冊")])],1)],1),a("el-form-item",{attrs:{label:"名稱"}},[a("el-input",{model:{value:e.condition.name2,callback:function(t){e.$set(e.condition,"name2",t)},expression:"condition.name2"}})],1)],1)],1),a("div",[a("el-form",{staticClass:"complex-group",attrs:{model:e.condition}},[a("el-form-item",{attrs:{label:"名稱"}},[a("el-input",{model:{value:e.condition.name3,callback:function(t){e.$set(e.condition,"name3",t)},expression:"condition.name3"}})],1),a("el-form-item",{staticClass:"selectTimer-group"},[a("el-select",{attrs:{slot:"label"},slot:"label",model:{value:e.condition.dateType2,callback:function(t){e.$set(e.condition,"dateType2",t)},expression:"condition.dateType2"}},[a("el-option",{attrs:{label:"註冊時間",value:0}},[e._v("註冊時間")]),a("el-option",{attrs:{label:"觀看時間",value:1}},[e._v("觀看時間")])],1),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"開始日期","end-placeholder":"結束日期"},model:{value:e.condition.date3,callback:function(t){e.$set(e.condition,"date3",t)},expression:"condition.date3"}})],1),a("el-button",{attrs:{type:"search",icon:"el-icon-search"}},[e._v("搜尋")])],1),a("div",{staticClass:"btnWrap"},[a("el-button",{attrs:{type:"success",icon:"el-icon-document-copy"}},[e._v("匯出Excel")]),a("el-button",{attrs:{type:"view",icon:"el-icon-edit"}},[e._v("觀看條件設定")]),a("el-button",{attrs:{type:"add",icon:"el-icon-plus"}},[e._v("新增帳號")])],1)],1)])]),a("ul",{staticClass:"tip"},[a("li",[e._v("最外層加上"),a("font",{staticClass:"fontBold"},[e._v("「searchBlock」")]),e._v("的class名稱。")],1),a("li",[e._v("每一列的組合為:"),a("font",{staticClass:"fontBold"},[e._v("「searchBlock > div」")]),e._v("。div 裡面再依需求生成架構。")],1),a("li",[e._v("右側按鈕的外層需為"),a("font",{staticClass:"fontBold"},[e._v("「btnWrap」")]),e._v("的class名稱。")],1)])]),a("el-card",[a("div",{staticClass:"el-card-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"title"},[e._v("關鍵字搜尋框")])]),a("div",[a("el-form",{staticClass:"complex-group",attrs:{model:e.condition}},[a("el-form-item",{staticClass:"searchBox",attrs:{label:"關鍵字"}},[a("el-input",{model:{value:e.condition.keyword,callback:function(t){e.$set(e.condition,"keyword",t)},expression:"condition.keyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)],1),a("ul",{staticClass:"tip"},[a("li",[e._v("在"),a("font",{staticClass:"code"},[e._v("el-form")]),e._v("加上"),a("font",{staticClass:"fontBold"},[e._v("「complex-group」")]),e._v("的class名稱。")],1),a("li",[e._v("在"),a("font",{staticClass:"code"},[e._v("el-form-item")]),e._v("加上"),a("font",{staticClass:"fontBold"},[e._v("「searchBox」")]),e._v("的class名稱，所屬輸入框及子層內的按鈕即為上方顯示之樣式。")],1)])],1)]),a("el-card",[a("div",{staticClass:"el-card-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"title"},[e._v("選擇器")])]),a("div",[a("el-form",{staticClass:"complex-group",attrs:{model:e.condition}},[a("el-form-item",{attrs:{label:"選擇器"}},[a("el-select",{attrs:{clearable:""},model:{value:e.condition.isEnabled,callback:function(t){e.$set(e.condition,"isEnabled",t)},expression:"condition.isEnabled"}},[a("el-option",{attrs:{label:"啟用中",value:!0}},[e._v("啟用中")]),a("el-option",{attrs:{label:"已停用",value:!1}},[e._v("已停用")])],1)],1)],1),a("ul",{staticClass:"tip"},[a("li",[e._v("在"),a("font",{staticClass:"code"},[e._v("el-form")]),e._v("加上"),a("font",{staticClass:"fontBold"},[e._v("「complex-group」")]),e._v("的class名稱。")],1)])],1)]),a("el-card",[a("div",{staticClass:"el-card-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"title"},[e._v("輸入框")])]),a("div",[a("el-form",{staticClass:"complex-group",attrs:{model:e.condition}},[a("el-form-item",{attrs:{label:"輸入框"}},[a("el-input",{model:{value:e.condition.name4,callback:function(t){e.$set(e.condition,"name4",t)},expression:"condition.name4"}})],1)],1),a("ul",{staticClass:"tip"},[a("li",[e._v("在"),a("font",{staticClass:"code"},[e._v("el-form")]),e._v("加上"),a("font",{staticClass:"fontBold"},[e._v("「complex-group」")]),e._v("的class名稱。")],1)])],1)]),a("el-card",[a("div",{staticClass:"el-card-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"title"},[e._v("日期選擇")])]),a("div",[a("el-form",{attrs:{model:e.condition}},[a("el-form-item",{staticClass:"selectTimer-group"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"開始日期","end-placeholder":"結束日期"},model:{value:e.condition.date2,callback:function(t){e.$set(e.condition,"date2",t)},expression:"condition.date2"}})],1)],1),a("ul",{staticClass:"tip"},[a("li",[e._v("在"),a("font",{staticClass:"code"},[e._v("el-form-item")]),e._v("加上"),a("font",{staticClass:"fontBold"},[e._v("selectTimer-group」")]),e._v("的class名稱。")],1)])],1)]),a("el-card",[a("div",{staticClass:"el-card-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"title"},[e._v("複合式組合框")])]),a("div",[a("el-form",{staticClass:"complex-group",attrs:{model:e.condition}},[a("el-form-item",{attrs:{label:"選擇器"}},[a("el-select",{attrs:{clearable:""},model:{value:e.condition.isEnabled,callback:function(t){e.$set(e.condition,"isEnabled",t)},expression:"condition.isEnabled"}},[a("el-option",{attrs:{label:"啟用中",value:!0}},[e._v("啟用中")]),a("el-option",{attrs:{label:"已停用",value:!1}},[e._v("已停用")])],1)],1),a("el-form-item",{attrs:{label:"輸入框"}},[a("el-input",{model:{value:e.condition.name5,callback:function(t){e.$set(e.condition,"name5",t)},expression:"condition.name5"}})],1),a("el-form-item",{staticClass:"selectTimer-group"},[a("el-select",{attrs:{slot:"label"},slot:"label",model:{value:e.condition.dateType,callback:function(t){e.$set(e.condition,"dateType",t)},expression:"condition.dateType"}},[a("el-option",{attrs:{label:"註冊時間",value:0}},[e._v("註冊時間")]),a("el-option",{attrs:{label:"觀看時間",value:1}},[e._v("觀看時間")])],1),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"開始日期","end-placeholder":"結束日期"},model:{value:e.condition.date,callback:function(t){e.$set(e.condition,"date",t)},expression:"condition.date"}})],1),a("el-button",{attrs:{type:"search",icon:"el-icon-search"}},[e._v("搜尋")])],1),a("ul",{staticClass:"tip"},[a("li",[e._v("在"),a("font",{staticClass:"code"},[e._v("el-form")]),e._v("加上"),a("font",{staticClass:"fontBold"},[e._v("「complex-group」")]),e._v("的class名稱。")],1),a("li",[a("font",{staticClass:"txt-red"},[e._v("注意!!")]),e._v("日期選擇必須在"),a("font",{staticClass:"code"},[e._v("el-form-item")]),e._v("加上"),a("font",{staticClass:"fontBold"},[e._v("「selectTimer-group」")]),e._v("的class名稱。")],1)])],1)]),a("el-card",[a("div",{staticClass:"el-card-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"title"},[e._v("開關")])]),a("div",[a("el-switch",{staticClass:"switch-group",attrs:{"active-text":"啟用","inactive-text":"停用"},model:{value:e.swtichState,callback:function(t){e.swtichState=t},expression:"swtichState"}}),a("ul",{staticClass:"tip"},[a("li",[e._v("在"),a("font",{staticClass:"code"},[e._v("el-switch")]),e._v("加上"),a("font",{staticClass:"fontBold"},[e._v("「switch-group」")]),e._v("的class名稱。")],1)])],1)]),a("el-card",[a("div",{staticClass:"el-card-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"title"},[e._v("頁碼")])]),a("div",{staticClass:"pageWrap"},[a("el-pagination",{attrs:{layout:"sizes, prev, pager, next, jumper",total:50}})],1)]),a("el-card",[a("div",{staticClass:"el-card-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"title"},[e._v("麵包屑")])]),a("div",[a("div",{staticClass:"breadcrumbBlock"},[a("i",{staticClass:"el-icon-s-order"}),a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[e._v("主類別")])],1)],1),a("ul",{staticClass:"tip"},[a("li",[e._v("在"),a("font",{staticClass:"code"},[e._v("el-breadcrumb的上一層")]),e._v("加上"),a("font",{staticClass:"fontBold"},[e._v("「breadcrumbBlock」")]),e._v("的class名稱。")],1)])])])],1)],1)},i=[],r=(a("4160"),a("159b"),a("6cdb")),s=["選項A","選項B","選項C","選項D"],o={name:"Themes",components:{ScrollBar:r["a"]},data:function(){return{titleName:[],current:0,swtichState:"",condition:{checkedCities:[],cities:s,checkAll:!1,checkedRadio:"",radioGroup:"",isEnabled:null,keyword:null,data:null,data2:null,data3:null,dateType:0,dateType2:0,name:null,name2:null,name3:null,name4:null,name5:null,sourceType:null}}},mounted:function(){var e=this;this.$nextTick((function(){document.querySelectorAll(".el-card-header .title").forEach((function(t){e.titleName.push(t.innerText)}))}))},methods:{slidePage:function(e){this.current=e;var t=document.querySelectorAll(".el-main")[0],a=document.querySelectorAll(".el-card")[e].offsetTop;t.scrollTop=a},pushAllTypes:function(){var e=this;s.forEach((function(t){e.condition.checkedCities.push(t)}))},checkAll:function(){this.condition.checkAll?this.pushAllTypes():this.condition.checkedCities=[]}}},c=o,l=(a("c849"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,null,null);t["default"]=u.exports},aa69:function(e,t,a){"use strict";a("ed08"),a("c1fb")},abbc:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"view",staticClass:"views",attrs:{id:"adminManagement"}},[a("div",{ref:"searchBlock",staticClass:"searchBlock"},[a("div",[a("el-form",{staticClass:"complex-group",attrs:{model:e.condition}},[a("el-form-item",{attrs:{label:e.$t("th.isEnabled")}},[a("el-select",{attrs:{clearable:""},on:{change:e.getListWithDebounce},model:{value:e.condition.isEnabled,callback:function(t){e.$set(e.condition,"isEnabled",t)},expression:"condition.isEnabled"}},[a("el-option",{attrs:{label:"啟用中",value:!0}},[e._v("啟用中")]),a("el-option",{attrs:{label:"已停用",value:!1}},[e._v("已停用")])],1)],1),a("el-form-item",{attrs:{label:"權限群組"}},[a("el-select",{attrs:{clearable:""},on:{change:e.getListWithDebounce},model:{value:e.condition.groupId,callback:function(t){e.$set(e.condition,"groupId",t)},expression:"condition.groupId"}},e._l(e.groups,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[e._v(e._s(t.name))])})),1)],1),a("el-form-item",{staticClass:"searchBox searchBox",attrs:{label:"關鍵字"}},[a("el-input",{attrs:{placeholder:"請輸入帳號、名稱或描述",maxlength:"20",clearable:""},on:{clear:e.getListWithDebounce},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getListWithDebounce(t)}},model:{value:e.condition.name,callback:function(t){e.$set(e.condition,"name",t)},expression:"condition.name"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getListWithDebounce},slot:"append"},[e._v("搜尋")])],1)],1)],1),a("div",{staticClass:"btnWrap"},[a("el-button",{attrs:{type:"refresh",icon:"el-icon-refresh-right"},on:{click:e.getListWithDebounce}},[e._v("重新整理")])],1)],1)]),a("div",{staticClass:"tableSection"},[a("TableWrapper",{ref:"tableWrapper",attrs:{tableHeight:e.tableHeight,tableData:e.tbData.list,totalSize:e.tbData.totalSize,pagination:e.pagination,paginationType:e.paginationType,columnSetting:e.columnSetting,listLoading:e.listLoading,currentSort:e.getSorter},on:{"page-size-change":e.pageSizeChange,"page-change":e.pageChange,"sort-change":e.sortChange}})],1)])},i=[],r=(a("a4d3"),a("e01a"),a("4160"),a("b0c0"),a("ac1f"),a("1276"),a("159b"),a("96cf"),a("1da1")),s=(a("aa69"),a("41d0"),a("088a")),o=a("7832"),c=a("1b62"),l=a("ed08"),u=a("a9dd"),d={name:"AdminManagement",components:{TableWrapper:s["a"]},mixins:[c["a"]],data:function(){return{tableHeight:0,condition:{groupId:null,isEnabled:!0,name:null,sortName:"updatedOn",sort:"DESC"},tbData:{},groups:{totalSize:0,list:[{id:0,name:"最高權限者"}]},columnSetting:[o["a"].id(80,"left"),{prop:"account",label:"th.account",width:200,fixed:"left",sortable:!0},o["a"].name("left",!0),{prop:"groupName",label:"th.groupName"},o["a"].description(200),o["a"].isEnabled(),o["a"].updatedOn(200),o["a"].updatedByName()],paginationType:"short",listLoading:!1}},created:function(){this.getGroupsList(),this.getList(),this.$bus.$on("resize-table-height",this.setTableHeight)},mounted:function(){this.setTableHeight()},activated:function(){this.setTableHeight(),this.$refs.tableWrapper.forceLayoutUpdate()},beforeDestroy:function(){this.$store.dispatch("JsPanels/closePanelByParent",this.$options.name),this.$bus.$off("resize-table-height",this.setTableHeight)},methods:{getGroupsList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["d"])(500);case 2:e.groups=u["e"];case 3:case"end":return t.stop()}}),t)})))()},getList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!0,t.prev=1,t.next=4,Object(l["d"])(500);case 4:u["b"].list.forEach((function(e){var t=e;e.account=t.account.split("_")[1]})),e.tbData=u["b"],t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:return t.prev=10,e.listLoading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,8,10,13]])})))()},handleAction:function(e){var t=this,a=e.action,n=e.row,i=void 0===n?null:n;if("delete"!==a){var r={action:a,page:this.getCurrentTab.title,title:i.account,id:i.id},s=this.getHeaderTitle(r),o={component:"EditAdmin",id:i.id,headerTitle:s},c={action:a,id:i.id,groupsList:this.groups},l={"refresh-page":function(){t.getListWithDebounce(a)}};this.$store.dispatch("JsPanels/addPanel",{settings:o,props:c,events:l})}}}},p=d,m=a("2877"),f=Object(m["a"])(p,n,i,!1,null,null,null);t["default"]=f.exports},ae86:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"ImgUploader"}},[a("div",{staticClass:"uploadBlock"},[a("div",{staticClass:"title"},[e._v(e._s(e.title)),a("el-tooltip",{attrs:{effect:"dark",placement:"right"}},[a("span",{staticClass:"el-icon-question"}),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("限制類型： jpg,gif,png")]),a("p",[e._v("限制大小： "+e._s(e.fileSize)+" MB")]),a("p",[e._v("限制尺寸： "+e._s(e.size?e.size.w+"x"+e.size.h:"無限制"))])])])],1),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"elUpload",attrs:{action:"",drag:"","http-request":e.uploadAction,"before-upload":e.beforeUpload,"on-exceed":e.handleExceed,"show-file-list":!1,"list-type":"picture"}},[a("div",{staticClass:"btnIcon"},[a("i",{staticClass:"el-icon-upload"}),a("p",[e._v("檔案上傳")])]),e.value?a("div",{staticClass:"img"},[a("img",{attrs:{src:e.value}})]):e._e()]),e.value?a("button",{staticClass:"removeBtn",attrs:{type:"button"},on:{click:e.fileRemove}}):e._e()],1)])},i=[],r=(a("99af"),a("a15b"),a("a9e3"),a("d3b7"),a("3ca3"),a("9911"),a("ddb0"),a("2b3d"),a("96cf"),a("1da1")),s=a("2934"),o={name:"ImgUploader",props:{value:{type:String,default:""},title:{type:String,default:"圖檔"},fileSize:{type:Number,default:1},size:{type:Object,default:null}},data:function(){return{loading:!1}},methods:{beforeUpload:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i,r,s,o,c,l,u,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=[],i=/image\/(jpeg|png|gif)/,r=i.test(e.type),s=e.size/Math.pow(1024,2)<=t.fileSize,o=!1,!r){a.next=12;break}return a.next=8,t.checkImgWH(e);case 8:o=a.sent,o||(c=t.size,l=c.w,u=c.h,n.push("上傳的圖片像素需為".concat(l," * ").concat(u))),a.next=13;break;case 12:n.push("上傳的圖片格式僅能為*.jpg, *.png, *.gif");case 13:return s||n.push("上傳的圖片檔案大小需小於 1 MB"),n.length&&(d=n.join("&"),t.$message({message:d,type:"error"})),a.abrupt("return",r&&s&&o||Promise.reject());case 16:case"end":return a.stop()}}),a)})))()},uploadAction:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=new FormData,n.append("file",e.file),t.loading=!0,a.prev=3,a.next=6,s["a"].fileUpload(n,"img");case 6:i=a.sent,t.$emit("input",i.link),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](3),e.onError();case 13:return a.prev=13,t.loading=!1,a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[3,10,13,16]])})))()},checkImgWH:function(e){var t=this;return new Promise((function(a){t.size||a(!0);var n,i=t.size,r=i.w,s=i.h,o=new Image;o.onload=function(){n=o.width<=r&&o.height<=s,a(n)},o.src=URL.createObjectURL(e)}))},handleExceed:function(){this.$message({message:"已達上傳上限",type:"warning"})},fileRemove:function(){this.$refs.elUpload.clearFiles(),this.$emit("input","")}}},c=o,l=(a("e0ea"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,"5eda4a24",null);t["default"]=u.exports},b0de:function(e,t,a){"use strict";var n=a("eb7e"),i=a.n(n);i.a},b285:function(e,t,a){var n={"./Themes":["dc37","chunk-2d229019"],"./Themes/":["dc37","chunk-2d229019"],"./Themes/Themes":["aa40"],"./Themes/Themes.vue":["aa40"],"./Themes/index":["dc37","chunk-2d229019"],"./Themes/index.js":["dc37","chunk-2d229019"],"./adminManagement":["a356","chunk-2d207f09"],"./adminManagement/":["a356","chunk-2d207f09"],"./adminManagement/AdminManagement":["abbc"],"./adminManagement/AdminManagement.vue":["abbc"],"./adminManagement/index":["a356","chunk-2d207f09"],"./adminManagement/index.js":["a356","chunk-2d207f09"],"./contractors":["ca54f","chunk-77207a53"],"./contractors/":["ca54f","chunk-77207a53"],"./contractors/Contractors":["4a80"],"./contractors/Contractors.vue":["4a80"],"./contractors/index":["ca54f","chunk-77207a53"],"./contractors/index.js":["ca54f","chunk-77207a53"],"./index":["38dd"],"./index/":["38dd"],"./index/index":["38dd"],"./index/index.vue":["38dd"],"./login":["3b9d","chunk-2d0c4710"],"./login/":["3b9d","chunk-2d0c4710"],"./login/LogIn":["9737"],"./login/LogIn.vue":["9737"],"./login/index":["3b9d","chunk-2d0c4710"],"./login/index.js":["3b9d","chunk-2d0c4710"],"./login/js/weather":["1b74"],"./login/js/weather.js":["1b74"],"./permissionGroup":["35cb","chunk-2d0ba337"],"./permissionGroup/":["35cb","chunk-2d0ba337"],"./permissionGroup/PermissionGroup":["2b11"],"./permissionGroup/PermissionGroup.vue":["2b11"],"./permissionGroup/index":["35cb","chunk-2d0ba337"],"./permissionGroup/index.js":["35cb","chunk-2d0ba337"],"./systemConfig":["1f7b","chunk-2d0b6d16"],"./systemConfig/":["1f7b","chunk-2d0b6d16"],"./systemConfig/SystemConfig":["1642"],"./systemConfig/SystemConfig.vue":["1642"],"./systemConfig/index":["1f7b","chunk-2d0b6d16"],"./systemConfig/index.js":["1f7b","chunk-2d0b6d16"],"./systemNavSetting":["e240","chunk-2d224c9f"],"./systemNavSetting/":["e240","chunk-2d224c9f"],"./systemNavSetting/SystemNavSetting":["969a"],"./systemNavSetting/SystemNavSetting.vue":["969a"],"./systemNavSetting/index":["e240","chunk-2d224c9f"],"./systemNavSetting/index.js":["e240","chunk-2d224c9f"],"./webSetting":["e61b","chunk-2d225b78"],"./webSetting/":["e61b","chunk-2d225b78"],"./webSetting/WebSetting":["851f"],"./webSetting/WebSetting.vue":["851f"],"./webSetting/index":["e61b","chunk-2d225b78"],"./webSetting/index.js":["e61b","chunk-2d225b78"]};function i(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(i)}))}i.keys=function(){return Object.keys(n)},i.id="b285",e.exports=i},b3b0:function(e,t,a){"use strict";var n=a("ed08"),i=a("c1fb");t["a"]={addBulletins:function(e){return Object(i["a"])({url:"/v1/bulletins",method:"post",data:e})},getBulletinsList:function(e){var t=Object(n["b"])(e);return Object(i["a"])({url:"/v1/bulletins?".concat(t),method:"get"})},getBulletins:function(e){return Object(i["a"])({url:"/v1/bulletins/".concat(e),method:"get"})},updateBulletins:function(e,t){return Object(i["a"])({url:"/v1/bulletins/".concat(t),method:"patch",data:e})},deleteBulletins:function(e){return Object(i["a"])({url:"/v1/bulletins/".concat(e),method:"delete"})},getbulletinClassOptions:function(){return Object(i["a"])({url:"/v1/bulletinClassOptions",method:"get"})},getBulletinsReaders:function(e){return Object(i["a"])({url:"/v1/bulletins/".concat(e,"/readers"),method:"get"})},updateBulletinsRead:function(e){return Object(i["a"])({url:"/v1/bulletins/".concat(e,"/read"),method:"put"})},getBulletinSummaries:function(){return Object(i["a"])({url:"/v1/bulletinSummaries",method:"get"})}}},b619:function(e,t,a){},b75a6:function(e){e.exports=JSON.parse('{"th":{"id":"id","sequence":"Seq.","title":"title","account":"account","subject":"subject","date":"date","description":"description","isVIP":"AV Level","IP":"IP","preview":"preview","link":"link","siteUrl":"siteUrl","position":"position","openType":"openType","menuType":"menuType","sourceType":"sourceType","linkItem":"linkItem","isEnabled":"state","isFree":"isFree","state":"state","article":"article","publishStatus":"state","sentCount":"sentCount","readCount":"readCount","unreadCount":"unreadCount","clickCount":"clickCount","viewCount":"viewCount","loginDayCount":"loginDayCount","viewDayCount":"viewDayCount","videoCount":"videoCount","searchCount":"searchCount","depositCount":"depositCount","loginAmount":"loginAmount","watchingAmoung":"watchingAmoung","registerAmoung":"registerAmoung","registerDate":"registerDate","registerType":"registerType","remark":"remark","loginDate":"loginDate","os":"os","browser":"browser","depositTotal":"depositTotal","passanger":"passanger","normal":"normal","vip":"vip","vipDailyDeposit":"vipDailyDeposit","newMemeber":"newMemeber","newMemberDeposit":"newMemberDeposit","name":"name","companyName":"companyName","groupName":"groupName","word":"keyword","rank":"rank","createdOn":"createdOn","publishedOn":"publishedOn","finishedOn":"finishedOn","updatedOn":"updatedOn","updatedByName":"updatedBy","function":"function","riskLevel":"riskLevel","code":"代碼","areaId":"區域別","mainClassName":"mainClassName","subClassName":"subClassName","createdByName":"createdByName","createdTime":"createdTime","platformName":"platformName","purposeName":"purposeName","typeName":"typeName"},"functionalButton":{"view":"view","edit":"edit","copy":"copy","delete":"delete","subCategory":"subCategory","mailInfo":"mailInfo","record":"record","deleteRank":"deleteRank","keywordSequence":"keywordSequence","addChild":"addChild"}}')},bbbc:function(e,t,a){},bcc4:function(e,t,a){},c1fb:function(e,t,a){"use strict";a("c975"),a("d3b7"),a("ac1f"),a("1276");var n=a("bc3a"),i=a.n(n),r=a("5c96"),s=a("a18c"),o=i.a.create({baseURL:"https://pub-site-info.bckplat.info/api",timeout:1e4});o.interceptors.request.use((function(e){return e.headers.Authorization||e.dropBearerToken||(e.headers={Authorization:"Bearer ".concat(localStorage.getItem("ctlToken"))}),e}),(function(e){return Promise.reject(e)})),o.interceptors.response.use((function(e){var t=e.request.getResponseHeader("Content-Disposition");if(t&&t.indexOf("utf-8''")>-1){var a=e.data;return a.fileName=decodeURIComponent(t.split("utf-8''")[1].split(".")[0]),a}return e.data}),(function(e){var t=e.response,a={message:t.data,type:"error",duration:3e3,showClose:!1};switch(t.status){case 304:return!1;case 400:a.message=t.data.error.message;break;case 401:"/login"!==s["b"].currentRoute.path?(localStorage.clear(),s["b"].push({path:"/401"})):a.message="帳號/密碼輸入錯誤";break;case 429:a.duration=0,a.showClose=!0;break;default:break}Object(r["Message"])(a);var n=JSON.stringify({status:t.status});return Promise.reject(new Error(n),t)})),t["a"]=o},c226:function(e,t,a){var n={"./EditAdmin.vue":"8990","./EditContractors.vue":"a7a2","./EditGroup.vue":"1f3d","./EditSystemNav.vue":"15ed","./MembersChoose.vue":"a76c","./ShowHandover.vue":"0c5e","./TreeSequence.vue":"d477","./subComponents/ExcelUploader.vue":"7117","./subComponents/HandoverMessage.vue":"296c","./subComponents/ImgUploader.vue":"ae86","./subComponents/MessageSubmitBlock.vue":"6f6d","./subComponents/PermissionTable.vue":"42ac"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="c226"},c354:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return c}));a("96cf");var n=a("1da1"),i=a("4360"),r=(a("2934"),a("a18c")),s=!1,o=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=!0,e.prev=1,e.next=4,i["a"].dispatch("menu/generateRoutes");case 4:t=e.sent,r["b"].addRoutes(t),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();function c(){return l.apply(this,arguments)}function l(){return l=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(r["a"])(),r["b"].matcher=t.matcher,e.next=4,o();case 4:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}r["b"].beforeEach(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s){e.next=3;break}return e.next=3,o();case 3:n();case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}())},c849:function(e,t,a){"use strict";var n=a("bbbc"),i=a.n(n);i.a},cbcf:function(e,t,a){"use strict";var n=a("ed08"),i=a("c1fb");t["a"]={addContractorsList:function(e){return Object(i["a"])({url:"/v1/contractors",method:"post",data:e})},getContractorsList:function(e){var t=Object(n["b"])(e);return Object(i["a"])({url:"/v1/contractors?".concat(t),method:"get"})},getContractors:function(e){return Object(i["a"])({url:"/v1/contractors/".concat(e),method:"get"})},updateContractors:function(e,t){return Object(i["a"])({url:"/v1/contractors/".concat(t),method:"patch",data:e})},deleteContractors:function(e){return Object(i["a"])({url:"/v1/contractors/".concat(e),method:"delete"})},getLiaisonsOptions:function(e){return Object(i["a"])({url:"/v1/contractors/".concat(e,"/liaisons"),method:"get"})},getContractorOptions:function(){return Object(i["a"])({url:"/v1/contractorOptions",method:"get"})}}},cce2:function(e,t,a){"use strict";var n=a("203b"),i=a.n(n);i.a},cee0:function(e,t,a){},d131:function(e,t,a){},d291:function(e,t,a){"use strict";var n=a("0aa7"),i=a.n(n);i.a},d477:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panelContent"},[a("div",{staticClass:"contentWrapper"},[a("div",{staticClass:"contentInner"},[a("div",{staticClass:"btn-group"},[a("div",{staticClass:"left"},[a("el-radio-group",{staticClass:"el-radio-group-parallel",on:{change:e.handleExpandTypeChange},model:{value:e.expandedType,callback:function(t){e.expandedType=t},expression:"expandedType"}},[a("el-radio-button",{attrs:{label:"all"}},[a("i",{staticClass:"el-icon-plus"}),a("span",[e._v("全部展開")])]),a("el-radio-button",{attrs:{label:"one"}},[a("i",{staticClass:"el-icon-plus"}),a("span",[e._v("展開一層")])]),a("el-radio-button",{attrs:{label:"collapse"}},[a("i",{staticClass:"el-icon-minus"}),a("span",[e._v("收合")])])],1)],1),a("el-button",{attrs:{type:"refresh",icon:"el-icon-refresh"},on:{click:e.refresh}},[e._v("重新整理")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"tree-container"},[a("el-tree",{ref:"tree-sort-nav",staticClass:"tree",attrs:{data:e.dataSource,props:e.treeProps,indent:0,draggable:"","allow-drop":e.allowDrop,"node-key":"id","icon-class":"el-icon-folder"},on:{"node-drop":e.handleDrop}})],1)])]),a("div",{staticClass:"buttonWrapper"},[a("el-button",{attrs:{type:"danger"},on:{click:e.closePanel}},[e._v("取消")]),a("el-button",{attrs:{type:"success"},on:{click:e.submit}},[e._v("儲存")])],1)])},i=[],r=(a("4160"),a("a9e3"),a("159b"),a("96cf"),a("1da1")),s=a("9202"),o=a("b047"),c=a.n(o),l=a("a9dd"),u=a("ed08"),d={name:"SystemNavSequence",props:{id:{type:Number,default:null},action:{type:String,default:null},parent:{type:String,default:null}},data:function(){return{loading:!1,treeProps:{label:"title"},dataSource:[],expandedType:"all",dataSequence:{},get:{SystemNavSetting:s["a"].getSystemNavSequence},update:{SystemNavSetting:s["a"].updateSystemNavSequence}}},created:function(){this.getTreeData()},methods:{getTreeData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,Object(u["d"])(500);case 4:return a=l["k"],e.dataSource=a.list,t.next=8,e.$nextTick();case 8:e.handleExpandTypeChange(e.expandedType),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,11,13,16]])})))()},refresh:c()((function(){this.getTreeData()}),200),handleExpandTypeChange:function(e){var t=this.$refs["tree-sort-nav"].store._getAllNodes();t.forEach((function(t){var a=t;switch(e){case"all":a.expanded=!0;break;case"one":1===a.level&&a.childNodes.length?a.expanded=!0:a.expanded=!1;break;case"collapse":a.expanded=!1;break;default:}}))},handleDrop:function(e,t,a){var n=e;switch(a){case"before":case"after":n.data.parentId!==t.data.parentId&&(n.data.parentId=t.data.parentId);break;case"inner":n.data.parentId=t.data.id;break;default:break}},allowDrop:function(e,t,a){if("inner"===a&&1!==t.data.menuType)return!1;if(2===e.data.menuType&&1===t.level&&"inner"!==a)return!1;if(1===e.level){if(t.level>1)return!1;if("inner"===a)return!1}return!0},submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dataFormat(e.dataSource),e.dataSequence,t.prev=2,t.next=5,Object(u["d"])(500);case 5:e.$message({showClose:!0,type:"success",message:"編輯選單排序成功"}),e.$emit("refresh-page"),e.closePanel(),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](2);case 12:case"end":return t.stop()}}),t,null,[[2,10]])})))()},dataFormat:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.forEach((function(e){var n={id:e.id,parentId:e.parentId,sequence:a.length+1};a.push(n),e.children&&e.children.length>0&&t.dataFormat(e.children,a)})),this.dataSequence={list:a}},closePanel:function(){this.$parent.$emit("close")}}},p=d,m=(a("f48b"),a("2877")),f=Object(m["a"])(p,n,i,!1,null,"0bcbf488",null);t["default"]=f.exports},d8e4:function(e,t,a){"use strict";var n=a("0fd5"),i=a.n(n);i.a},dd2c:function(e){e.exports=JSON.parse('{"logOut":"登出","switchPlatform":"平台切換","userPreference":{"toggleMenuList":"隱藏左側選單","toggleTagList":"隱藏右側標籤列","recordTabs":"記錄本次開起 Tab","fontSize":"字型大小"}}')},dfd7:function(e,t,a){},e0ea:function(e,t,a){"use strict";var n=a("d131"),i=a.n(n);i.a},eb7e:function(e,t,a){},ec36:function(e,t,a){"use strict";var n=a("fb3b"),i=a.n(n);i.a},ed08:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"f",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"h",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"g",(function(){return m}));a("99af"),a("4de4"),a("4160"),a("a630"),a("c975"),a("a9e3"),a("b64b"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("3ca3"),a("5319"),a("159b"),a("ddb0"),a("2b3d");var n=a("2b0e"),i=a("c1df"),r=a.n(i);a("7f45"),a("a47e");function s(e){var t="";return Object.keys(e).forEach((function(a){(e[a]||!1===e[a])&&(t+="".concat(a,"=").concat(e[a],"&"))})),t.substring(0,t.length-1)}function o(e,t,a){t||0===t?t!==Number(t)?a(new Error("必須為數字")):t<1?a(new Error("必須大於 0")):a():a()}function c(e,t,a){var n=new RegExp("^[a-z]+$");t?n.test(t)?a():a(new Error("必須為英文小寫")):a(new Error("↑此項必填"))}function l(e,t,a){var i=[],r={};return Array.from(e).forEach((function(s){if(void 0===s._expanded&&n["default"].set(s,"_expanded",t),0!==s.parentId){var o=r[s.parentId]||e.filter((function(e){return e[a]===s.parentId&&(r[s.parentId]=e,!0)}))[0];n["default"].set(s,"_parent",o)}var c=0;s.parent&&(c=s.parent._level+1),n["default"].set(s,"_level",c);var l=e.filter((function(e){return e.parentId===s[a]}));n["default"].set(s,"children",l),i.push(s)})),i}function u(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}function d(e){var t=[];return function e(a){a.forEach((function(a){a.children.length?e(a.children):t.push(a)}))}(e),t}function p(e){var t=e,a=/#{APIPATH}/gi;t=t.replace(a,"https://pub-site-info.bckplat.info/api");var n=/<a /g;return t=t.replace(n,(function(e){return"".concat(e,'target="_blank" ')})),t}function m(e){var t=r()(e).locale("").format("YYYY-MM-DD");return t}},f361:function(e,t,a){"use strict";var n=a("1357"),i=a.n(n);i.a},f3f4:function(e,t,a){"use strict";a("99af");var n=a("ed08"),i=a("c1fb");t["a"]={addHandoversInfo:function(e){return Object(i["a"])({url:"/v1/handovers",method:"post",data:e})},getHandoversInfoList:function(e){return Object(i["a"])({url:"/v1/handovers",method:"get",params:e})},getHandoversInfo:function(e){return Object(i["a"])({url:"/v1/handovers/".concat(e),method:"get"})},updateHandoversInfo:function(e,t){return Object(i["a"])({url:"/v1/handovers/".concat(t),method:"patch",data:e})},deleteHandoversInfo:function(e){return Object(i["a"])({url:"/v1/handovers/".concat(e),method:"delete"})},getHandoverTypeTags:function(){return Object(i["a"])({url:"/v1/handoverTypeTags",method:"get"})},getHandoversReaders:function(e){return Object(i["a"])({url:"/v1/handovers/".concat(e,"/readers"),method:"get",id:e})},getHandoversEditors:function(e){return Object(i["a"])({url:"/v1/handovers/%".concat(e,"/editors"),method:"get",id:e})},updateHandoversclose:function(e){return Object(i["a"])({url:"/v1/handovers/".concat(e,"/close"),method:"put",id:e})},updateHandoversRead:function(e){return Object(i["a"])({url:"/v1/handoverRead",method:"put",data:e})},addHandoversRcollect:function(e){return Object(i["a"])({url:"/v1/handovers/".concat(e,"/collect"),method:"put",id:e})},deleteHandoverscollect:function(e){return Object(i["a"])({url:"/v1/handovers/".concat(e,"/collect"),method:"delete"})},getPublicUrl:function(e){return Object(i["a"])({url:"/v1/handovers/".concat(e,"/publicUrl"),method:"get"})},getPublicHandovers:function(e){return Object(i["a"])({url:"/v1/publicHandovers/".concat(e),method:"get",dropBearerToken:!0})},addHandoverMsgs:function(e,t){return Object(i["a"])({url:"/v1/handovers/".concat(e,"/handoverMsgs"),method:"post",data:t})},getHandoverMsgsList:function(e,t){var a=Object(n["b"])(t);return Object(i["a"])({url:"/v1/handovers/".concat(e,"/handoverMsgs?").concat(a),method:"get"})},getHandoverMsgs:function(e){return Object(i["a"])({url:"v1/handoverMsgs/".concat(e),method:"get"})},updateHandoverMsgs:function(e,t){return Object(i["a"])({url:"/v1/handoverMsgs/".concat(e),method:"patch",data:t})},deleteHandoverMsgs:function(e){return Object(i["a"])({url:"/v1/handoverMsgs/".concat(e),method:"delete"})}}},f441:function(e,t,a){},f48b:function(e,t,a){"use strict";var n=a("dfd7"),i=a.n(n);i.a},f524:function(e,t,a){},f532:function(e,t,a){},fb1b:function(e,t,a){},fb3b:function(e,t,a){}});